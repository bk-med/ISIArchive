/*! For license information please see main.150c9e39.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function y(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}function g(){}function v(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=v.prototype=new g;b.constructor=v,f(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:i,ref:o,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===s?"."+_(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),T(i,t,a,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+_(o=e[c],c);l+=T(o,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,a,d=s+_(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var n=[],a=0;return T(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},O={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,r){return M.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,r){return M.current.useReducer(e,t,r)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return M.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,x=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(x=!1,b(e),!f)if(null!==n(c))f=!0,O(j);else{var t=n(d);null!==t&&D(w,t.startTime-e)}}function j(e,r){f=!1,x&&(x=!1,g(C),C=-1),p=!0;var s=h;try{for(b(r),m=n(c);null!==m&&(!(m.expirationTime>r)||e&&!T());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===n(c)&&a(c),b(r)}else a(c);m=n(c)}if(null!==m)var l=!0;else{var u=n(d);null!==u&&D(w,u.startTime-r),l=!1}return l}finally{m=null,h=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,E=5,_=-1;function T(){return!(t.unstable_now()-_<E)}function P(){if(null!==S){var e=t.unstable_now();_=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,M=A.port2;A.port1.onmessage=P,N=function(){M.postMessage(null)}}else N=function(){y(P,0)};function O(e){S=e,k||(k=!0,N())}function D(e,r){C=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(x?(g(C),C=-1):x=!0,D(w,s-i))):(e.sortIndex=o,r(c,e),f||p||(f=!0,O(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,r)=>{e.exports=r(153)},730:(e,t,r)=>{var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,r,n,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,r,n){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);x[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,I=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(Je){var t=Je.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ge){var n=Ge}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ge){n=Ge}e.call(t.prototype)}else{try{throw Error()}catch(Ge){n=Ge}e()}}catch(Ge){if(Ge&&n&&"string"===typeof Ge.stack){for(var a=Ge.stack.split("\n"),s=n.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return B(e(t))}catch(Je){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var r=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function K(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Y(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&G(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ue(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function fe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=pe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(me).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var xe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,Ne=null;function ke(e){if(e=_a(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=Pa(t),we(e.stateNode,e.type,t))}}function Se(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ce(){if(je){var e=je,t=Ne;if(Ne=je=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function _e(){}var Te=!1;function Pe(e,t,r){if(Te)return e(t,r);Te=!0;try{return Ee(e,t,r)}finally{Te=!1,(null!==je||null!==Ne)&&(_e(),Ce())}}function Ae(e,t){var r=e.stateNode;if(null===r)return null;var n=Pa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Me=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(Xe){Me=!1}function De(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Re=!1,Le=null,Ie=!1,Fe=null,ze={onError:function(e){Re=!0,Le=e}};function Ve(e,t,r,n,a,s,i,o,l){Re=!1,Le=null,De.apply(ze,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return We(a),e;if(i===n)return We(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,et=a.unstable_requestPaint,tt=a.unstable_now,at=a.unstable_getCurrentPriorityLevel,it=a.unstable_ImmediatePriority,ot=a.unstable_UserBlockingPriority,lt=a.unstable_NormalPriority,ct=a.unstable_LowPriority,dt=a.unstable_IdlePriority,ut=null,mt=null;var ht=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/ft|0)|0},pt=Math.log,ft=Math.LN2;var xt=64,yt=4194304;function gt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~a;0!==o?n=gt(o):0!==(s&=i)&&(n=gt(s))}else 0!==(i=r&~a)?n=gt(i):0!==s&&(n=gt(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ht(t)),n|=e[r],t&=~a;return n}function bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function wt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(){var e=xt;return 0===(4194240&(xt<<=1))&&(xt=64),e}function Nt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function St(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ht(t)]=r}function Ct(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ht(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Et=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Tt,Pt,At,Mt,Ot,Dt=!1,Rt=[],Lt=null,It=null,Ft=null,zt=new Map,Ut=new Map,Bt=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ut.delete(t.pointerId)}}function qt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=_a(t))&&Pt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Zt(e){var t=Ea(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Be(r)))return e.blockedOn=t,void Ot(e.priority,(function(){At(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=ar(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=_a(r))&&Pt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Gt(e,t,r){$t(e)&&r.delete(t)}function Xt(){Dt=!1,null!==Lt&&$t(Lt)&&(Lt=null),null!==It&&$t(It)&&(It=null),null!==Ft&&$t(Ft)&&(Ft=null),zt.forEach(Gt),Ut.forEach(Gt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,Dt||(Dt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Xt)))}function Yt(e){function t(t){return Kt(t,e)}if(0<Rt.length){Kt(Rt[0],e);for(var r=1;r<Rt.length;r++){var n=Rt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Lt&&Kt(Lt,e),null!==It&&Kt(It,e),null!==Ft&&Kt(Ft,e),zt.forEach(t),Ut.forEach(t),r=0;r<Bt.length;r++)(n=Bt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&null===(r=Bt[0]).blockedOn;)Zt(r),null===r.blockedOn&&Bt.shift()}var Jt=b.ReactCurrentBatchConfig,Qt=!0;function er(e,t,r,n){var a=Et,s=Jt.transition;Jt.transition=null;try{Et=1,rr(e,t,r,n)}finally{Et=a,Jt.transition=s}}function tr(e,t,r,n){var a=Et,s=Jt.transition;Jt.transition=null;try{Et=4,rr(e,t,r,n)}finally{Et=a,Jt.transition=s}}function rr(e,t,r,n){if(Qt){var a=ar(e,t,r,n);if(null===a)Qn(e,t,n,nr,r),Ht(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Lt=qt(Lt,e,t,r,n,a),!0;case"dragenter":return It=qt(It,e,t,r,n,a),!0;case"mouseover":return Ft=qt(Ft,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return zt.set(s,qt(zt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ut.set(s,qt(Ut.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Ht(e,n),4&t&&-1<Wt.indexOf(e)){for(;null!==a;){var s=_a(a);if(null!==s&&Tt(s),null===(s=ar(e,t,r,n))&&Qn(e,t,n,nr,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Qn(e,t,n,null,r)}}var nr=null;function ar(e,t,r,n){if(nr=null,null!==(e=Ea(e=be(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nr=e,null}function sr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at()){case it:return 1;case ot:return 4;case lt:case ct:return 16;case dt:return 536870912;default:return 16}default:return 16}}var ir=null,or=null,lr=null;function cr(){if(lr)return lr;var e,t,r=or,n=r.length,a="value"in ir?ir.value:ir.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return lr=a.slice(e,1<t?1-t:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ur(){return!0}function mr(){return!1}function hr(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ur:mr,this.isPropagationStopped=mr,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),t}var pr,fr,xr,yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=hr(yr),vr=I({},yr,{view:0,detail:0}),br=hr(vr),wr=I({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&"mousemove"===e.type?(pr=e.screenX-xr.screenX,fr=e.screenY-xr.screenY):fr=pr=0,xr=e),pr)},movementY:function(e){return"movementY"in e?e.movementY:fr}}),jr=hr(wr),Nr=hr(I({},wr,{dataTransfer:0})),kr=hr(I({},vr,{relatedTarget:0})),Sr=hr(I({},yr,{animationName:0,elapsedTime:0,pseudoElement:0})),Cr=I({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Er=hr(Cr),_r=hr(I({},yr,{data:0})),Tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ar[e])&&!!t[e]}function Or(){return Mr}var Dr=I({},vr,{key:function(e){if(e.key){var t=Tr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return"keypress"===e.type?dr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rr=hr(Dr),Lr=hr(I({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ir=hr(I({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or})),Fr=hr(I({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0})),zr=I({},wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vr=hr(zr),Ur=[9,13,27,32],Br=d&&"CompositionEvent"in window,Wr=null;d&&"documentMode"in document&&(Wr=document.documentMode);var Hr=d&&"TextEvent"in window&&!Wr,qr=d&&(!Br||Wr&&8<Wr&&11>=Wr),Zr=String.fromCharCode(32),$r=!1;function Gr(e,t){switch(e){case"keyup":return-1!==Ur.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kr=!1;var Yr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yr[e.type]:"textarea"===t}function Qr(e,t,r,n){Se(n),0<(t=ta(t,"onChange")).length&&(r=new gr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var en=null,tn=null;function rn(e){$n(e,0)}function nn(e){if($(Ta(e)))return e}function an(e,t){if("change"===e)return t}var sn=!1;if(d){var on;if(d){var ln="oninput"in document;if(!ln){var cn=document.createElement("div");cn.setAttribute("oninput","return;"),ln="function"===typeof cn.oninput}on=ln}else on=!1;sn=on&&(!document.documentMode||9<document.documentMode)}function dn(){en&&(en.detachEvent("onpropertychange",un),tn=en=null)}function un(e){if("value"===e.propertyName&&nn(tn)){var t=[];Qr(t,tn,e,be(e)),Pe(rn,t)}}function mn(e,t,r){"focusin"===e?(dn(),tn=r,(en=t).attachEvent("onpropertychange",un)):"focusout"===e&&dn()}function hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nn(tn)}function pn(e,t){if("click"===e)return nn(t)}function fn(e,t){if("input"===e||"change"===e)return nn(t)}var xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yn(e,t){if(xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!xn(e[a],t[a]))return!1}return!0}function gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vn(e,t){var r,n=gn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gn(n)}}function bn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?bn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function wn(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(rt){r=!1}if(!r)break;t=G((e=t.contentWindow).document)}return t}function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Nn(e){var t=wn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bn(r.ownerDocument.documentElement,r)){if(null!==n&&jn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=vn(r,s);var i=vn(r,n);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kn=d&&"documentMode"in document&&11>=document.documentMode,Sn=null,Cn=null,En=null,_n=!1;function Tn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;_n||null==Sn||Sn!==G(n)||("selectionStart"in(n=Sn)&&jn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},En&&yn(En,n)||(En=n,0<(n=ta(Cn,"onSelect")).length&&(t=new gr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sn)))}function Pn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var An={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionend:Pn("Transition","TransitionEnd")},Mn={},On={};function Dn(e){if(Mn[e])return Mn[e];if(!An[e])return e;var t,r=An[e];for(t in r)if(r.hasOwnProperty(t)&&t in On)return Mn[e]=r[t];return e}d&&(On=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);var Rn=Dn("animationend"),Ln=Dn("animationiteration"),In=Dn("animationstart"),Fn=Dn("transitionend"),zn=new Map,Vn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){zn.set(e,t),l(t,[e])}for(var Bn=0;Bn<Vn.length;Bn++){var Wn=Vn[Bn];Un(Wn.toLowerCase(),"on"+(Wn[0].toUpperCase()+Wn.slice(1)))}Un(Rn,"onAnimationEnd"),Un(Ln,"onAnimationIteration"),Un(In,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Fn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hn));function Zn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,i,o,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(s(198));var d=Le;Re=!1,Le=null,Ie||(Ie=!0,Fe=d)}}(n,t,void 0,e),e.currentTarget=null}function $n(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Zn(a,o,c),s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Zn(a,o,c),s=l}}}if(Ie)throw e=Fe,Ie=!1,Fe=null,e}function Gn(e,t){var r=t[ka];void 0===r&&(r=t[ka]=new Set);var n=e+"__bubble";r.has(n)||(Jn(t,e,2,!1),r.add(n))}function Xn(e,t,r){var n=0;t&&(n|=4),Jn(r,e,n,t)}var Kn="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[Kn]){e[Kn]=!0,i.forEach((function(t){"selectionchange"!==t&&(qn.has(t)||Xn(t,!1,e),Xn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kn]||(t[Kn]=!0,Xn("selectionchange",!1,t))}}function Jn(e,t,r,n){switch(sr(t)){case 1:var a=er;break;case 4:a=tr;break;default:a=rr}r=a.bind(null,t,r,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=Ea(o)))return;if(5===(l=i.tag)||6===l){n=s=i;continue e}o=o.parentNode}}n=n.return}Pe((function(){var n=s,a=be(r),i=[];e:{var o=zn.get(e);if(void 0!==o){var l=gr,c=e;switch(e){case"keypress":if(0===dr(r))break e;case"keydown":case"keyup":l=Rr;break;case"focusin":c="focus",l=kr;break;case"focusout":c="blur",l=kr;break;case"beforeblur":case"afterblur":l=kr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ir;break;case Rn:case Ln:case In:l=Sr;break;case Fn:l=Fr;break;case"scroll":l=br;break;case"wheel":l=Vr;break;case"copy":case"cut":case"paste":l=Er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Lr}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var h,p=n;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=Ae(p,m))&&d.push(ea(p,f,h)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,r,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!Ea(c)&&!c[Na])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?Ea(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=jr,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Lr,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==l?o:Ta(l),h=null==c?o:Ta(c),(o=new d(f,p+"leave",l,r,a)).target=u,o.relatedTarget=h,f=null,Ea(a)===n&&((d=new d(m,p+"enter",c,r,a)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(m=c,p=0,h=d=l;h;h=ra(h))p++;for(h=0,f=m;f;f=ra(f))h++;for(;0<p-h;)d=ra(d),p--;for(;0<h-p;)m=ra(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=ra(d),m=ra(m)}d=null}else d=null;null!==l&&na(i,o,l,d,!1),null!==c&&null!==u&&na(i,u,c,d,!0)}if("select"===(l=(o=n?Ta(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=an;else if(Jr(o))if(sn)x=fn;else{x=hn;var y=mn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=pn);switch(x&&(x=x(e,n))?Qr(i,x,r,a):(y&&y(e,o,n),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=n?Ta(n):window,e){case"focusin":(Jr(y)||"true"===y.contentEditable)&&(Sn=y,Cn=n,En=null);break;case"focusout":En=Cn=Sn=null;break;case"mousedown":_n=!0;break;case"contextmenu":case"mouseup":case"dragend":_n=!1,Tn(i,r,a);break;case"selectionchange":if(kn)break;case"keydown":case"keyup":Tn(i,r,a)}var g;if(Br)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Kr?Gr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(qr&&"ko"!==r.locale&&(Kr||"onCompositionStart"!==v?"onCompositionEnd"===v&&Kr&&(g=cr()):(or="value"in(ir=a)?ir.value:ir.textContent,Kr=!0)),0<(y=ta(n,v)).length&&(v=new _r(v,e,null,r,a),i.push({event:v,listeners:y}),g?v.data=g:null!==(g=Xr(r))&&(v.data=g))),(g=Hr?function(e,t){switch(e){case"compositionend":return Xr(t);case"keypress":return 32!==t.which?null:($r=!0,Zr);case"textInput":return(e=t.data)===Zr&&$r?null:e;default:return null}}(e,r):function(e,t){if(Kr)return"compositionend"===e||!Br&&Gr(e,t)?(e=cr(),lr=or=ir=null,Kr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=ta(n,"onBeforeInput")).length&&(a=new _r("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=g))}$n(i,t)}))}function ea(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ta(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ae(e,r))&&n.unshift(ea(e,s,a)),null!=(s=Ae(e,t))&&n.push(ea(e,s,a))),e=e.return}return n}function ra(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function na(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ae(r,s))&&i.unshift(ea(r,l,o)):a||null!=(l=Ae(r,s))&&i.push(ea(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var aa=/\r\n?/g,sa=/\u0000|\uFFFD/g;function ia(e){return("string"===typeof e?e:""+e).replace(aa,"\n").replace(sa,"")}function oa(e,t,r){if(t=ia(t),ia(e)!==t&&r)throw Error(s(425))}function la(){}var ca=null,da=null;function ua(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ma="function"===typeof setTimeout?setTimeout:void 0,ha="function"===typeof clearTimeout?clearTimeout:void 0,pa="function"===typeof Promise?Promise:void 0,fa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pa?function(e){return pa.resolve(null).then(e).catch(xa)}:ma;function xa(e){setTimeout((function(){throw e}))}function ya(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Yt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Yt(t)}function ga(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function va(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ba=Math.random().toString(36).slice(2),wa="__reactFiber$"+ba,ja="__reactProps$"+ba,Na="__reactContainer$"+ba,ka="__reactEvents$"+ba,Sa="__reactListeners$"+ba,Ca="__reactHandles$"+ba;function Ea(e){var t=e[wa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Na]||r[wa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=va(e);null!==e;){if(r=e[wa])return r;e=va(e)}return t}r=(e=r).parentNode}return null}function _a(e){return!(e=e[wa]||e[Na])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ta(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Pa(e){return e[ja]||null}var Aa=[],Ma=-1;function Oa(e){return{current:e}}function Da(e){0>Ma||(e.current=Aa[Ma],Aa[Ma]=null,Ma--)}function Ra(e,t){Ma++,Aa[Ma]=e.current,e.current=t}var La={},Ia=Oa(La),Fa=Oa(!1),za=La;function Va(e,t){var r=e.type.contextTypes;if(!r)return La;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ua(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ba(){Da(Fa),Da(Ia)}function Wa(e,t,r){if(Ia.current!==La)throw Error(s(168));Ra(Ia,t),Ra(Fa,r)}function Ha(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return I({},r,n)}function qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||La,za=Ia.current,Ra(Ia,e),Ra(Fa,Fa.current),!0}function Za(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Ha(e,t,za),n.__reactInternalMemoizedMergedChildContext=e,Da(Fa),Da(Ia),Ra(Ia,e)):Da(Fa),Ra(Fa,r)}var $a=null,Ga=!1,Xa=!1;function Ka(e){null===$a?$a=[e]:$a.push(e)}function Ya(){if(!Xa&&null!==$a){Xa=!0;var e=0,t=Et;try{var r=$a;for(Et=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}$a=null,Ga=!1}catch(Ze){throw null!==$a&&($a=$a.slice(e+1)),Ke(it,Ya),Ze}finally{Et=t,Xa=!1}}return null}var Ja=[],Qa=0,es=null,ts=0,rs=[],ns=0,as=null,ss=1,is="";function os(e,t){Ja[Qa++]=ts,Ja[Qa++]=es,es=e,ts=t}function ls(e,t,r){rs[ns++]=ss,rs[ns++]=is,rs[ns++]=as,as=e;var n=ss;e=is;var a=32-ht(n)-1;n&=~(1<<a),r+=1;var s=32-ht(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ss=1<<32-ht(t)+a|r<<a|n,is=s+e}else ss=1<<s|r<<a|n,is=e}function cs(e){null!==e.return&&(os(e,1),ls(e,1,0))}function ds(e){for(;e===es;)es=Ja[--Qa],Ja[Qa]=null,ts=Ja[--Qa],Ja[Qa]=null;for(;e===as;)as=rs[--ns],rs[ns]=null,is=rs[--ns],rs[ns]=null,ss=rs[--ns],rs[ns]=null}var us=null,ms=null,hs=!1,ps=null;function fs(e,t){var r=Vc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function xs(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,us=e,ms=ga(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,us=e,ms=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==as?{id:ss,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Vc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,us=e,ms=null,!0);default:return!1}}function ys(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function gs(e){if(hs){var t=ms;if(t){var r=t;if(!xs(e,t)){if(ys(e))throw Error(s(418));t=ga(r.nextSibling);var n=us;t&&xs(e,t)?fs(n,r):(e.flags=-4097&e.flags|2,hs=!1,us=e)}}else{if(ys(e))throw Error(s(418));e.flags=-4097&e.flags|2,hs=!1,us=e}}}function vs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;us=e}function bs(e){if(e!==us)return!1;if(!hs)return vs(e),hs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ua(e.type,e.memoizedProps)),t&&(t=ms)){if(ys(e))throw ws(),Error(s(418));for(;t;)fs(e,t),t=ga(t.nextSibling)}if(vs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ms=ga(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ms=null}}else ms=us?ga(e.stateNode.nextSibling):null;return!0}function ws(){for(var e=ms;e;)e=ga(e.nextSibling)}function js(){ms=us=null,hs=!1}function Ns(e){null===ps?ps=[e]:ps.push(e)}var ks=b.ReactCurrentBatchConfig;function Ss(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Es(e){return(0,e._init)(e._payload)}function _s(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Zc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&Es(s)===t.type)?((n=a(t,r.props)).ref=Ss(e,t,r),n.return=e,n):((n=Wc(r.type,r.key,r.props,null,e.mode,n)).ref=Ss(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$c(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Hc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Zc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Wc(t.type,t.key,t.props,null,e.mode,r)).ref=Ss(e,null,t),r.return=e,r;case j:return(t=$c(t,e.mode,r)).return=e,t;case M:return m(e,(0,t._init)(t._payload),r)}if(te(t)||R(t))return(t=Hc(t,e.mode,r,null)).return=e,t;Cs(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case j:return r.key===a?d(e,t,r,n):null;case M:return h(e,t,(a=r._init)(r._payload),n)}if(te(r)||R(r))return null!==a?null:u(e,t,r,n,null);Cs(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case M:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||R(n))return u(t,e=e.get(r)||null,n,a,null);Cs(t,n)}return null}function f(a,s,o,l){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var y=h(a,u,o[f],l);if(null===y){null===u&&(u=x);break}e&&u&&null===y.alternate&&t(a,u),s=i(y,s,f),null===d?c=y:d.sibling=y,d=y,u=x}if(f===o.length)return r(a,u),hs&&os(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=m(a,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return hs&&os(a,f),c}for(u=n(a,u);f<o.length;f++)null!==(x=p(u,a,f,o[f],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=i(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(a,e)})),hs&&os(a,f),c}function x(a,o,l,c){var d=R(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=o,x=o=0,y=null,g=l.next();null!==f&&!g.done;x++,g=l.next()){f.index>x?(y=f,f=null):y=f.sibling;var v=h(a,f,g.value,c);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(a,f),o=i(v,o,x),null===u?d=v:u.sibling=v,u=v,f=y}if(g.done)return r(a,f),hs&&os(a,x),d;if(null===f){for(;!g.done;x++,g=l.next())null!==(g=m(a,g.value,c))&&(o=i(g,o,x),null===u?d=g:u.sibling=g,u=g);return hs&&os(a,x),d}for(f=n(a,f);!g.done;x++,g=l.next())null!==(g=p(f,a,x,g.value,c))&&(e&&null!==g.alternate&&f.delete(null===g.key?x:g.key),o=i(g,o,x),null===u?d=g:u.sibling=g,u=g);return e&&f.forEach((function(e){return t(a,e)})),hs&&os(a,x),d}return function e(n,s,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){r(n,d.sibling),(s=a(d,i.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Es(c)===d.type){r(n,d.sibling),(s=a(d,i.props)).ref=Ss(n,d,i),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}i.type===N?((s=Hc(i.props.children,n.mode,l,i.key)).return=n,n=s):((l=Wc(i.type,i.key,i.props,null,n.mode,l)).ref=Ss(n,s,i),l.return=n,n=l)}return o(n);case j:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){r(n,s.sibling),(s=a(s,i.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=$c(i,n.mode,l)).return=n,n=s}return o(n);case M:return e(n,s,(d=i._init)(i._payload),l)}if(te(i))return f(n,s,i,l);if(R(i))return x(n,s,i,l);Cs(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,i)).return=n,n=s):(r(n,s),(s=Zc(i,n.mode,l)).return=n,n=s),o(n)):r(n,s)}}var Ts=_s(!0),Ps=_s(!1),As=Oa(null),Ms=null,Os=null,Ds=null;function Rs(){Ds=Os=Ms=null}function Ls(e){var t=As.current;Da(As),e._currentValue=t}function Is(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fs(e,t){Ms=e,Ds=Os=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function zs(e){var t=e._currentValue;if(Ds!==e)if(e={context:e,memoizedValue:t,next:null},null===Os){if(null===Ms)throw Error(s(308));Os=e,Ms.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Vs=null;function Us(e){null===Vs?Vs=[e]:Vs.push(e)}function Bs(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Us(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ws(e,n)}function Ws(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Hs=!1;function qs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Il)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ws(e,r)}return null===(a=n.interleaved)?(t.next=t,Us(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ws(e,r)}function Xs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ct(e,r)}}function Ks(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ys(e,t,r,n){var a=e.updateQueue;Hs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var m=o.lane,h=o.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(m=t,h=r,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,u,m):p)||void 0===m)break e;u=I({},u,m);break e;case 2:Hs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);ql|=i,e.lanes=i,e.memoizedState=u}}function Js(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Qs={},ei=Oa(Qs),ti=Oa(Qs),ri=Oa(Qs);function ni(e){if(e===Qs)throw Error(s(174));return e}function ai(e,t){switch(Ra(ri,t),Ra(ti,e),Ra(ei,Qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Da(ei),Ra(ei,t)}function si(){Da(ei),Da(ti),Da(ri)}function ii(e){ni(ri.current);var t=ni(ei.current),r=le(t,e.type);t!==r&&(Ra(ti,e),Ra(ei,r))}function oi(e){ti.current===e&&(Da(ei),Da(ti))}var li=Oa(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function ui(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var mi=b.ReactCurrentDispatcher,hi=b.ReactCurrentBatchConfig,pi=0,fi=null,xi=null,yi=null,gi=!1,vi=!1,bi=0,wi=0;function ji(){throw Error(s(321))}function Ni(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xn(e[r],t[r]))return!1;return!0}function ki(e,t,r,n,a,i){if(pi=i,fi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=null===e||null===e.memoizedState?oo:lo,e=r(n,a),vi){i=0;do{if(vi=!1,bi=0,25<=i)throw Error(s(301));i+=1,yi=xi=null,t.updateQueue=null,mi.current=co,e=r(n,a)}while(vi)}if(mi.current=io,t=null!==xi&&null!==xi.next,pi=0,yi=xi=fi=null,gi=!1,t)throw Error(s(300));return e}function Si(){var e=0!==bi;return bi=0,e}function Ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yi?fi.memoizedState=yi=e:yi=yi.next=e,yi}function Ei(){if(null===xi){var e=fi.alternate;e=null!==e?e.memoizedState:null}else e=xi.next;var t=null===yi?fi.memoizedState:yi.next;if(null!==t)yi=t,xi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(xi=e).memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},null===yi?fi.memoizedState=yi=e:yi=yi.next=e}return yi}function _i(e,t){return"function"===typeof t?t(e):t}function Ti(e){var t=Ei(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=xi,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((pi&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=n):c=c.next=m,fi.lanes|=u,ql|=u}d=d.next}while(null!==d&&d!==i);null===c?o=n:c.next=l,xn(n,t.memoizedState)||(_o=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,fi.lanes|=i,ql|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pi(e){var t=Ei(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);xn(i,t.memoizedState)||(_o=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ai(){}function Mi(e,t){var r=fi,n=Ei(),a=t(),i=!xn(n.memoizedState,a);if(i&&(n.memoizedState=a,_o=!0),n=n.queue,Hi(Ri.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==yi&&1&yi.memoizedState.tag){if(r.flags|=2048,zi(9,Di.bind(null,r,n,a,t),void 0,null),null===Fl)throw Error(s(349));0!==(30&pi)||Oi(r,t,a)}return a}function Oi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Di(e,t,r,n){t.value=r,t.getSnapshot=n,Li(t)&&Ii(e)}function Ri(e,t,r){return r((function(){Li(t)&&Ii(e)}))}function Li(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xn(e,r)}catch(rt){return!0}}function Ii(e){var t=Ws(e,1);null!==t&&uc(t,e,1,-1)}function Fi(e){var t=Ci();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},t.queue=e,e=e.dispatch=ro.bind(null,fi,e),[t.memoizedState,e]}function zi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Vi(){return Ei().memoizedState}function Ui(e,t,r,n){var a=Ci();fi.flags|=e,a.memoizedState=zi(1|t,r,void 0,void 0===n?null:n)}function Bi(e,t,r,n){var a=Ei();n=void 0===n?null:n;var s=void 0;if(null!==xi){var i=xi.memoizedState;if(s=i.destroy,null!==n&&Ni(n,i.deps))return void(a.memoizedState=zi(t,r,s,n))}fi.flags|=e,a.memoizedState=zi(1|t,r,s,n)}function Wi(e,t){return Ui(8390656,8,e,t)}function Hi(e,t){return Bi(2048,8,e,t)}function qi(e,t){return Bi(4,2,e,t)}function Zi(e,t){return Bi(4,4,e,t)}function $i(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Bi(4,4,$i.bind(null,t,e),r)}function Xi(){}function Ki(e,t){var r=Ei();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ni(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yi(e,t){var r=Ei();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ni(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ji(e,t,r){return 0===(21&pi)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=r):(xn(r,t)||(r=jt(),fi.lanes|=r,ql|=r,e.baseState=!0),t)}function Qi(e,t){var r=Et;Et=0!==r&&4>r?r:4,e(!0);var n=hi.transition;hi.transition={};try{e(!1),t()}finally{Et=r,hi.transition=n}}function eo(){return Ei().memoizedState}function to(e,t,r){var n=dc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},no(e))ao(t,r);else if(null!==(r=Bs(e,t,r,n))){uc(r,e,n,cc()),so(r,t,n)}}function ro(e,t,r){var n=dc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(no(e))ao(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,xn(o,i)){var l=t.interleaved;return null===l?(a.next=a,Us(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(Ge){}null!==(r=Bs(e,t,a,n))&&(uc(r,e,n,a=cc()),so(r,t,n))}}function no(e){var t=e.alternate;return e===fi||null!==t&&t===fi}function ao(e,t){vi=gi=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function so(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ct(e,r)}}var io={readContext:zs,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},oo={readContext:zs,useCallback:function(e,t){return Ci().memoizedState=[e,void 0===t?null:t],e},useContext:zs,useEffect:Wi,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ui(4194308,4,$i.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var r=Ci();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ci();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=to.bind(null,fi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ci().memoizedState=e},useState:Fi,useDebugValue:Xi,useDeferredValue:function(e){return Ci().memoizedState=e},useTransition:function(){var e=Fi(!1),t=e[0];return e=Qi.bind(null,e[1]),Ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fi,a=Ci();if(hs){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Fl)throw Error(s(349));0!==(30&pi)||Oi(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Wi(Ri.bind(null,n,i,e),[e]),n.flags|=2048,zi(9,Di.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ci(),t=Fl.identifierPrefix;if(hs){var r=is;t=":"+t+"R"+(r=(ss&~(1<<32-ht(ss)-1)).toString(32)+r),0<(r=bi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:zs,useCallback:Ki,useContext:zs,useEffect:Hi,useImperativeHandle:Gi,useInsertionEffect:qi,useLayoutEffect:Zi,useMemo:Yi,useReducer:Ti,useRef:Vi,useState:function(){return Ti(_i)},useDebugValue:Xi,useDeferredValue:function(e){return Ji(Ei(),xi.memoizedState,e)},useTransition:function(){return[Ti(_i)[0],Ei().memoizedState]},useMutableSource:Ai,useSyncExternalStore:Mi,useId:eo,unstable_isNewReconciler:!1},co={readContext:zs,useCallback:Ki,useContext:zs,useEffect:Hi,useImperativeHandle:Gi,useInsertionEffect:qi,useLayoutEffect:Zi,useMemo:Yi,useReducer:Pi,useRef:Vi,useState:function(){return Pi(_i)},useDebugValue:Xi,useDeferredValue:function(e){var t=Ei();return null===xi?t.memoizedState=e:Ji(t,xi.memoizedState,e)},useTransition:function(){return[Pi(_i)[0],Ei().memoizedState]},useMutableSource:Ai,useSyncExternalStore:Mi,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){for(var r in t=I({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function mo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:I({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ho={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cc(),a=dc(e),s=$s(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Gs(e,s,a))&&(uc(t,e,a,n),Xs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cc(),a=dc(e),s=$s(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Gs(e,s,a))&&(uc(t,e,a,n),Xs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cc(),n=dc(e),a=$s(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Gs(e,a,n))&&(uc(t,e,n,r),Xs(t,e,n))}};function po(e,t,r,n,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!yn(r,n)||!yn(a,s))}function fo(e,t,r){var n=!1,a=La,s=t.contextType;return"object"===typeof s&&null!==s?s=zs(s):(a=Ua(t)?za:Ia.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Va(e,a):La),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ho,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function xo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function yo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=zs(s):(s=Ua(t)?za:Ia.current,a.context=Va(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(mo(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ho.enqueueReplaceState(a,a.state,null),Ys(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function go(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var a=r}catch(nt){a="\nError generating stack: "+nt.message+"\n"+nt.stack}return{value:e,source:t,stack:a,digest:null}}function vo(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function bo(e,t){try{console.error(t.value)}catch(Je){setTimeout((function(){throw Je}))}}var wo="function"===typeof WeakMap?WeakMap:Map;function jo(e,t,r){(r=$s(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ql||(Ql=!0,ec=n),bo(0,t)},r}function No(e,t,r){(r=$s(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){bo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){bo(0,t),"function"!==typeof n&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ko(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new wo;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Dc.bind(null,e,t,r),t.then(e,e))}function So(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Co(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=$s(-1,1)).tag=2,Gs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Eo=b.ReactCurrentOwner,_o=!1;function To(e,t,r,n){t.child=null===e?Ps(t,null,r,n):Ts(t,e.child,r,n)}function Po(e,t,r,n,a){r=r.render;var s=t.ref;return Fs(t,a),n=ki(e,t,r,n,s,a),r=Si(),null===e||_o?(hs&&r&&cs(t),t.flags|=1,To(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qo(e,t,a))}function Ao(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Uc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Wc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Mo(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:yn)(i,n)&&e.ref===t.ref)return Qo(e,t,a)}return t.flags|=1,(e=Bc(s,n)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(yn(s,n)&&e.ref===t.ref){if(_o=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Qo(e,t,a);0!==(131072&e.flags)&&(_o=!0)}}return Ro(e,t,r,n,a)}function Oo(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ra(Bl,Ul),Ul|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ra(Bl,Ul),Ul|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ra(Bl,Ul),Ul|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ra(Bl,Ul),Ul|=n;return To(e,t,a,r),t.child}function Do(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,r,n,a){var s=Ua(r)?za:Ia.current;return s=Va(t,s),Fs(t,a),r=ki(e,t,r,n,s,a),n=Si(),null===e||_o?(hs&&n&&cs(t),t.flags|=1,To(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Qo(e,t,a))}function Lo(e,t,r,n,a){if(Ua(r)){var s=!0;qa(t)}else s=!1;if(Fs(t,a),null===t.stateNode)Jo(e,t),fo(t,r,n),yo(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=zs(c):c=Va(t,c=Ua(r)?za:Ia.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&xo(t,i,n,c),Hs=!1;var m=t.memoizedState;i.state=m,Ys(t,n,i,a),l=t.memoizedState,o!==n||m!==l||Fa.current||Hs?("function"===typeof d&&(mo(t,r,d,n),l=t.memoizedState),(o=Hs||po(t,r,o,n,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Zs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=zs(l):l=Va(t,l=Ua(r)?za:Ia.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&xo(t,i,n,l),Hs=!1,m=t.memoizedState,i.state=m,Ys(t,n,i,a);var p=t.memoizedState;o!==u||m!==p||Fa.current||Hs?("function"===typeof h&&(mo(t,r,h,n),p=t.memoizedState),(c=Hs||po(t,r,c,n,m,p,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Io(e,t,r,n,s,a)}function Io(e,t,r,n,a,s){Do(e,t);var i=0!==(128&t.flags);if(!n&&!i)return a&&Za(t,r,!1),Qo(e,t,s);n=t.stateNode,Eo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,o,s)):To(e,t,o,s),t.memoizedState=n.state,a&&Za(t,r,!0),t.child}function Fo(e){var t=e.stateNode;t.pendingContext?Wa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Wa(0,t.context,!1),ai(e,t.containerInfo)}function zo(e,t,r,n,a){return js(),Ns(a),t.flags|=256,To(e,t,r,n),t.child}var Vo,Uo,Bo,Wo,Ho={dehydrated:null,treeContext:null,retryLane:0};function qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zo(e,t,r){var n,a=t.pendingProps,i=li.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ra(li,1&i),null===e)return gs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=qc(l,a,0,null),e=Hc(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qo(r),t.memoizedState=Ho,e):$o(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,a,i,o){if(r)return 256&t.flags?(t.flags&=-257,Go(e,t,o,n=vo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=qc({mode:"visible",children:n.children},a,0,null),(i=Hc(i,a,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&Ts(t,e.child,null,o),t.child.memoizedState=qo(o),t.memoizedState=Ho,i);if(0===(1&t.mode))return Go(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Go(e,t,o,n=vo(i=Error(s(419)),n,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(n=Fl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ws(e,a),uc(n,e,a,-1))}return kc(),Go(e,t,o,n=vo(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ms=ga(a.nextSibling),us=t,hs=!0,ps=null,null!==e&&(rs[ns++]=ss,rs[ns++]=is,rs[ns++]=as,ss=e.id,is=e.overflow,as=t),t=$o(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,i,r);if(o){o=a.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Bc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Bc(n,o):(o=Hc(o,l,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?qo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Ho,a}return e=(o=e.child).sibling,a=Bc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function $o(e,t){return(t=qc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Go(e,t,r,n){return null!==n&&Ns(n),Ts(t,e.child,null,r),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Is(e.return,t,r)}function Ko(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Yo(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(To(e,t,n.children,r),0!==(2&(n=li.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xo(e,r,t);else if(19===e.tag)Xo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ra(li,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ci(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ko(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ci(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ko(t,!0,r,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),ql|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Bc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Bc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function el(e,t){if(!hs)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rl(e,t,r){var n=t.pendingProps;switch(ds(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(t),null;case 1:case 17:return Ua(t.type)&&Ba(),tl(t),null;case 3:return n=t.stateNode,si(),Da(Fa),Da(Ia),ui(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ps&&(fc(ps),ps=null))),Uo(e,t),tl(t),null;case 5:oi(t);var a=ni(ri.current);if(r=t.type,null!==e&&null!=t.stateNode)Bo(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return tl(t),null}if(e=ni(ei.current),bs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wa]=t,n[ja]=i,e=0!==(1&t.mode),r){case"dialog":Gn("cancel",n),Gn("close",n);break;case"iframe":case"object":case"embed":Gn("load",n);break;case"video":case"audio":for(a=0;a<Hn.length;a++)Gn(Hn[a],n);break;case"source":Gn("error",n);break;case"img":case"image":case"link":Gn("error",n),Gn("load",n);break;case"details":Gn("toggle",n);break;case"input":K(n,i),Gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Gn("invalid",n);break;case"textarea":ae(n,i),Gn("invalid",n)}for(var l in ye(r,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&oa(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&oa(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Gn("scroll",n)}switch(r){case"input":Z(n),Q(n,i,!0);break;case"textarea":Z(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=la)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[wa]=t,e[ja]=n,Vo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ge(r,n),r){case"dialog":Gn("cancel",e),Gn("close",e),a=n;break;case"iframe":case"object":case"embed":Gn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Hn.length;a++)Gn(Hn[a],e);a=n;break;case"source":Gn("error",e),a=n;break;case"img":case"image":case"link":Gn("error",e),Gn("load",e),a=n;break;case"details":Gn("toggle",e),a=n;break;case"input":K(e,n),a=X(e,n),Gn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=I({},n,{value:void 0}),Gn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Gn("invalid",e)}for(i in ye(r,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?fe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Gn("scroll",e):null!=d&&v(e,i,d,l))}switch(r){case"input":Z(e),Q(e,n,!1);break;case"textarea":Z(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=la)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return tl(t),null;case 6:if(e&&null!=t.stateNode)Wo(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=ni(ri.current),ni(ei.current),bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[wa]=t,(i=n.nodeValue!==r)&&null!==(e=us))switch(e.tag){case 3:oa(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oa(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[wa]=t,t.stateNode=n}return tl(t),null;case 13:if(Da(li),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(hs&&null!==ms&&0!==(1&t.mode)&&0===(128&t.flags))ws(),js(),t.flags|=98560,i=!1;else if(i=bs(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[wa]=t}else js(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;tl(t),i=!1}else null!==ps&&(fc(ps),ps=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&li.current)?0===Wl&&(Wl=3):kc())),null!==t.updateQueue&&(t.flags|=4),tl(t),null);case 4:return si(),Uo(e,t),null===e&&Yn(t.stateNode.containerInfo),tl(t),null;case 10:return Ls(t.type._context),tl(t),null;case 19:if(Da(li),null===(i=t.memoizedState))return tl(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)el(i,!1);else{if(0!==Wl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ci(e))){for(t.flags|=128,el(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ra(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&tt()>Yl&&(t.flags|=128,n=!0,el(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ci(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),el(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!hs)return tl(t),null}else 2*tt()-i.renderingStartTime>Yl&&1073741824!==r&&(t.flags|=128,n=!0,el(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,r=li.current,Ra(li,n?1&r|2:1&r),t):(tl(t),null);case 22:case 23:return bc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ul)&&(tl(t),6&t.subtreeFlags&&(t.flags|=8192)):tl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function nl(e,t){switch(ds(t),t.tag){case 1:return Ua(t.type)&&Ba(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return si(),Da(Fa),Da(Ia),ui(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oi(t),null;case 13:if(Da(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));js()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Da(li),null;case 4:return si(),null;case 10:return Ls(t.type._context),null;case 22:case 23:return bc(),null;default:return null}}Vo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Uo=function(){},Bo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ni(ei.current);var s,i=null;switch(r){case"input":a=X(e,a),n=X(e,n),i=[];break;case"select":a=I({},a,{value:void 0}),n=I({},n,{value:void 0}),i=[];break;case"textarea":a=ne(e,a),n=ne(e,n),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=la)}for(d in ye(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Gn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Wo=function(e,t,r,n){r!==n&&(t.flags|=4)};var al=!1,sl=!1,il="function"===typeof WeakSet?WeakSet:Set,ol=null;function ll(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(rt){Oc(e,t,rt)}else r.current=null}function cl(e,t,r){try{r()}catch(rt){Oc(e,t,rt)}}var dl=!1;function ul(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&cl(t,r,s)}a=a.next}while(a!==n)}}function ml(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[wa],delete t[ja],delete t[ka],delete t[Sa],delete t[Ca])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fl(e){return 5===e.tag||3===e.tag||4===e.tag}function xl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=la));else if(4!==n&&null!==(e=e.child))for(yl(e,t,r),e=e.sibling;null!==e;)yl(e,t,r),e=e.sibling}function gl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}var vl=null,bl=!1;function wl(e,t,r){for(r=r.child;null!==r;)jl(e,t,r),r=r.sibling}function jl(e,t,r){if(mt&&"function"===typeof mt.onCommitFiberUnmount)try{mt.onCommitFiberUnmount(ut,r)}catch(st){}switch(r.tag){case 5:sl||ll(r,t);case 6:var n=vl,a=bl;vl=null,wl(e,t,r),bl=a,null!==(vl=n)&&(bl?(e=vl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):vl.removeChild(r.stateNode));break;case 18:null!==vl&&(bl?(e=vl,r=r.stateNode,8===e.nodeType?ya(e.parentNode,r):1===e.nodeType&&ya(e,r),Yt(e)):ya(vl,r.stateNode));break;case 4:n=vl,a=bl,vl=r.stateNode.containerInfo,bl=!0,wl(e,t,r),vl=n,bl=a;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&cl(r,t,i),a=a.next}while(a!==n)}wl(e,t,r);break;case 1:if(!sl&&(ll(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(st){Oc(r,t,st)}wl(e,t,r);break;case 21:wl(e,t,r);break;case 22:1&r.mode?(sl=(n=sl)||null!==r.memoizedState,wl(e,t,r),sl=n):wl(e,t,r);break;default:wl(e,t,r)}}function Nl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new il),t.forEach((function(t){var n=Ic.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function kl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:vl=l.stateNode,bl=!1;break e;case 3:case 4:vl=l.stateNode.containerInfo,bl=!0;break e}l=l.return}if(null===vl)throw Error(s(160));jl(i,o,a),vl=null,bl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(Ge){Oc(a,t,Ge)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Sl(t,e),t=t.sibling}function Sl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kl(t,e),Cl(e),4&n){try{ul(3,e,e.return),ml(3,e)}catch($e){Oc(e,e.return,$e)}try{ul(5,e,e.return)}catch($e){Oc(e,e.return,$e)}}break;case 1:kl(t,e),Cl(e),512&n&&null!==r&&ll(r,r.return);break;case 5:if(kl(t,e),Cl(e),512&n&&null!==r&&ll(r,r.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch($e){Oc(e,e.return,$e)}}if(4&n&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(a,i),ge(l,o);var d=ge(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?fe(a,m):"dangerouslySetInnerHTML"===u?de(a,m):"children"===u?ue(a,m):v(a,u,m,d)}switch(l){case"input":J(a,i);break;case"textarea":se(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(a,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(a,!!i.multiple,i.defaultValue,!0):re(a,!!i.multiple,i.multiple?[]:"",!1))}a[ja]=i}catch($e){Oc(e,e.return,$e)}}break;case 6:if(kl(t,e),Cl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch($e){Oc(e,e.return,$e)}}break;case 3:if(kl(t,e),Cl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch($e){Oc(e,e.return,$e)}break;case 4:default:kl(t,e),Cl(e);break;case 13:kl(t,e),Cl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Kl=tt())),4&n&&Nl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(sl=(d=sl)||u,kl(t,e),sl=d):kl(t,e),Cl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(ol=e,u=e.child;null!==u;){for(m=ol=u;null!==ol;){switch(p=(h=ol).child,h.tag){case 0:case 11:case 14:case 15:ul(4,h,h.return);break;case 1:ll(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){n=h,r=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch($e){Oc(n,r,$e)}}break;case 5:ll(h,h.return);break;case 22:if(null!==h.memoizedState){Pl(m);continue}}null!==p?(p.return=h,ol=p):Pl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch($e){Oc(e,e.return,$e)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch($e){Oc(e,e.return,$e)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:kl(t,e),Cl(e),4&n&&Nl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(fl(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(ue(a,""),n.flags&=-33),gl(e,xl(e),a);break;case 3:case 4:var i=n.stateNode.containerInfo;yl(e,xl(e),i);break;default:throw Error(s(161))}}catch(Vt){Oc(e,e.return,Vt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function El(e,t,r){ol=e,_l(e,t,r)}function _l(e,t,r){for(var n=0!==(1&e.mode);null!==ol;){var a=ol,s=a.child;if(22===a.tag&&n){var i=null!==a.memoizedState||al;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||sl;o=al;var c=sl;if(al=i,(sl=l)&&!c)for(ol=a;null!==ol;)l=(i=ol).child,22===i.tag&&null!==i.memoizedState?Al(a):null!==l?(l.return=i,ol=l):Al(a);for(;null!==s;)ol=s,_l(s,t,r),s=s.sibling;ol=a,al=o,sl=c}Tl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,ol=s):Tl(e)}}function Tl(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sl||ml(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!sl)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:uo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Js(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Js(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Yt(m)}}}break;default:throw Error(s(163))}sl||512&t.flags&&hl(t)}catch(h){Oc(t,t.return,h)}}if(t===e){ol=null;break}if(null!==(r=t.sibling)){r.return=t.return,ol=r;break}ol=t.return}}function Pl(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var r=t.sibling;if(null!==r){r.return=t.return,ol=r;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ml(4,t)}catch(Vt){Oc(t,r,Vt)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(Vt){Oc(t,a,Vt)}}var s=t.return;try{hl(t)}catch(Vt){Oc(t,s,Vt)}break;case 5:var i=t.return;try{hl(t)}catch(Vt){Oc(t,i,Vt)}}}catch(Vt){Oc(t,t.return,Vt)}if(t===e){ol=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ol=o;break}ol=t.return}}var Ml,Ol=Math.ceil,Dl=b.ReactCurrentDispatcher,Rl=b.ReactCurrentOwner,Ll=b.ReactCurrentBatchConfig,Il=0,Fl=null,zl=null,Vl=0,Ul=0,Bl=Oa(0),Wl=0,Hl=null,ql=0,Zl=0,$l=0,Gl=null,Xl=null,Kl=0,Yl=1/0,Jl=null,Ql=!1,ec=null,tc=null,rc=!1,nc=null,ac=0,sc=0,ic=null,oc=-1,lc=0;function cc(){return 0!==(6&Il)?tt():-1!==oc?oc:oc=tt()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Vl?Vl&-Vl:null!==ks.transition?(0===lc&&(lc=jt()),lc):0!==(e=Et)?e:e=void 0===(e=window.event)?16:sr(e.type)}function uc(e,t,r,n){if(50<sc)throw sc=0,ic=null,Error(s(185));St(e,r,n),0!==(2&Il)&&e===Fl||(e===Fl&&(0===(2&Il)&&(Zl|=r),4===Wl&&xc(e,Vl)),mc(e,n),1===r&&0===Il&&0===(1&t.mode)&&(Yl=tt()+500,Ga&&Ya()))}function mc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-ht(s),o=1<<i,l=a[i];-1===l?0!==(o&r)&&0===(o&n)||(a[i]=bt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=vt(e,e===Fl?Vl:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Ga=!0,Ka(e)}(yc.bind(null,e)):Ka(yc.bind(null,e)),fa((function(){0===(6&Il)&&Ya()})),r=null;else{switch(_t(n)){case 1:r=it;break;case 4:r=ot;break;case 16:default:r=lt;break;case 536870912:r=dt}r=Fc(r,hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hc(e,t){if(oc=-1,lc=0,0!==(6&Il))throw Error(s(327));var r=e.callbackNode;if(Ac()&&e.callbackNode!==r)return null;var n=vt(e,e===Fl?Vl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=Sc(e,n);else{t=n;var a=Il;Il|=2;var i=Nc();for(Fl===e&&Vl===t||(Jl=null,Yl=tt()+500,wc(e,t));;)try{Ec();break}catch(st){jc(e,st)}Rs(),Dl.current=i,Il=a,null!==zl?t=0:(Fl=null,Vl=0,t=Wl)}if(0!==t){if(2===t&&(0!==(a=wt(e))&&(n=a,t=pc(e,a))),1===t)throw r=Hl,wc(e,0),xc(e,n),mc(e,tt()),r;if(6===t)xc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!xn(s(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Sc(e,n))&&(0!==(i=wt(e))&&(n=i,t=pc(e,i))),1===t))throw r=Hl,wc(e,0),xc(e,n),mc(e,tt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Pc(e,Xl,Jl);break;case 3:if(xc(e,n),(130023424&n)===n&&10<(t=Kl+500-tt())){if(0!==vt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){cc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ma(Pc.bind(null,e,Xl,Jl),t);break}Pc(e,Xl,Jl);break;case 4:if(xc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ht(n);i=1<<o,(o=t[o])>a&&(a=o),n&=~i}if(n=a,10<(n=(120>(n=tt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ol(n/1960))-n)){e.timeoutHandle=ma(Pc.bind(null,e,Xl,Jl),n);break}Pc(e,Xl,Jl);break;default:throw Error(s(329))}}}return mc(e,tt()),e.callbackNode===r?hc.bind(null,e):null}function pc(e,t){var r=Gl;return e.current.memoizedState.isDehydrated&&(wc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Xl,Xl=r,null!==t&&fc(t)),e}function fc(e){null===Xl?Xl=e:Xl.push.apply(Xl,e)}function xc(e,t){for(t&=~$l,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),n=1<<r;e[r]=-1,t&=~n}}function yc(e){if(0!==(6&Il))throw Error(s(327));Ac();var t=vt(e,0);if(0===(1&t))return mc(e,tt()),null;var r=Sc(e,t);if(0!==e.tag&&2===r){var n=wt(e);0!==n&&(t=n,r=pc(e,n))}if(1===r)throw r=Hl,wc(e,0),xc(e,t),mc(e,tt()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pc(e,Xl,Jl),mc(e,tt()),null}function gc(e,t){var r=Il;Il|=1;try{return e(t)}finally{0===(Il=r)&&(Yl=tt()+500,Ga&&Ya())}}function vc(e){null!==nc&&0===nc.tag&&0===(6&Il)&&Ac();var t=Il;Il|=1;var r=Ll.transition,n=Et;try{if(Ll.transition=null,Et=1,e)return e()}finally{Et=n,Ll.transition=r,0===(6&(Il=t))&&Ya()}}function bc(){Ul=Bl.current,Da(Bl)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ha(r)),null!==zl)for(r=zl.return;null!==r;){var n=r;switch(ds(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ba();break;case 3:si(),Da(Fa),Da(Ia),ui();break;case 5:oi(n);break;case 4:si();break;case 13:case 19:Da(li);break;case 10:Ls(n.type._context);break;case 22:case 23:bc()}r=r.return}if(Fl=e,zl=e=Bc(e.current,null),Vl=Ul=t,Wl=0,Hl=null,$l=Zl=ql=0,Xl=Gl=null,null!==Vs){for(t=0;t<Vs.length;t++)if(null!==(n=(r=Vs[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var i=s.next;s.next=a,n.next=i}r.pending=n}Vs=null}return e}function jc(e,t){for(;;){var r=zl;try{if(Rs(),mi.current=io,gi){for(var n=fi.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}gi=!1}if(pi=0,yi=xi=fi=null,vi=!1,bi=0,Rl.current=null,null===r||null===r.return){Wl=1,Hl=t,zl=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Vl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=So(o);if(null!==p){p.flags&=-257,Co(p,o,l,0,t),1&p.mode&&ko(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){ko(i,d,t),kc();break e}c=Error(s(426))}else if(hs&&1&l.mode){var y=So(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Co(y,o,l,0,t),Ns(go(c,l));break e}}i=c=go(c,l),4!==Wl&&(Wl=2),null===Gl?Gl=[i]:Gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ks(i,jo(0,c,t));break e;case 1:l=c;var g=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof g.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===tc||!tc.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Ks(i,No(i,l,t));break e}}i=i.return}while(null!==i)}Tc(r)}catch(b){t=b,zl===r&&null!==r&&(zl=r=r.return);continue}break}}function Nc(){var e=Dl.current;return Dl.current=io,null===e?io:e}function kc(){0!==Wl&&3!==Wl&&2!==Wl||(Wl=4),null===Fl||0===(268435455&ql)&&0===(268435455&Zl)||xc(Fl,Vl)}function Sc(e,t){var r=Il;Il|=2;var n=Nc();for(Fl===e&&Vl===t||(Jl=null,wc(e,t));;)try{Cc();break}catch(Ze){jc(e,Ze)}if(Rs(),Il=r,Dl.current=n,null!==zl)throw Error(s(261));return Fl=null,Vl=0,Wl}function Cc(){for(;null!==zl;)_c(zl)}function Ec(){for(;null!==zl&&!Qe();)_c(zl)}function _c(e){var t=Ml(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,null===t?Tc(e):zl=t,Rl.current=null}function Tc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=rl(r,t,Ul)))return void(zl=r)}else{if(null!==(r=nl(r,t)))return r.flags&=32767,void(zl=r);if(null===e)return Wl=6,void(zl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zl=t);zl=t=e}while(null!==t);0===Wl&&(Wl=5)}function Pc(e,t,r){var n=Et,a=Ll.transition;try{Ll.transition=null,Et=1,function(e,t,r,n){do{Ac()}while(null!==nc);if(0!==(6&Il))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ht(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,i),e===Fl&&(zl=Fl=null,Vl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||rc||(rc=!0,Fc(lt,(function(){return Ac(),null}))),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Ll.transition,Ll.transition=null;var o=Et;Et=1;var l=Il;Il|=4,Rl.current=null,function(e,t){if(ca=Qt,jn(e=wn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(kt){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||0!==a&&3!==m.nodeType||(l=o+a),m!==i||0!==n&&3!==m.nodeType||(c=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===n&&(c=o),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(da={focusedElem:e,selectionRange:r},Qt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,y=f.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:uo(t.type,x),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(kt){Oc(t,t.return,kt)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}f=dl,dl=!1}(e,r),Sl(r,e),Nn(da),Qt=!!ca,da=ca=null,e.current=r,El(r,e,a),et(),Il=l,Et=o,Ll.transition=i}else e.current=r;if(rc&&(rc=!1,nc=e,ac=a),i=e.pendingLanes,0===i&&(tc=null),function(e){if(mt&&"function"===typeof mt.onCommitFiberRoot)try{mt.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),mc(e,tt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ql)throw Ql=!1,e=ec,ec=null,e;0!==(1&ac)&&0!==e.tag&&Ac(),i=e.pendingLanes,0!==(1&i)?e===ic?sc++:(sc=0,ic=e):sc=0,Ya()}(e,t,r,n)}finally{Ll.transition=a,Et=n}return null}function Ac(){if(null!==nc){var e=_t(ac),t=Ll.transition,r=Et;try{if(Ll.transition=null,Et=16>e?16:e,null===nc)var n=!1;else{if(e=nc,nc=null,ac=0,0!==(6&Il))throw Error(s(331));var a=Il;for(Il|=4,ol=e.current;null!==ol;){var i=ol,o=i.child;if(0!==(16&ol.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(ol=d;null!==ol;){var u=ol;switch(u.tag){case 0:case 11:case 15:ul(8,u,i)}var m=u.child;if(null!==m)m.return=u,ol=m;else for(;null!==ol;){var h=(u=ol).sibling,p=u.return;if(pl(u),u===d){ol=null;break}if(null!==h){h.return=p,ol=h;break}ol=p}}}var f=i.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(null!==x)}}ol=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,ol=o;else e:for(;null!==ol;){if(0!==(2048&(i=ol).flags))switch(i.tag){case 0:case 11:case 15:ul(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,ol=g;break e}ol=i.return}}var v=e.current;for(ol=v;null!==ol;){var b=(o=ol).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,ol=b;else e:for(o=v;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:ml(9,l)}}catch(j){Oc(l,l.return,j)}if(l===o){ol=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ol=w;break e}ol=l.return}}if(Il=a,Ya(),mt&&"function"===typeof mt.onPostCommitFiberRoot)try{mt.onPostCommitFiberRoot(ut,e)}catch(j){}n=!0}return n}finally{Et=r,Ll.transition=t}}return!1}function Mc(e,t,r){e=Gs(e,t=jo(0,t=go(r,t),1),1),t=cc(),null!==e&&(St(e,1,t),mc(e,t))}function Oc(e,t,r){if(3===e.tag)Mc(e,e,r);else for(;null!==t;){if(3===t.tag){Mc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===tc||!tc.has(n))){t=Gs(t,e=No(t,e=go(r,e),1),1),e=cc(),null!==t&&(St(t,1,e),mc(t,e));break}}t=t.return}}function Dc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&r,Fl===e&&(Vl&r)===r&&(4===Wl||3===Wl&&(130023424&Vl)===Vl&&500>tt()-Kl?wc(e,0):$l|=r),mc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var r=cc();null!==(e=Ws(e,t))&&(St(e,t,r),mc(e,r))}function Lc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Rc(e,r)}function Ic(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Rc(e,r)}function Fc(e,t){return Ke(e,t)}function zc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(e,t,r,n){return new zc(e,t,r,n)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var r=e.alternate;return null===r?((r=Vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wc(e,t,r,n,a,i){var o=2;if(n=e,"function"===typeof e)Uc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Hc(r.children,a,i,t);case k:o=8,a|=8;break;case S:return(e=Vc(12,r,t,2|a)).elementType=S,e.lanes=i,e;case T:return(e=Vc(13,r,t,a)).elementType=T,e.lanes=i,e;case P:return(e=Vc(19,r,t,a)).elementType=P,e.lanes=i,e;case O:return qc(r,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case _:o=11;break e;case A:o=14;break e;case M:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Vc(o,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Hc(e,t,r,n){return(e=Vc(7,e,n,t)).lanes=r,e}function qc(e,t,r,n){return(e=Vc(22,e,n,t)).elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function Zc(e,t,r){return(e=Vc(6,e,null,t)).lanes=r,e}function $c(e,t,r){return(t=Vc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nt(0),this.expirationTimes=Nt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xc(e,t,r,n,a,s,i,o,l){return e=new Gc(e,t,r,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Vc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qs(s),e}function Kc(e){if(!e)return La;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ua(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ua(r))return Ha(e,r,t)}return t}function Yc(e,t,r,n,a,s,i,o,l){return(e=Xc(r,n,!0,e,0,s,0,o,l)).context=Kc(null),r=e.current,(s=$s(n=cc(),a=dc(r))).callback=void 0!==t&&null!==t?t:null,Gs(r,s,a),e.current.lanes=a,St(e,a,n),mc(e,n),e}function Jc(e,t,r,n){var a=t.current,s=cc(),i=dc(a);return r=Kc(r),null===t.context?t.context=r:t.pendingContext=r,(t=$s(s,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Gs(a,t,i))&&(uc(e,a,i,s),Xs(e,a,i)),i}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Ml=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fa.current)_o=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return _o=!1,function(e,t,r){switch(t.tag){case 3:Fo(t),js();break;case 5:ii(t);break;case 1:Ua(t.type)&&qa(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ra(As,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ra(li,1&li.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Zo(e,t,r):(Ra(li,1&li.current),null!==(e=Qo(e,t,r))?e.sibling:null);Ra(li,1&li.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Yo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ra(li,li.current),n)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,r)}return Qo(e,t,r)}(e,t,r);_o=0!==(131072&e.flags)}else _o=!1,hs&&0!==(1048576&t.flags)&&ls(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jo(e,t),e=t.pendingProps;var a=Va(t,Ia.current);Fs(t,r),a=ki(null,t,n,e,a,r);var i=Si();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ua(n)?(i=!0,qa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,qs(t),a.updater=ho,t.stateNode=a,a._reactInternals=t,yo(t,n,e,r),t=Io(null,t,n,!0,i,r)):(t.tag=0,hs&&i&&cs(t),To(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Uc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(n),e=uo(n,e),a){case 0:t=Ro(null,t,n,e,r);break e;case 1:t=Lo(null,t,n,e,r);break e;case 11:t=Po(null,t,n,e,r);break e;case 14:t=Ao(null,t,n,uo(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ro(e,t,n,a=t.elementType===n?a:uo(n,a),r);case 1:return n=t.type,a=t.pendingProps,Lo(e,t,n,a=t.elementType===n?a:uo(n,a),r);case 3:e:{if(Fo(t),null===e)throw Error(s(387));n=t.pendingProps,a=(i=t.memoizedState).element,Zs(e,t),Ys(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=zo(e,t,n,r,a=go(Error(s(423)),t));break e}if(n!==a){t=zo(e,t,n,r,a=go(Error(s(424)),t));break e}for(ms=ga(t.stateNode.containerInfo.firstChild),us=t,hs=!0,ps=null,r=Ps(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(js(),n===a){t=Qo(e,t,r);break e}To(e,t,n,r)}t=t.child}return t;case 5:return ii(t),null===e&&gs(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,ua(n,a)?o=null:null!==i&&ua(n,i)&&(t.flags|=32),Do(e,t),To(e,t,o,r),t.child;case 6:return null===e&&gs(t),null;case 13:return Zo(e,t,r);case 4:return ai(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ts(t,null,n,r):To(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Po(e,t,n,a=t.elementType===n?a:uo(n,a),r);case 7:return To(e,t,t.pendingProps,r),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ra(As,n._currentValue),n._currentValue=o,null!==i)if(xn(i.value,o)){if(i.children===a.children&&!Fa.current){t=Qo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=$s(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Is(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Is(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}To(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Fs(t,r),n=n(a=zs(a)),t.flags|=1,To(e,t,n,r),t.child;case 14:return a=uo(n=t.type,t.pendingProps),Ao(e,t,n,a=uo(n.type,a),r);case 15:return Mo(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:uo(n,a),Jo(e,t),t.tag=1,Ua(n)?(e=!0,qa(t)):e=!1,Fs(t,r),fo(t,n,a),yo(t,n,a,r),Io(null,t,n,!0,e,r);case 19:return Yo(e,t,r);case 22:return Oo(e,t,r)}throw Error(s(156,t.tag))};var rd="function"===typeof reportError?reportError:function(e){console.error(e)};function nd(e){this._internalRoot=e}function ad(e){this._internalRoot=e}function sd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function id(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function od(){}function ld(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Qc(i);o.call(e)}}Jc(t,i,e,a)}else i=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Qc(i);s.call(e)}}var i=Yc(t,n,e,0,null,!1,0,"",od);return e._reactRootContainer=i,e[Na]=i.current,Yn(8===e.nodeType?e.parentNode:e),vc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Qc(l);o.call(e)}}var l=Xc(e,0,!1,null,0,!1,0,"",od);return e._reactRootContainer=l,e[Na]=l.current,Yn(8===e.nodeType?e.parentNode:e),vc((function(){Jc(t,l,r,n)})),l}(r,t,e,a,n);return Qc(i)}ad.prototype.render=nd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jc(e,t,null,null)},ad.prototype.unmount=nd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc((function(){Jc(null,e,null,null)})),t[Na]=null}},ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&0!==t&&t<Bt[r].priority;r++);Bt.splice(r,0,e),0===r&&Zt(e)}},Tt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gt(t.pendingLanes);0!==r&&(Ct(t,1|r),mc(t,tt()),0===(6&Il)&&(Yl=tt()+500,Ya()))}break;case 13:vc((function(){var t=Ws(e,1);if(null!==t){var r=cc();uc(t,e,1,r)}})),td(e,1)}},Pt=function(e){if(13===e.tag){var t=Ws(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},At=function(e){if(13===e.tag){var t=dc(e),r=Ws(e,t);if(null!==r)uc(r,e,t,cc());td(e,t)}},Mt=function(){return Et},Ot=function(e,t){var r=Et;try{return Et=e,t()}finally{Et=r}},we=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Pa(n);if(!a)throw Error(s(90));$(n),J(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=gc,_e=vc;var cd={usingClientEntryPoint:!1,Events:[_a,Ta,Pa,Se,Ce,gc]},dd={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{ut=md.inject(ud),mt=md}catch(Xe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sd(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!sd(e))throw Error(s(299));var r=!1,n="",a=rd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Xc(e,1,!1,null,0,r,0,n,a),e[Na]=t.current,Yn(8===e.nodeType?e.parentNode:e),new nd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,r){if(!id(t))throw Error(s(200));return ld(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!sd(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,i="",o=rd;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Yc(t,null,e,1,null!=r?r:null,a,0,i,o),e[Na]=t.current,Yn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ad(t)},t.render=function(e,t,r){if(!id(t))throw Error(s(200));return ld(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!id(e))throw Error(s(40));return!!e._reactRootContainer&&(vc((function(){ld(null,null,e,!1,(function(){e._reactRootContainer=null,e[Na]=null}))})),!0)},t.unstable_batchedUpdates=gc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!id(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ld(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,r.d(s,i),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>un,hasStandardBrowserEnv:()=>hn,hasStandardBrowserWebWorkerEnv:()=>pn,navigator:()=>mn,origin:()=>fn});var a,s=r(43),i=r.t(s,2),o=r(391),l=r(950),c=r.t(l,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ze){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,r,n){return void 0===r&&(r=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function y(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t,r,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=a.Pop,c=null,h=y();function y(){return(o.state||{idx:null}).idx}function g(){l=a.Pop;let e=y(),t=null==e?null:e-h;h=e,c&&c({action:l,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:x(e);return r=r.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==h&&(h=0,o.replaceState(d({},o.state,{idx:h}),""));let b={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(u,g),c=e,()=>{s.removeEventListener(u,g),c=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let n=f(b.location,e,t);r&&r(n,e),h=y()+1;let d=p(n,h),u=b.createHref(n);try{o.pushState(d,"",u)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(u)}i&&c&&c({action:l,location:b.location,delta:1})},replace:function(e,t){l=a.Replace;let n=f(b.location,e,t);r&&r(n,e),h=y();let s=p(n,h),d=b.createHref(n);o.replaceState(s,"",d),i&&c&&c({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,r){return void 0===r&&(r="/"),w(e,t,r,!1)}function w(e,t,r,n){let a=R(("string"===typeof t?y(t):t).pathname||"/",r);if(null==a)return null;let s=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=D(a);i=M(s[o],e,n)}return i}function j(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(m(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=V([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),j(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of N(e.path))a(e,t,n);else a(e,t)})),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=N(n.join("/")),o=[];return o.push(...i.map((e=>""===e?s:[s,e].join("/")))),a&&o.push(...i),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,S=3,C=2,E=1,_=10,T=-2,P=e=>"*"===e;function A(e,t){let r=e.split("/"),n=r.length;return r.some(P)&&(n+=T),t&&(n+=C),r.filter((e=>!P(e))).reduce(((e,t)=>e+(k.test(t)?S:""===t?E:_)),n)}function M(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:V([s,d.pathname]),pathnameBase:U(V([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=V([s,d.pathnameBase]))}return i}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function L(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let r=I(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function z(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=y(e):(a=d({},e),m(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),m(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),m(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?y(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:B(n),hash:W(a)}}(a,s),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],Z=(new Set(q),["get",...q]);new Set(Z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$.apply(this,arguments)}const G=s.createContext(null);const X=s.createContext(null);const K=s.createContext(null);const Y=s.createContext(null);const J=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=s.createContext(null);function ee(){return null!=s.useContext(Y)}function te(){return ee()||m(!1),s.useContext(Y).location}function re(e){s.useContext(K).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext(J);return e?function(){let{router:e}=pe(me.UseNavigateStable),t=xe(he.UseNavigateStable),r=s.useRef(!1);re((()=>{r.current=!0}));let n=s.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,$({fromRouteId:t},a)))}),[e,t]);return n}():function(){ee()||m(!1);let e=s.useContext(G),{basename:t,future:r,navigator:n}=s.useContext(K),{matches:a}=s.useContext(J),{pathname:i}=te(),o=JSON.stringify(F(a,r.v7_relativeSplatPath)),l=s.useRef(!1);return re((()=>{l.current=!0})),s.useCallback((function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let s=z(r,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:V([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)}),[t,n,o,i,e])}()}function ae(){let{matches:e}=s.useContext(J),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=s.useContext(K),{matches:a}=s.useContext(J),{pathname:i}=te(),o=JSON.stringify(F(a,n.v7_relativeSplatPath));return s.useMemo((()=>z(e,JSON.parse(o),i,"path"===r)),[e,o,i,r])}function ie(e,t,r,n){ee()||m(!1);let{navigator:i}=s.useContext(K),{matches:o}=s.useContext(J),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,h=te();if(t){var p;let e="string"===typeof t?y(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||m(!1),u=e}else u=h;let f=u.pathname||"/",x=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=b(e,{pathname:x});let v=ue(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:V([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,n);return t&&v?s.createElement(Y.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},v):v}function oe(){let e=function(){var e;let t=s.useContext(Q),r=fe(he.UseRouteError),n=xe(he.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),r?s.createElement("pre",{style:a},r):null,null)}const le=s.createElement(oe,null);class ce extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(J.Provider,{value:this.props.routeContext},s.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:r,children:n}=e,a=s.useContext(G);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),s.createElement(J.Provider,{value:t},n)}function ue(e,t,r,n){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||m(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,n,a)=>{let i,u=!1,m=null,h=null;var p;r&&(i=l&&n.route.id?l[n.route.id]:void 0,m=n.route.errorElement||le,c&&(d<0&&0===a?(p="route-fallback",!1||ye[p]||(ye[p]=!0),u=!0,h=null):d===a&&(u=!0,h=n.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,a+1)),x=()=>{let t;return t=i?m:u?h:n.route.Component?s.createElement(n.route.Component,null):n.route.element?n.route.element:e,s.createElement(de,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?s.createElement(ce,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()}),null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function pe(e){let t=s.useContext(G);return t||m(!1),t}function fe(e){let t=s.useContext(X);return t||m(!1),t}function xe(e){let t=function(){let e=s.useContext(J);return e||m(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||m(!1),r.route.id}const ye={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ve(e){let{to:t,replace:r,state:n,relative:a}=e;ee()||m(!1);let{future:i,static:o}=s.useContext(K),{matches:l}=s.useContext(J),{pathname:c}=te(),d=ne(),u=z(t,F(l,i.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(u);return s.useEffect((()=>d(JSON.parse(h),{replace:r,state:n,relative:a})),[d,h,a,r,n]),null}function be(e){m(!1)}function we(e){let{basename:t="/",children:r=null,location:n,navigationType:i=a.Pop,navigator:o,static:l=!1,future:c}=e;ee()&&m(!1);let d=t.replace(/^\/*/,"/"),u=s.useMemo((()=>({basename:d,navigator:o,static:l,future:$({v7_relativeSplatPath:!1},c)})),[d,c,o,l]);"string"===typeof n&&(n=y(n));let{pathname:h="/",search:p="",hash:f="",state:x=null,key:g="default"}=n,v=s.useMemo((()=>{let e=R(h,d);return null==e?null:{location:{pathname:e,search:p,hash:f,state:x,key:g},navigationType:i}}),[d,h,p,f,x,g,i]);return null==v?null:s.createElement(K.Provider,{value:u},s.createElement(Y.Provider,{children:r,value:v}))}function je(e){let{children:t,location:r}=e;return ie(Ne(t),r)}new Promise((()=>{}));s.Component;function Ne(e,t){void 0===t&&(t=[]);let r=[];return s.Children.forEach(e,((e,n)=>{if(!s.isValidElement(e))return;let a=[...t,n];if(e.type===s.Fragment)return void r.push.apply(r,Ne(e.props.children,a));e.type!==be&&m(!1),e.props.index&&e.props.children&&m(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,a)),r.push(i)})),r}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Ce(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map((e=>[r,e])):[[r,n]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_e=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Ze){}const Te=s.createContext({isTransitioning:!1});new Map;const Pe=i.startTransition;c.flushSync,i.useId;function Ae(e){let{basename:t,children:r,future:n,window:a}=e,i=s.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),g((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return f("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:x(t)}),null,o)));let l=i.current,[c,d]=s.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},m=s.useCallback((e=>{u&&Pe?Pe((()=>d(e))):d(e)}),[d,u]);return s.useLayoutEffect((()=>l.listen(m)),[l,m]),s.useEffect((()=>ge(n)),[n]),s.createElement(we,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const Me="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Oe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=s.forwardRef((function(e,t){let r,{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,p=Se(e,Ee),{basename:f}=s.useContext(K),y=!1;if("string"===typeof d&&Oe.test(d)&&(r=d,Me))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=R(t.pathname,f);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:y=!0}catch(Ze){}let g=function(e,t){let{relative:r}=void 0===t?{}:t;ee()||m(!1);let{basename:n,navigator:a}=s.useContext(K),{hash:i,pathname:o,search:l}=se(e,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:V([n,o])),a.createHref({pathname:c,search:l,hash:i})}(d,{relative:a}),v=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),d=te(),u=se(e,{relative:o});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:x(d)===x(u);c(e,{replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l})}}),[d,c,u,n,a,r,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});return s.createElement("a",ke({},p,{href:r||g,onClick:y||i?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))}));const Re=s.forwardRef((function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:d}=e,u=Se(e,_e),h=se(l,{relative:u.relative}),p=te(),f=s.useContext(X),{navigator:x,basename:y}=s.useContext(K),g=null!=f&&function(e,t){void 0===t&&(t={});let r=s.useContext(Te);null==r&&m(!1);let{basename:n}=Fe(Le.useViewTransitionState),a=se(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=R(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=R(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=O(a.pathname,o)||null!=O(a.pathname,i)}(h)&&!0===c,v=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,b=p.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(b=b.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&y&&(w=R(w,y)||w);const j="/"!==v&&v.endsWith("/")?v.length-1:v.length;let N,k=b===v||!i&&b.startsWith(v)&&"/"===b.charAt(j),S=null!=w&&(w===v||!i&&w.startsWith(v)&&"/"===w.charAt(v.length)),C={isActive:k,isPending:S,isTransitioning:g},E=k?r:void 0;N="function"===typeof a?a(C):[a,k?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof o?o(C):o;return s.createElement(De,ke({},u,{"aria-current":E,className:N,ref:t,style:_,to:l,viewTransition:c}),"function"===typeof d?d(C):d)}));var Le,Ie;function Fe(e){let t=s.useContext(G);return t||m(!1),t}function ze(e){let t=s.useRef(Ce(e)),r=s.useRef(!1),n=te(),a=s.useMemo((()=>function(e,t){let r=Ce(e);return t&&t.forEach(((e,n)=>{r.has(n)||t.getAll(n).forEach((e=>{r.append(n,e)}))})),r}(n.search,r.current?null:t.current)),[n.search]),i=ne(),o=s.useCallback(((e,t)=>{const n=Ce("function"===typeof e?e(a):e);r.current=!0,i("?"+n,t)}),[i,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function Ve(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Be(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:t+""}function We(e,t,r){return(t=Be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Ze={data:""},$e=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ze,Ge=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Xe=/\/\*[^]*?\*\/|  +/g,Ke=/\n+/g,Ye=(e,t)=>{let r="",n="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+i+";":n+="f"==s[1]?Ye(i,s):s+"{"+Ye(i,"k"==s[1]?"":t)+"}":"object"==typeof i?n+=Ye(i,t?t.replace(/([^,])+/g,(e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ye.p?Ye.p(s,i):s+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Je={},Qe=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+Qe(e[r]);return t}return e},et=(e,t,r,n,a)=>{let s=Qe(e),i=Je[s]||(Je[s]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(s));if(!Je[i]){let t=s!==e?e:(e=>{let t,r,n=[{}];for(;t=Ge.exec(e.replace(Xe,""));)t[4]?n.shift():t[3]?(r=t[3].replace(Ke," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(Ke," ").trim();return n[0]})(e);Je[i]=Ye(a?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&Je.g?Je.g:null;return r&&(Je.g=Je[i]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(Je[i],t,n,o),i};function tt(e){let t=this||{},r=e.call?e(t.p):e;return et(r.unshift?r.raw?((e,t,r)=>e.reduce(((e,n,a)=>{let s=t[a];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Ye(e,""):!1===e?"":e}return e+n+(null==s?"":s)}),""))(r,[].slice.call(arguments,1),t.p):r.reduce(((e,r)=>Object.assign(e,r&&r.call?r(t.p):r)),{}):r,$e(t.target),t.g,t.o,t.k)}tt.bind({g:1});let rt,nt,at,st=tt.bind({k:1});function it(e,t){let r=this||{};return function(){let n=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;r.p=Object.assign({theme:nt&&nt()},o),r.o=/ *go\d+/.test(l),o.className=tt.apply(r,n)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),at&&c[0]&&at(o),rt(c,o)}return t?t(a):a}}var ot,lt,ct,dt,ut,mt,ht,pt,ft,xt,yt,gt,vt,bt,wt,jt,Nt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,kt=(()=>{let e=0;return()=>(++e).toString()})(),St=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ct=(e,t)=>{switch(t.type){case 0:return qe(qe({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return qe(qe({},e),{},{toasts:e.toasts.map((e=>e.id===t.toast.id?qe(qe({},e),t.toast):e))});case 2:let{toast:r}=t;return Ct(e,{type:e.toasts.find((e=>e.id===r.id))?1:0,toast:r});case 3:let{toastId:n}=t;return qe(qe({},e),{},{toasts:e.toasts.map((e=>e.id===n||void 0===n?qe(qe({},e),{},{dismissed:!0,visible:!1}):e))});case 4:return void 0===t.toastId?qe(qe({},e),{},{toasts:[]}):qe(qe({},e),{},{toasts:e.toasts.filter((e=>e.id!==t.toastId))});case 5:return qe(qe({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return qe(qe({},e),{},{pausedAt:void 0,toasts:e.toasts.map((e=>qe(qe({},e),{},{pauseDuration:e.pauseDuration+a})))})}},Et=[],_t={toasts:[],pausedAt:void 0},Tt=e=>{_t=Ct(_t,e),Et.forEach((e=>{e(_t)}))},Pt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},At=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return qe(qe({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||kt()})}(t,e,r);return Tt({type:2,toast:n}),n.id},Mt=(e,t)=>At("blank")(e,t);Mt.error=At("error"),Mt.success=At("success"),Mt.loading=At("loading"),Mt.custom=At("custom"),Mt.dismiss=e=>{Tt({type:3,toastId:e})},Mt.remove=e=>Tt({type:4,toastId:e}),Mt.promise=(e,t,r)=>{let n=Mt.loading(t.loading,qe(qe({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?Nt(t.success,e):void 0;return a?Mt.success(a,qe(qe({id:n},r),null==r?void 0:r.success)):Mt.dismiss(n),e})).catch((e=>{let a=t.error?Nt(t.error,e):void 0;a?Mt.error(a,qe(qe({id:n},r),null==r?void 0:r.error)):Mt.dismiss(n)})),e};var Ot=(e,t)=>{Tt({type:1,toast:{id:e,height:t}})},Dt=()=>{Tt({type:5,time:Date.now()})},Rt=new Map,Lt=e=>{let{toasts:t,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,s.useState)(_t),n=(0,s.useRef)(_t);(0,s.useEffect)((()=>(n.current!==_t&&r(_t),Et.push(r),()=>{let e=Et.indexOf(r);e>-1&&Et.splice(e,1)})),[]);let a=t.toasts.map((t=>{var r,n,a;return qe(qe(qe(qe({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Pt[t.type],style:qe(qe(qe({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})}));return qe(qe({},t),{},{toasts:a})}(e);(0,s.useEffect)((()=>{if(r)return;let e=Date.now(),n=t.map((t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout((()=>Mt.dismiss(t.id)),r);t.visible&&Mt.dismiss(t.id)}));return()=>{n.forEach((e=>e&&clearTimeout(e)))}}),[t,r]);let n=(0,s.useCallback)((()=>{r&&Tt({type:6,time:Date.now()})}),[r]),a=(0,s.useCallback)(((e,r)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:s}=r||{},i=t.filter((t=>(t.position||s)===(e.position||s)&&t.height)),o=i.findIndex((t=>t.id===e.id)),l=i.filter(((e,t)=>t<o&&e.visible)).length;return i.filter((e=>e.visible)).slice(...n?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[t]);return(0,s.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Rt.has(e))return;let r=setTimeout((()=>{Rt.delete(e),Tt({type:4,toastId:e})}),t);Rt.set(e,r)}(e.id,e.removeDelay);else{let t=Rt.get(e.id);t&&(clearTimeout(t),Rt.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:Ot,startPause:Dt,endPause:n,calculateOffset:a}}},It=st(ot||(ot=Ve(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ft=st(lt||(lt=Ve(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),zt=st(ct||(ct=Ve(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Vt=it("div")(dt||(dt=Ve(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),It,Ft,(e=>e.secondary||"#fff"),zt),Ut=st(ut||(ut=Ve(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Bt=it("div")(mt||(mt=Ve(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),Ut),Wt=st(ht||(ht=Ve(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ht=st(pt||(pt=Ve(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),qt=it("div")(ft||(ft=Ve(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),Wt,Ht,(e=>e.secondary||"#fff")),Zt=it("div")(xt||(xt=Ve(["\n  position: absolute;\n"]))),$t=it("div")(yt||(yt=Ve(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Gt=st(gt||(gt=Ve(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Xt=it("div")(vt||(vt=Ve(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Gt),Kt=e=>{let{toast:t}=e,{icon:r,type:n,iconTheme:a}=t;return void 0!==r?"string"==typeof r?s.createElement(Xt,null,r):r:"blank"===n?null:s.createElement($t,null,s.createElement(Bt,qe({},a)),"loading"!==n&&s.createElement(Zt,null,"error"===n?s.createElement(Vt,qe({},a)):s.createElement(qt,qe({},a))))},Yt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Jt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Qt=it("div")(bt||(bt=Ve(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),er=it("div")(wt||(wt=Ve(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),tr=s.memo((e=>{let{toast:t,position:r,style:n,children:a}=e,i=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,a]=St()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Yt(r),Jt(r)];return{animation:t?"".concat(st(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(st(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},o=s.createElement(Kt,{toast:t}),l=s.createElement(er,qe({},t.ariaProps),Nt(t.message,t));return s.createElement(Qt,{className:t.className,style:qe(qe(qe({},i),n),t.style)},"function"==typeof a?a({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))}));!function(e,t,r,n){Ye.p=t,rt=e,nt=r,at=n}(s.createElement);var rr=e=>{let{id:t,className:r,style:n,onHeightUpdate:a,children:i}=e,o=s.useCallback((e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;a(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,a]);return s.createElement("div",{ref:o,className:r,style:n},i)},nr=tt(jt||(jt=Ve(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ar=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:n,gutter:a,children:i,containerStyle:o,containerClassName:l}=e,{toasts:c,handlers:d}=Lt(n);return s.createElement("div",{id:"_rht_toaster",style:qe({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map((e=>{let n=e.position||r,o=((e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return qe(qe({left:0,right:0,display:"flex",position:"absolute",transition:St()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},n),a)})(n,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:r}));return s.createElement(rr,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?nr:"",style:o},"custom"===e.type?Nt(e.message,e):i?i(e):s.createElement(tr,{toast:e,position:n}))})))},sr=Mt;function ir(e,t){return function(){return e.apply(t,arguments)}}const{toString:or}=Object.prototype,{getPrototypeOf:lr}=Object,{iterator:cr,toStringTag:dr}=Symbol,ur=(mr=Object.create(null),e=>{const t=or.call(e);return mr[t]||(mr[t]=t.slice(8,-1).toLowerCase())});var mr;const hr=e=>(e=e.toLowerCase(),t=>ur(t)===e),pr=e=>t=>typeof t===e,{isArray:fr}=Array,xr=pr("undefined");const yr=hr("ArrayBuffer");const gr=pr("string"),vr=pr("function"),br=pr("number"),wr=e=>null!==e&&"object"===typeof e,jr=e=>{if("object"!==ur(e))return!1;const t=lr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(dr in e)&&!(cr in e)},Nr=hr("Date"),kr=hr("File"),Sr=hr("Blob"),Cr=hr("FileList"),Er=hr("URLSearchParams"),[_r,Tr,Pr,Ar]=["ReadableStream","Request","Response","Headers"].map(hr);function Mr(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),fr(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(r=0;r<s;r++)i=n[r],t.call(null,e[i],i,e)}}function Or(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const Dr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Rr=e=>!xr(e)&&e!==Dr;const Lr=(Ir="undefined"!==typeof Uint8Array&&lr(Uint8Array),e=>Ir&&e instanceof Ir);var Ir;const Fr=hr("HTMLFormElement"),zr=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),Vr=hr("RegExp"),Ur=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Mr(r,((r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)})),Object.defineProperties(e,n)};const Br=hr("AsyncFunction"),Wr=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],Dr.addEventListener("message",(e=>{let{source:t,data:a}=e;t===Dr&&a===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),Dr.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,vr(Dr.postMessage)),Hr="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Dr):"undefined"!==typeof process&&process.nextTick||Wr,qr={isArray:fr,isArrayBuffer:yr,isBuffer:function(e){return null!==e&&!xr(e)&&null!==e.constructor&&!xr(e.constructor)&&vr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||vr(e.append)&&("formdata"===(t=ur(e))||"object"===t&&vr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&yr(e.buffer),t},isString:gr,isNumber:br,isBoolean:e=>!0===e||!1===e,isObject:wr,isPlainObject:jr,isReadableStream:_r,isRequest:Tr,isResponse:Pr,isHeaders:Ar,isUndefined:xr,isDate:Nr,isFile:kr,isBlob:Sr,isRegExp:Vr,isFunction:vr,isStream:e=>wr(e)&&vr(e.pipe),isURLSearchParams:Er,isTypedArray:Lr,isFileList:Cr,forEach:Mr,merge:function e(){const{caseless:t}=Rr(this)&&this||{},r={},n=(n,a)=>{const s=t&&Or(r,a)||a;jr(r[s])&&jr(n)?r[s]=e(r[s],n):jr(n)?r[s]=e({},n):fr(n)?r[s]=n.slice():r[s]=n};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Mr(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Mr(t,((t,n)=>{r&&vr(t)?e[n]=ir(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,i;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&lr(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:ur,kindOfTest:hr,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(fr(e))return e;let t=e.length;if(!br(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[cr]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Fr,hasOwnProperty:zr,hasOwnProp:zr,reduceDescriptors:Ur,freezeMethods:e=>{Ur(e,((t,r)=>{if(vr(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];vr(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return fr(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Or,global:Dr,isContextDefined:Rr,isSpecCompliantForm:function(e){return!!(e&&vr(e.append)&&"FormData"===e[dr]&&e[cr])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(wr(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=fr(e)?[]:{};return Mr(e,((e,t)=>{const s=r(e,n+1);!xr(s)&&(a[t]=s)})),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:Br,isThenable:e=>e&&(wr(e)||vr(e))&&vr(e.then)&&vr(e.catch),setImmediate:Wr,asap:Hr,isIterable:e=>null!=e&&vr(e[cr])};function Zr(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}qr.inherits(Zr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qr.toJSONObject(this.config),code:this.code,status:this.status}}});const $r=Zr.prototype,Gr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Gr[e]={value:e}})),Object.defineProperties(Zr,Gr),Object.defineProperty($r,"isAxiosError",{value:!0}),Zr.from=(e,t,r,n,a,s)=>{const i=Object.create($r);return qr.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Zr.call(i,e.message,t,r,n,a),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const Xr=Zr;function Kr(e){return qr.isPlainObject(e)||qr.isArray(e)}function Yr(e){return qr.endsWith(e,"[]")?e.slice(0,-2):e}function Jr(e,t,r){return e?e.concat(t).map((function(e,t){return e=Yr(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Qr=qr.toFlatObject(qr,{},null,(function(e){return/^is[A-Z]/.test(e)}));const en=function(e,t,r){if(!qr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=qr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!qr.isUndefined(t[e])}))).metaTokens,a=r.visitor||c,s=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&qr.isSpecCompliantForm(t);if(!qr.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(qr.isDate(e))return e.toISOString();if(!o&&qr.isBlob(e))throw new Xr("Blob is not supported. Use a Buffer instead.");return qr.isArrayBuffer(e)||qr.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let o=e;if(e&&!a&&"object"===typeof e)if(qr.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(qr.isArray(e)&&function(e){return qr.isArray(e)&&!e.some(Kr)}(e)||(qr.isFileList(e)||qr.endsWith(r,"[]"))&&(o=qr.toArray(e)))return r=Yr(r),o.forEach((function(e,n){!qr.isUndefined(e)&&null!==e&&t.append(!0===i?Jr([r],n,s):null===i?r:r+"[]",l(e))})),!1;return!!Kr(e)||(t.append(Jr(a,r,s),l(e)),!1)}const d=[],u=Object.assign(Qr,{defaultVisitor:c,convertValue:l,isVisitable:Kr});if(!qr.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!qr.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),qr.forEach(r,(function(r,s){!0===(!(qr.isUndefined(r)||null===r)&&a.call(t,r,qr.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])})),d.pop()}}(e),t};function tn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function rn(e,t){this._pairs=[],e&&en(e,this,t)}const nn=rn.prototype;nn.append=function(e,t){this._pairs.push([e,t])},nn.toString=function(e){const t=e?function(t){return e.call(this,t,tn)}:tn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const an=rn;function sn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function on(e,t,r){if(!t)return e;const n=r&&r.encode||sn;qr.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):qr.isURLSearchParams(t)?t.toString():new an(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const ln=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){qr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},cn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:an,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},un="undefined"!==typeof window&&"undefined"!==typeof document,mn="object"===typeof navigator&&navigator||void 0,hn=un&&(!mn||["ReactNative","NativeScript","NS"].indexOf(mn.product)<0),pn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fn=un&&window.location.href||"http://localhost",xn=qe(qe({},n),dn);const yn=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&qr.isArray(n)?n.length:s,o)return qr.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!i;n[s]&&qr.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&qr.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!i}if(qr.isFormData(e)&&qr.isFunction(e.entries)){const r={};return qr.forEachEntry(e,((e,n)=>{t(function(e){return qr.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const gn={transitional:cn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=qr.isObject(e);a&&qr.isHTMLForm(e)&&(e=new FormData(e));if(qr.isFormData(e))return n?JSON.stringify(yn(e)):e;if(qr.isArrayBuffer(e)||qr.isBuffer(e)||qr.isStream(e)||qr.isFile(e)||qr.isBlob(e)||qr.isReadableStream(e))return e;if(qr.isArrayBufferView(e))return e.buffer;if(qr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return en(e,new xn.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return xn.isNode&&qr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=qr.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return en(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(qr.isString(e))try{return(t||JSON.parse)(e),qr.trim(e)}catch(Ze){if("SyntaxError"!==Ze.name)throw Ze}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||gn.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(qr.isResponse(e)||qr.isReadableStream(e))return e;if(e&&qr.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(Ze){if(r){if("SyntaxError"===Ze.name)throw Xr.from(Ze,Xr.ERR_BAD_RESPONSE,this,null,this.response);throw Ze}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xn.classes.FormData,Blob:xn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qr.forEach(["delete","get","head","post","put","patch"],(e=>{gn.headers[e]={}}));const vn=gn,bn=qr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wn=Symbol("internals");function jn(e){return e&&String(e).trim().toLowerCase()}function Nn(e){return!1===e||null==e?e:qr.isArray(e)?e.map(Nn):String(e)}function kn(e,t,r,n,a){return qr.isFunction(n)?n.call(this,t,r):(a&&(t=r),qr.isString(t)?qr.isString(n)?-1!==t.indexOf(n):qr.isRegExp(n)?n.test(t):void 0:void 0)}class Sn{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=jn(t);if(!a)throw new Error("header name must be a non-empty string");const s=qr.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Nn(e))}const s=(e,t)=>qr.forEach(e,((e,r)=>a(e,r,t)));if(qr.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(qr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&bn[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(qr.isObject(e)&&qr.isIterable(e)){let r,n,a={};for(const t of e){if(!qr.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?qr.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=jn(e)){const r=qr.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(qr.isFunction(t))return t.call(this,e,r);if(qr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=jn(e)){const r=qr.findKey(this,e);return!(!r||void 0===this[r]||t&&!kn(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=jn(e)){const a=qr.findKey(r,e);!a||t&&!kn(0,r[a],a,t)||(delete r[a],n=!0)}}return qr.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!kn(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return qr.forEach(this,((n,a)=>{const s=qr.findKey(r,a);if(s)return t[s]=Nn(n),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(a):String(a).trim();i!==a&&delete t[a],t[i]=Nn(n),r[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return qr.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&qr.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[wn]=this[wn]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=jn(e);t[n]||(!function(e,t){const r=qr.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return qr.isArray(e)?e.forEach(n):n(e),this}}Sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),qr.reduceDescriptors(Sn.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),qr.freezeMethods(Sn);const Cn=Sn;function En(e,t){const r=this||vn,n=t||r,a=Cn.from(n.headers);let s=n.data;return qr.forEach(e,(function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function _n(e){return!(!e||!e.__CANCEL__)}function Tn(e,t,r){Xr.call(this,null==e?"canceled":e,Xr.ERR_CANCELED,t,r),this.name="CanceledError"}qr.inherits(Tn,Xr,{__CANCEL__:!0});const Pn=Tn;function An(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Xr("Request failed with status code "+r.status,[Xr.ERR_BAD_REQUEST,Xr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Mn=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];a||(a=l),r[s]=o,n[s]=l;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const On=function(e,t){let r,n,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(r=l,n||(n=setTimeout((()=>{n=null,i(r)}),s-t)))},()=>r&&i(r)]},Dn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=Mn(50,250);return On((r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,o=s-n,l=a(o);n=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),r)},Rn=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ln=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return qr.asap((()=>e(...r)))},In=xn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,xn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(xn.origin),xn.navigator&&/(msie|trident)/i.test(xn.navigator.userAgent)):()=>!0,Fn=xn.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const i=[e+"="+encodeURIComponent(t)];qr.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),qr.isString(n)&&i.push("path="+n),qr.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function zn(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Vn=e=>e instanceof Cn?qe({},e):e;function Un(e,t){t=t||{};const r={};function n(e,t,r,n){return qr.isPlainObject(e)&&qr.isPlainObject(t)?qr.merge.call({caseless:n},e,t):qr.isPlainObject(t)?qr.merge({},t):qr.isArray(t)?t.slice():t}function a(e,t,r,a){return qr.isUndefined(t)?qr.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!qr.isUndefined(t))return n(void 0,t)}function i(e,t){return qr.isUndefined(t)?qr.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>a(Vn(e),Vn(t),0,!0)};return qr.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=l[n]||a,i=s(e[n],t[n],n);qr.isUndefined(i)&&s!==o||(r[n]=i)})),r}const Bn=e=>{const t=Un({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Cn.from(o),t.url=on(zn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),qr.isFormData(n))if(xn.hasStandardBrowserEnv||xn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(xn.hasStandardBrowserEnv&&(a&&qr.isFunction(a)&&(a=a(t)),a||!1!==a&&In(t.url))){const e=s&&i&&Fn.read(i);e&&o.set(s,e)}return t},Wn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Bn(e);let a=n.data;const s=Cn.from(n.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function x(){if(!f)return;const n=Cn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());An((function(e){t(e),p()}),(function(e){r(e),p()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(r(new Xr("Request aborted",Xr.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Xr("Network Error",Xr.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||cn;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Xr(t,a.clarifyTimeoutError?Xr.ETIMEDOUT:Xr.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&qr.forEach(s.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),qr.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),h&&([l,d]=Dn(h,!0),f.addEventListener("progress",l)),m&&f.upload&&([o,c]=Dn(m),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{f&&(r(!t||t.type?new Pn(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);y&&-1===xn.protocols.indexOf(y)?r(new Xr("Unsupported protocol "+y+":",Xr.ERR_BAD_REQUEST,e)):f.send(a||null)}))},Hn=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Xr?t:new Pn(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new Xr("timeout ".concat(t," of ms exceeded"),Xr.ETIMEDOUT))}),t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:o}=n;return o.unsubscribe=()=>qr.asap(i),o}};function qn(e,t){this.v=e,this.k=t}function Zn(e){return function(){return new $n(e.apply(this,arguments))}}function $n(e){var t,r;function n(t,r){try{var s=e[t](r),i=s.value,o=i instanceof qn;Promise.resolve(o?i.v:i).then((function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return n(l,r);r=e[l](r).value}a(s.done?"return":"normal",r)}),(function(e){n("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise((function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};r?r=r.next=o:(t=r=o,n(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function Gn(e){return new qn(e,0)}function Xn(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise((function(r){r(e[t](n))})),{done:!1,value:new qn(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Kn(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Yn(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Yn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Yn=function(e){this.s=e,this.n=e.next},Yn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Yn(e)}$n.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},$n.prototype.next=function(e){return this._invoke("next",e)},$n.prototype.throw=function(e){return this._invoke("throw",e)},$n.prototype.return=function(e){return this._invoke("return",e)};const Jn=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Qn=function(){var e=Zn((function*(e,t){var r,n=!1,a=!1;try{for(var s,i=Kn(ea(e));n=!(s=yield Gn(i.next())).done;n=!1){const e=s.value;yield*Xn(Kn(Jn(e,t)))}}catch(o){a=!0,r=o}finally{try{n&&null!=i.return&&(yield Gn(i.return()))}finally{if(a)throw r}}}));return function(t,r){return e.apply(this,arguments)}}(),ea=function(){var e=Zn((function*(e){if(e[Symbol.asyncIterator])return void(yield*Xn(Kn(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Gn(t.read());if(e)break;yield r}}finally{yield Gn(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),ta=(e,t,r,n)=>{const a=Qn(e,t);let s,i=0,o=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return o(),void e.close();let s=n.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},ra="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,na=ra&&"function"===typeof ReadableStream,aa=ra&&("function"===typeof TextEncoder?(sa=new TextEncoder,e=>sa.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var sa;const ia=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(Ze){return!1}},oa=na&&ia((()=>{let e=!1;const t=new Request(xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),la=na&&ia((()=>qr.isReadableStream(new Response("").body))),ca={stream:la&&(e=>e.body)};var da;ra&&(da=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ca[e]&&(ca[e]=qr.isFunction(da[e])?t=>t[e]():(t,r)=>{throw new Xr("Response type '".concat(e,"' is not supported"),Xr.ERR_NOT_SUPPORT,r)})})));const ua=async(e,t)=>{const r=qr.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(qr.isBlob(e))return e.size;if(qr.isSpecCompliantForm(e)){const t=new Request(xn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return qr.isArrayBufferView(e)||qr.isArrayBuffer(e)?e.byteLength:(qr.isURLSearchParams(e)&&(e+=""),qr.isString(e)?(await aa(e)).byteLength:void 0)})(t):r},ma=ra&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Bn(e);c=c?(c+"").toLowerCase():"text";let h,p=Hn([a,s&&s.toAbortSignal()],i);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&oa&&"get"!==r&&"head"!==r&&0!==(x=await ua(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(qr.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=Rn(x,Dn(Ln(l)));n=ta(r.body,65536,e,t)}}qr.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;h=new Request(t,qe(qe({},m),{},{signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0}));let s=await fetch(h);const i=la&&("stream"===c||"response"===c);if(la&&(o||i&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=qr.toFiniteNumber(s.headers.get("content-length")),[r,n]=o&&Rn(t,Dn(Ln(o),!0))||[];s=new Response(ta(s.body,65536,r,(()=>{n&&n(),f&&f()})),e)}c=c||"text";let y=await ca[qr.findKey(ca,c)||"text"](s,e);return!i&&f&&f(),await new Promise(((t,r)=>{An(t,r,{data:y,headers:Cn.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:h})}))}catch(y){if(f&&f(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new Xr("Network Error",Xr.ERR_NETWORK,e,h),{cause:y.cause||y});throw Xr.from(y,y&&y.code,e,h)}}),ha={http:null,xhr:Wn,fetch:ma};qr.forEach(ha,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ze){}Object.defineProperty(e,"adapterName",{value:t})}}));const pa=e=>"- ".concat(e),fa=e=>qr.isFunction(e)||null===e||!1===e,xa=e=>{e=qr.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!fa(r)&&(n=ha[(t=String(r)).toLowerCase()],void 0===n))throw new Xr("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+s]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(pa).join("\n"):" "+pa(e[0]):"as no adapter specified";throw new Xr("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function ya(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pn(null,e)}function ga(e){ya(e),e.headers=Cn.from(e.headers),e.data=En.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return xa(e.adapter||vn.adapter)(e).then((function(t){return ya(e),t.data=En.call(e,e.transformResponse,t),t.headers=Cn.from(t.headers),t}),(function(t){return _n(t)||(ya(e),t&&t.response&&(t.response.data=En.call(e,e.transformResponse,t.response),t.response.headers=Cn.from(t.response.headers))),Promise.reject(t)}))}const va="1.9.0",ba={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ba[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const wa={};ba.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new Xr(n(a," has been removed"+(t?" in "+t:"")),Xr.ERR_DEPRECATED);return t&&!wa[a]&&(wa[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},ba.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const ja={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Xr("options must be an object",Xr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new Xr("option "+s+" must be "+r,Xr.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Xr("Unknown option "+s,Xr.ERR_BAD_OPTION)}},validators:ba},Na=ja.validators;class ka{constructor(e){this.defaults=e||{},this.interceptors={request:new ln,response:new ln}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Ze){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Un(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&ja.assertOptions(r,{silentJSONParsing:Na.transitional(Na.boolean),forcedJSONParsing:Na.transitional(Na.boolean),clarifyTimeoutError:Na.transitional(Na.boolean)},!1),null!=n&&(qr.isFunction(n)?t.paramsSerializer={serialize:n}:ja.assertOptions(n,{encode:Na.function,serialize:Na.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ja.assertOptions(t,{baseUrl:Na.spelling("baseURL"),withXsrfToken:Na.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&qr.merge(a.common,a[t.method]);a&&qr.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=Cn.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[ga.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=ga.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return on(zn((e=Un(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}qr.forEach(["delete","get","head","options"],(function(e){ka.prototype[e]=function(t,r){return this.request(Un(r||{},{method:e,url:t,data:(r||{}).data}))}})),qr.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(Un(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}ka.prototype[e]=t(),ka.prototype[e+"Form"]=t(!0)}));const Sa=ka;class Ca{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,a){r.reason||(r.reason=new Pn(e,n,a),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Ca((function(t){e=t}));return{token:t,cancel:e}}}const Ea=Ca;const _a={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_a).forEach((e=>{let[t,r]=e;_a[r]=t}));const Ta=_a;const Pa=function e(t){const r=new Sa(t),n=ir(Sa.prototype.request,r);return qr.extend(n,Sa.prototype,r,{allOwnKeys:!0}),qr.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Un(t,r))},n}(vn);Pa.Axios=Sa,Pa.CanceledError=Pn,Pa.CancelToken=Ea,Pa.isCancel=_n,Pa.VERSION=va,Pa.toFormData=en,Pa.AxiosError=Xr,Pa.Cancel=Pa.CanceledError,Pa.all=function(e){return Promise.all(e)},Pa.spread=function(e){return function(t){return e.apply(null,t)}},Pa.isAxiosError=function(e){return qr.isObject(e)&&!0===e.isAxiosError},Pa.mergeConfig=Un,Pa.AxiosHeaders=Cn,Pa.formToJSON=e=>yn(qr.isHTMLForm(e)?new FormData(e):e),Pa.getAdapter=xa,Pa.HttpStatusCode=Ta,Pa.default=Pa;const Aa=Pa,Ma=Aa.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),Oa="isi_access_token",Da="isi_refresh_token",Ra=()=>localStorage.getItem(Oa),La=e=>localStorage.setItem(Oa,e),Ia=()=>localStorage.getItem(Da),Fa=e=>localStorage.setItem(Da,e),za=()=>{localStorage.removeItem(Oa),localStorage.removeItem(Da)};Ma.interceptors.request.use((e=>{const t=Ra();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),Ma.interceptors.response.use((e=>e),(async e=>{var t;const r=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!r._retry){r._retry=!0;const e=Ia();if(e)try{const t=await Aa.post("/api/auth/refresh",{refreshToken:e}),{accessToken:n}=t.data.data;return La(n),r.headers.Authorization="Bearer ".concat(n),Ma(r)}catch(n){return za(),window.location.href="/login",Promise.reject(n)}else window.location.href="/login"}return Promise.reject(e)}));const Va=async e=>(await Ma.post("/auth/login",e)).data,Ua=async()=>(await Ma.post("/auth/logout")).data,Ba=async()=>(await Ma.post("/auth/logout-all")).data,Wa=async()=>(await Ma.get("/auth/profile")).data,Ha=async e=>(await Ma.put("/auth/profile",e)).data,qa=async e=>(await Ma.post("/auth/change-password",e)).data,Za=async e=>(await Ma.get("/users",{params:e})).data,$a=async e=>(await Ma.post("/users",e)).data,Ga=async(e,t)=>(await Ma.put("/users/".concat(e),t)).data,Xa=async e=>(await Ma.delete("/users/".concat(e))).data,Ka=async e=>(await Ma.patch("/users/".concat(e,"/toggle-status"))).data,Ya=async()=>(await Ma.get("/users/stats")).data,Ja=async e=>(await Ma.put("/users/bulk-update",e)).data,Qa=async()=>(await Ma.get("/academic/niveaux")).data,es=async e=>(await Ma.get("/academic/filieres",{params:e})).data,ts=async e=>(await Ma.post("/academic/filieres",e)).data,rs=async(e,t)=>(await Ma.put("/academic/filieres/".concat(e),t)).data,ns=async e=>(await Ma.delete("/academic/filieres/".concat(e))).data,as=async e=>(await Ma.post("/academic/filieres/".concat(e,"/restore"))).data,ss=async e=>{const t=new URLSearchParams;null!==e&&void 0!==e&&e.filiereId&&t.append("filiereId",e.filiereId),null!==e&&void 0!==e&&e.semestreId&&t.append("semestreId",e.semestreId),null!==e&&void 0!==e&&e.niveauId&&t.append("niveauId",e.niveauId),null!==e&&void 0!==e&&e.includeDeleted&&t.append("includeDeleted","true");const r="/academic/matieres".concat(t.toString()?"?".concat(t.toString()):"");return(await Ma.get(r)).data},is=async e=>(await Ma.get("/academic/matieres/".concat(e))).data,os=async e=>(await Ma.post("/academic/matieres",e)).data,ls=async(e,t)=>(await Ma.put("/academic/matieres/".concat(e),t)).data,cs=async e=>(await Ma.delete("/academic/matieres/".concat(e))).data,ds=async e=>(await Ma.post("/academic/matieres/".concat(e,"/restore"))).data,us=async e=>(await Ma.get("/academic/professeurs/".concat(e,"/matieres"))).data,ms=async e=>(await Ma.get("/academic/matieres/".concat(e,"/professeurs"))).data,hs=async(e,t)=>(await Ma.put("/academic/matieres/".concat(e,"/professeurs"),t)).data,ps=async e=>(await Ma.get("/documents",{params:e})).data,fs=async e=>(await Ma.post("/documents",e,{headers:{"Content-Type":"multipart/form-data"}})).data,xs=async e=>(await Ma.post("/documents/pfe",e,{headers:{"Content-Type":"multipart/form-data"}})).data,ys=async(e,t)=>(await Ma.post("/documents/".concat(e,"/correction"),t,{headers:{"Content-Type":"multipart/form-data"}})).data,gs=async e=>(await Ma.get("/documents/".concat(e))).data,vs=async e=>(await Ma.delete("/documents/".concat(e))).data,bs=async e=>(await Ma.get("/documents/".concat(e,"/download"),{responseType:"blob"})).data,ws=async e=>(await Ma.get("/documents/".concat(e,"/comments"))).data,js=async(e,t)=>(await Ma.post("/documents/".concat(e,"/comments"),t)).data,Ns=async(e,t)=>(await Ma.put("/documents/comments/".concat(e),t)).data,ks=async e=>(await Ma.delete("/documents/comments/".concat(e))).data,Ss=async e=>(await Ma.get("/documents/comments/".concat(e,"/can-reply"))).data,Cs=async()=>(await Ma.get("/dashboard/admin")).data,Es=async()=>(await Ma.get("/dashboard/professor")).data,_s=async()=>(await Ma.get("/dashboard/student")).data,Ts=Ma;var Ps=r(579);const As={user:null,isAuthenticated:!1,isLoading:!0,isLoggingIn:!1,error:null},Ms=(e,t)=>{switch(t.type){case"AUTH_START":return qe(qe({},e),{},{isLoading:!0,error:null});case"AUTH_SUCCESS":return qe(qe({},e),{},{user:t.payload,isAuthenticated:!0,isLoading:!1,error:null});case"AUTH_FAILURE":return qe(qe({},e),{},{user:null,isAuthenticated:!1,isLoading:!1,error:t.payload});case"LOGIN_START":return qe(qe({},e),{},{isLoggingIn:!0,error:null});case"LOGIN_END":return qe(qe({},e),{},{isLoggingIn:!1});case"LOGOUT":return qe(qe({},e),{},{user:null,isAuthenticated:!1,isLoading:!1,error:null});case"CLEAR_ERROR":return qe(qe({},e),{},{error:null});case"UPDATE_USER":return qe(qe({},e),{},{user:t.payload});default:return e}},Os=(0,s.createContext)(void 0),Ds=()=>{const e=(0,s.useContext)(Os);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Rs=e=>{let{children:t}=e;const[r,n]=(0,s.useReducer)(Ms,As);(0,s.useEffect)((()=>{(async()=>{if(Ra())try{n({type:"AUTH_START"});const e=await Wa();n({type:"AUTH_SUCCESS",payload:e.data.user})}catch(e){console.error("Auth check failed:",e),za(),n({type:"AUTH_FAILURE",payload:"Session expired"})}else n({type:"AUTH_FAILURE",payload:"No token found"})})()}),[]);const a=qe(qe({},r),{},{login:async e=>{try{n({type:"LOGIN_START"}),n({type:"AUTH_START"});const t=await Va(e);La(t.data.accessToken),Fa(t.data.refreshToken),n({type:"AUTH_SUCCESS",payload:t.data.user}),n({type:"LOGIN_END"}),sr.success("Connexion r\xe9ussie!")}catch(a){var t,r;const e=(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur de connexion";throw n({type:"AUTH_FAILURE",payload:e}),n({type:"LOGIN_END"}),a}},logout:async()=>{try{await Ua()}catch(e){console.error("Logout error:",e)}finally{za(),n({type:"LOGOUT"}),sr.success("D\xe9connexion r\xe9ussie")}},logoutAll:async()=>{try{await Ba()}catch(e){console.error("Logout all error:",e)}finally{za(),n({type:"LOGOUT"}),sr.success("D\xe9connexion de tous les appareils r\xe9ussie")}},updateProfile:async e=>{try{const t=await Ha(e);n({type:"UPDATE_USER",payload:t.data.user}),sr.success("Profil mis \xe0 jour avec succ\xe8s")}catch(a){var t,r;const e=(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors de la mise \xe0 jour";throw sr.error(e),a}},clearError:()=>{n({type:"CLEAR_ERROR"})}});return(0,Ps.jsx)(Os.Provider,{value:a,children:t})},Ls=(0,s.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Is=(0,s.createContext)({}),Fs=(0,s.createContext)(null),zs="undefined"!==typeof document,Vs=zs?s.useLayoutEffect:s.useEffect,Us=(0,s.createContext)({strict:!1}),Bs=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ws="data-"+Bs("framerAppearId");function Hs(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function qs(e){return"string"===typeof e||Array.isArray(e)}function Zs(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const $s=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gs=["initial",...$s];function Xs(e){return Zs(e.animate)||Gs.some((t=>qs(e[t])))}function Ks(e){return Boolean(Xs(e)||e.variants)}function Ys(e){const{initial:t,animate:r}=function(e,t){if(Xs(e)){const{initial:t,animate:r}=e;return{initial:!1===t||qs(t)?t:void 0,animate:qs(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,s.useContext)(Is));return(0,s.useMemo)((()=>({initial:t,animate:r})),[Js(t),Js(r)])}function Js(e){return Array.isArray(e)?e.join(" "):e}const Qs={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ei={};for(const Lg in Qs)ei[Lg]={isEnabled:e=>Qs[Lg].some((t=>!!e[t]))};const ti=(0,s.createContext)({}),ri=(0,s.createContext)({}),ni=Symbol.for("motionComponentSymbol");function ai(e){let{preloadedFeatures:t,createVisualElement:r,useRender:n,useVisualState:a,Component:i}=e;t&&function(e){for(const t in e)ei[t]=qe(qe({},ei[t]),e[t])}(t);const o=(0,s.forwardRef)((function(e,o){let l;const c=qe(qe(qe({},(0,s.useContext)(Ls)),e),{},{layoutId:si(e)}),{isStatic:d}=c,u=Ys(e),m=a(e,d);if(!d&&zs){u.visualElement=function(e,t,r,n){const{visualElement:a}=(0,s.useContext)(Is),i=(0,s.useContext)(Us),o=(0,s.useContext)(Fs),l=(0,s.useContext)(Ls).reducedMotion,c=(0,s.useRef)();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const d=c.current;(0,s.useInsertionEffect)((()=>{d&&d.update(r,o)}));const u=(0,s.useRef)(Boolean(r[Ws]&&!window.HandoffComplete));return Vs((()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())})),(0,s.useEffect)((()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))})),d}(i,m,c,r);const e=(0,s.useContext)(ri),n=(0,s.useContext)(Us).strict;u.visualElement&&(l=u.visualElement.loadFeatures(c,n,t,e))}return s.createElement(Is.Provider,{value:u},l&&u.visualElement?s.createElement(l,qe({visualElement:u.visualElement},c)):null,n(i,e,function(e,t,r){return(0,s.useCallback)((n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"===typeof r?r(n):Hs(r)&&(r.current=n))}),[t])}(m,u.visualElement,o),m,d,u.visualElement))}));return o[ni]=i,o}function si(e){let{layoutId:t}=e;const r=(0,s.useContext)(ti).id;return r&&void 0!==t?r+"-"+t:t}function ii(e){function t(t){return ai(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const r=new Map;return new Proxy(t,{get:(e,n)=>(r.has(n)||r.set(n,t(n)),r.get(n))})}const oi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function li(e){return"string"===typeof e&&!e.includes("-")&&!!(oi.indexOf(e)>-1||/[A-Z]/.test(e))}const ci={};const di=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=new Set(di);function mi(e,t){let{layout:r,layoutId:n}=t;return ui.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!ci[e]||"opacity"===e)}const hi=e=>Boolean(e&&e.getVelocity),pi={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fi=di.length;const xi=e=>t=>"string"===typeof t&&t.startsWith(e),yi=xi("--"),gi=xi("var(--"),vi=(e,t)=>t&&"number"===typeof e?t.transform(e):e,bi=(e,t,r)=>Math.min(Math.max(r,e),t),wi={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ji=qe(qe({},wi),{},{transform:e=>bi(0,1,e)}),Ni=qe(qe({},wi),{},{default:1}),ki=e=>Math.round(1e5*e)/1e5,Si=/(-)?([\d]*\.?[\d])+/g,Ci=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ei=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _i(e){return"string"===typeof e}const Ti=e=>({test:t=>_i(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Pi=Ti("deg"),Ai=Ti("%"),Mi=Ti("px"),Oi=Ti("vh"),Di=Ti("vw"),Ri=qe(qe({},Ai),{},{parse:e=>Ai.parse(e)/100,transform:e=>Ai.transform(100*e)}),Li=qe(qe({},wi),{},{transform:Math.round}),Ii={borderWidth:Mi,borderTopWidth:Mi,borderRightWidth:Mi,borderBottomWidth:Mi,borderLeftWidth:Mi,borderRadius:Mi,radius:Mi,borderTopLeftRadius:Mi,borderTopRightRadius:Mi,borderBottomRightRadius:Mi,borderBottomLeftRadius:Mi,width:Mi,maxWidth:Mi,height:Mi,maxHeight:Mi,size:Mi,top:Mi,right:Mi,bottom:Mi,left:Mi,padding:Mi,paddingTop:Mi,paddingRight:Mi,paddingBottom:Mi,paddingLeft:Mi,margin:Mi,marginTop:Mi,marginRight:Mi,marginBottom:Mi,marginLeft:Mi,rotate:Pi,rotateX:Pi,rotateY:Pi,rotateZ:Pi,scale:Ni,scaleX:Ni,scaleY:Ni,scaleZ:Ni,skew:Pi,skewX:Pi,skewY:Pi,distance:Mi,translateX:Mi,translateY:Mi,translateZ:Mi,x:Mi,y:Mi,z:Mi,perspective:Mi,transformPerspective:Mi,opacity:ji,originX:Ri,originY:Ri,originZ:Mi,zIndex:Li,fillOpacity:ji,strokeOpacity:ji,numOctaves:Li};function Fi(e,t,r,n){const{style:a,vars:s,transform:i,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const u in t){const e=t[u];if(yi(u)){s[u]=e;continue}const r=Ii[u],n=vi(e,r);if(ui.has(u)){if(l=!0,i[u]=n,!d)continue;e!==(r.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,o[u]=n):a[u]=n}if(t.transform||(l||n?a.transform=function(e,t,r,n){let{enableHardwareAcceleration:a=!0,allowTransformNone:s=!0}=t,i="";for(let o=0;o<fi;o++){const t=di[o];void 0!==e[t]&&(i+="".concat(pi[t]||t,"(").concat(e[t],") "))}return a&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,r?"":i):s&&r&&(i="none"),i}(e.transform,r,d,n):a.transform&&(a.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:r=0}=o;a.transformOrigin="".concat(e," ").concat(t," ").concat(r)}}const zi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vi(e,t,r){for(const n in t)hi(t[n])||mi(n,r)||(e[n]=t[n])}function Ui(e,t,r){const n={};return Vi(n,e.style||{},e),Object.assign(n,function(e,t,r){let{transformTemplate:n}=e;return(0,s.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Fi(e,t,{enableHardwareAcceleration:!r},n),Object.assign({},e.vars,e.style)}),[t])}(e,t,r)),e.transformValues?e.transformValues(n):n}function Bi(e,t,r){const n={},a=Ui(e,t,r);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const Wi=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hi(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wi.has(e)}let qi=e=>!Hi(e);try{(Zi=require("@emotion/is-prop-valid").default)&&(qi=e=>e.startsWith("on")?!Hi(e):Zi(e))}catch(Rg){}var Zi;function $i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gi(e,t,r){return"string"===typeof e?e:Mi.transform(t+r*e)}const Xi={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ki={offset:"strokeDashoffset",array:"strokeDasharray"};const Yi=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Ji(e,t,r,n,a){let{attrX:s,attrY:i,attrScale:o,originX:l,originY:c,pathLength:d,pathSpacing:u=1,pathOffset:m=0}=t;if(Fi(e,$i(t,Yi),r,a),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,r){const n=Gi(t,e.x,e.width),a=Gi(r,e.y,e.height);return"".concat(n," ").concat(a)}(f,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(h.x=s),void 0!==i&&(h.y=i),void 0!==o&&(h.scale=o),void 0!==d&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=a?Xi:Ki;e[s.offset]=Mi.transform(-n);const i=Mi.transform(t),o=Mi.transform(r);e[s.array]="".concat(i," ").concat(o)}(h,d,u,m,!1)}const Qi=()=>qe(qe({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),eo=e=>"string"===typeof e&&"svg"===e.toLowerCase();function to(e,t,r,n){const a=(0,s.useMemo)((()=>{const r=Qi();return Ji(r,t,{enableHardwareAcceleration:!1},eo(n),e.transformTemplate),qe(qe({},r.attrs),{},{style:qe({},r.style)})}),[t]);if(e.style){const t={};Vi(t,e.style,e),a.style=qe(qe({},t),a.style)}return a}function ro(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,r,n,a,i)=>{let{latestValues:o}=a;const l=(li(t)?to:Bi)(r,o,i,t),c=function(e,t,r){const n={};for(const a in e)"values"===a&&"object"===typeof e.values||(qi(a)||!0===r&&Hi(a)||!t&&!Hi(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}(r,"string"===typeof t,e),d=qe(qe(qe({},c),l),{},{ref:n}),{children:u}=r,m=(0,s.useMemo)((()=>hi(u)?u.get():u),[u]);return(0,s.createElement)(t,qe(qe({},d),{},{children:m}))}}function no(e,t,r,n){let{style:a,vars:s}=t;Object.assign(e.style,a,n&&n.getProjectionStyles(r));for(const i in s)e.style.setProperty(i,s[i])}const ao=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function so(e,t,r,n){no(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(ao.has(a)?a:Bs(a),t.attrs[a])}function io(e,t){const{style:r}=e,n={};for(const a in r)(hi(r[a])||t.style&&hi(t.style[a])||mi(a,e))&&(n[a]=r[a]);return n}function oo(e,t){const r=io(e,t);for(const n in e)if(hi(e[n])||hi(t[n])){r[-1!==di.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}function lo(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,a)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,a)),t}function co(e){const t=(0,s.useRef)(null);return null===t.current&&(t.current=e()),t.current}const uo=e=>Array.isArray(e);function mo(e){const t=hi(e)?e.get():e;return r=t,Boolean(r&&"object"===typeof r&&r.mix&&r.toValue)?t.toValue():t;var r}const ho=["transitionEnd","transition"];const po=e=>(t,r)=>{const n=(0,s.useContext)(Is),a=(0,s.useContext)(Fs),i=()=>function(e,t,r,n){let{scrapeMotionValuesFromProps:a,createRenderState:s,onMount:i}=e;const o={latestValues:fo(t,r,n,a),renderState:s()};return i&&(o.mount=e=>i(t,e,o)),o}(e,t,n,a);return r?i():co(i)};function fo(e,t,r,n){const a={},s=n(e,{});for(const m in s)a[m]=mo(s[m]);let{initial:i,animate:o}=e;const l=Xs(e),c=Ks(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!==typeof u&&!Zs(u)){(Array.isArray(u)?u:[u]).forEach((t=>{const r=lo(e,t);if(!r)return;const{transitionEnd:n,transition:s}=r,i=$i(r,ho);for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(a[e]=t)}for(const e in n)a[e]=n[e]}))}return a}const xo=e=>e;class yo{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const go=["prepare","read","update","preRender","render","postRender"];const{schedule:vo,cancel:bo,state:wo,steps:jo}=function(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=go.reduce(((e,t)=>(e[t]=function(e){let t=new yo,r=new yo,n=0,a=!1,s=!1;const i=new WeakSet,o={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a,o=s?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),o.add(e)&&s&&a&&(n=t.order.length),e},cancel:e=>{r.remove(e),i.delete(e)},process:l=>{if(a)s=!0;else{if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let r=0;r<n;r++){const n=t.order[r];n(l),i.has(n)&&(o.schedule(n),e())}a=!1,s&&(s=!1,o.process(l))}}};return o}((()=>r=!0)),e)),{}),i=e=>s[e].process(a),o=()=>{const s=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(s-a.timestamp,40),1),a.timestamp=s,a.isProcessing=!0,go.forEach(i),a.isProcessing=!1,r&&t&&(n=!1,e(o))},l=go.reduce(((t,i)=>{const l=s[i];return t[i]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,n=!0,a.isProcessing||e(o)),l.schedule(t,s,i)},t}),{});return{schedule:l,cancel:e=>go.forEach((t=>s[t].cancel(e))),state:a,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:xo,!0),No={useVisualState:po({scrapeMotionValuesFromProps:oo,createRenderState:Qi,onMount:(e,t,r)=>{let{renderState:n,latestValues:a}=r;vo.read((()=>{try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Ze){n.dimensions={x:0,y:0,width:0,height:0}}})),vo.render((()=>{Ji(n,a,{enableHardwareAcceleration:!1},eo(t.tagName),e.transformTemplate),so(t,n)}))}})},ko={useVisualState:po({scrapeMotionValuesFromProps:io,createRenderState:zi})};function So(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Co=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Eo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function _o(e,t,r,n){return So(e,t,(e=>t=>Co(t)&&e(t,Eo(t)))(r),n)}const To=(e,t)=>r=>t(e(r)),Po=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(To)};function Ao(e){let t=null;return()=>{const r=()=>{t=null};return null===t&&(t=e,r)}}const Mo=Ao("dragHorizontal"),Oo=Ao("dragVertical");function Do(e){let t=!1;if("y"===e)t=Oo();else if("x"===e)t=Mo();else{const e=Mo(),r=Oo();e&&r?t=()=>{e(),r()}:(e&&e(),r&&r())}return t}function Ro(){const e=Do(!0);return!e||(e(),!1)}class Lo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Io(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End");return _o(e.current,r,((r,a)=>{if("touch"===r.pointerType||Ro())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[n]&&vo.update((()=>s[n](r,a)))}),{passive:!e.getProps()[n]})}const Fo=(e,t)=>!!t&&(e===t||Fo(e,t.parentElement));function zo(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Eo(r))}const Vo=["root"],Uo=new WeakMap,Bo=new WeakMap,Wo=e=>{const t=Uo.get(e.target);t&&t(e)},Ho=e=>{e.forEach(Wo)};function qo(e,t,r){const n=function(e){let{root:t}=e,r=$i(e,Vo);const n=t||document;Bo.has(n)||Bo.set(n,{});const a=Bo.get(n),s=JSON.stringify(r);return a[s]||(a[s]=new IntersectionObserver(Ho,qe({root:t},r))),a[s]}(t);return Uo.set(e,r),n.observe(e),()=>{Uo.delete(e),n.unobserve(e)}}const Zo={some:0,all:1};const $o={inView:{Feature:class extends Lo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof n?n:Zo[n]};return qo(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),s=t?r:n;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Lo{constructor(){super(...arguments),this.removeStartListeners=xo,this.removeEndListeners=xo,this.removeAccessibleListeners=xo,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),n=_o(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:r,onTapCancel:n,globalTapTarget:a}=this.node.getProps();vo.update((()=>{a||Fo(this.node.current,e.target)?r&&r(e,t):n&&n(e,t)}))}),{passive:!(r.onTap||r.onPointerUp)}),a=_o(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Po(n,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=So(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=So(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&zo("up",((e,t)=>{const{onTap:r}=this.node.getProps();r&&vo.update((()=>r(e,t)))}))})),zo("down",((e,t)=>{this.startPress(e,t)}))})),t=So(this.node.current,"blur",(()=>{this.isPressing&&zo("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Po(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&vo.update((()=>r(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ro()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&vo.update((()=>r(e,t)))}mount(){const e=this.node.getProps(),t=_o(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=So(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Po(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Lo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Ze){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Po(So(this.node.current,"focus",(()=>this.onFocus())),So(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Lo{mount(){this.unmount=Po(Io(this.node,!0),Io(this.node,!1))}unmount(){}}}};function Go(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Xo(e,t,r){const n=e.getProps();return lo(n,t,void 0!==r?r:n.custom,function(e){const t={};return e.values.forEach(((e,r)=>t[r]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,r)=>t[r]=e.getVelocity())),t}(e))}let Ko=xo,Yo=xo;const Jo=e=>1e3*e,Qo=e=>e/1e3,el=!1,tl=e=>Array.isArray(e)&&"number"===typeof e[0];function rl(e){return Boolean(!e||"string"===typeof e&&al[e]||tl(e)||Array.isArray(e)&&e.every(rl))}const nl=e=>{let[t,r,n,a]=e;return"cubic-bezier(".concat(t,", ").concat(r,", ").concat(n,", ").concat(a,")")},al={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function sl(e){if(e)return tl(e)?nl(e):Array.isArray(e)?e.map(sl):al[e]}const il=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function ol(e,t,r,n){if(e===t&&r===n)return xo;const a=t=>function(e,t,r,n,a){let s,i,o=0;do{i=t+(r-t)/2,s=il(i,n,a)-e,s>0?r=i:t=i}while(Math.abs(s)>1e-7&&++o<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:il(a(e),t,n)}const ll=ol(.42,0,1,1),cl=ol(0,0,.58,1),dl=ol(.42,0,.58,1),ul=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ml=e=>t=>1-e(1-t),hl=e=>1-Math.sin(Math.acos(e)),pl=ml(hl),fl=ul(hl),xl=ol(.33,1.53,.69,.99),yl=ml(xl),gl=ul(yl),vl={linear:xo,easeIn:ll,easeInOut:dl,easeOut:cl,circIn:hl,circInOut:fl,circOut:pl,backIn:yl,backInOut:gl,backOut:xl,anticipate:e=>(e*=2)<1?.5*yl(e):.5*(2-Math.pow(2,-10*(e-1)))},bl=e=>{if(Array.isArray(e)){Yo(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,r,n,a]=e;return ol(t,r,n,a)}return"string"===typeof e?(Yo(void 0!==vl[e],"Invalid easing type '".concat(e,"'")),vl[e]):e},wl=(e,t)=>r=>Boolean(_i(r)&&Ei.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),jl=(e,t,r)=>n=>{if(!_i(n))return n;const[a,s,i,o]=n.match(Si);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},Nl=qe(qe({},wi),{},{transform:e=>Math.round((e=>bi(0,255,e))(e))}),kl={test:wl("rgb","red"),parse:jl("red","green","blue"),transform:e=>{let{red:t,green:r,blue:n,alpha:a=1}=e;return"rgba("+Nl.transform(t)+", "+Nl.transform(r)+", "+Nl.transform(n)+", "+ki(ji.transform(a))+")"}};const Sl={test:wl("#"),parse:function(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}},transform:kl.transform},Cl={test:wl("hsl","hue"),parse:jl("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:n,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+Ai.transform(ki(r))+", "+Ai.transform(ki(n))+", "+ki(ji.transform(a))+")"}},El={test:e=>kl.test(e)||Sl.test(e)||Cl.test(e),parse:e=>kl.test(e)?kl.parse(e):Cl.test(e)?Cl.parse(e):Sl.parse(e),transform:e=>_i(e)?e:e.hasOwnProperty("red")?kl.transform(e):Cl.transform(e)},_l=(e,t,r)=>-r*e+r*t+e;function Tl(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}const Pl=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},Al=[Sl,kl,Cl];function Ml(e){const t=(r=e,Al.find((e=>e.test(r))));var r;Yo(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===Cl&&(n=function(e){let{hue:t,saturation:r,lightness:n,alpha:a}=e;t/=360,r/=100,n/=100;let s=0,i=0,o=0;if(r){const e=n<.5?n*(1+r):n+r-n*r,a=2*n-e;s=Tl(a,e,t+1/3),i=Tl(a,e,t),o=Tl(a,e,t-1/3)}else s=i=o=n;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*o),alpha:a}}(n)),n}const Ol=(e,t)=>{const r=Ml(e),n=Ml(t),a=qe({},r);return e=>(a.red=Pl(r.red,n.red,e),a.green=Pl(r.green,n.green,e),a.blue=Pl(r.blue,n.blue,e),a.alpha=_l(r.alpha,n.alpha,e),kl.transform(a))};const Dl={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:xo},Rl={regex:Ci,countKey:"Colors",token:"${c}",parse:El.parse},Ll={regex:Si,countKey:"Numbers",token:"${n}",parse:wi.parse};function Il(e,t){let{regex:r,countKey:n,token:a,parse:s}=t;const i=e.tokenised.match(r);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(r,a),e.values.push(...i.map(s)))}function Fl(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Il(r,Dl),Il(r,Rl),Il(r,Ll),r}function zl(e){return Fl(e).values}function Vl(e){const{values:t,numColors:r,numVars:n,tokenised:a}=Fl(e),s=t.length;return e=>{let t=a;for(let a=0;a<s;a++)t=a<n?t.replace(Dl.token,e[a]):a<n+r?t.replace(Rl.token,El.transform(e[a])):t.replace(Ll.token,ki(e[a]));return t}}const Ul=e=>"number"===typeof e?0:e;const Bl={test:function(e){var t,r;return isNaN(e)&&_i(e)&&((null===(t=e.match(Si))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(Ci))||void 0===r?void 0:r.length)||0)>0},parse:zl,createTransformer:Vl,getAnimatableNone:function(e){const t=zl(e);return Vl(e)(t.map(Ul))}},Wl=(e,t)=>r=>"".concat(r>0?t:e);function Hl(e,t){return"number"===typeof e?r=>_l(e,t,r):El.test(e)?Ol(e,t):e.startsWith("var(")?Wl(e,t):$l(e,t)}const ql=(e,t)=>{const r=[...e],n=r.length,a=e.map(((e,r)=>Hl(e,t[r])));return e=>{for(let t=0;t<n;t++)r[t]=a[t](e);return r}},Zl=(e,t)=>{const r=qe(qe({},e),t),n={};for(const a in r)void 0!==e[a]&&void 0!==t[a]&&(n[a]=Hl(e[a],t[a]));return e=>{for(const t in n)r[t]=n[t](e);return r}},$l=(e,t)=>{const r=Bl.createTransformer(t),n=Fl(e),a=Fl(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Po(ql(n.values,a.values),r):(Ko(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Wl(e,t))},Gl=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n},Xl=(e,t)=>r=>_l(e,t,r);function Kl(e,t,r){const n=[],a=r||("number"===typeof(s=e[0])?Xl:"string"===typeof s?El.test(s)?Ol:$l:Array.isArray(s)?ql:"object"===typeof s?Zl:Xl);var s;const i=e.length-1;for(let o=0;o<i;o++){let r=a(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||xo:t;r=Po(e,r)}n.push(r)}return n}function Yl(e,t){let{clamp:r=!0,ease:n,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(Yo(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=Kl(t,n,a),o=i.length,l=t=>{let r=0;if(o>1)for(;r<e.length-2&&!(t<e[r+1]);r++);const n=Gl(e[r],e[r+1],t);return i[r](n)};return r?t=>l(bi(e[0],e[s-1],t)):l}function Jl(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Gl(0,t,n);e.push(_l(r,1,a))}}(t,e.length-1),t}function Ql(e){let{duration:t=300,keyframes:r,times:n,ease:a="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(bl):bl(a),i={done:!1,value:r[0]},o=function(e,t){return e.map((e=>e*t))}(n&&n.length===r.length?n:Jl(r),t),l=Yl(o,r,{ease:Array.isArray(s)?s:(c=r,d=s,c.map((()=>d||dl)).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}function ec(e,t){return t?e*(1e3/t):0}function tc(e,t,r){const n=Math.max(t-5,0);return ec(r-e(n),t-n)}const rc=.001;function nc(e){let t,r,{duration:n=800,bounce:a=.25,velocity:s=0,mass:i=1}=e;Ko(n<=Jo(10),"Spring duration must be 10 seconds or less");let o=1-a;o=bi(.05,1,o),n=bi(.01,10,Qo(n)),o<1?(t=e=>{const t=e*o,r=t*n,a=t-s,i=sc(e,o),l=Math.exp(-r);return rc-a/i*l},r=e=>{const r=e*o*n,a=r*s+s,i=Math.pow(o,2)*Math.pow(e,2)*n,l=Math.exp(-r),c=sc(Math.pow(e,2),o);return(-t(e)+rc>0?-1:1)*((a-i)*l)/c}):(t=e=>Math.exp(-e*n)*((e-s)*n+1)-.001,r=e=>Math.exp(-e*n)*(n*n*(s-e)));const l=function(e,t,r){let n=r;for(let a=1;a<ac;a++)n-=e(n)/t(n);return n}(t,r,5/n);if(n=Jo(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:n}}}const ac=12;function sc(e,t){return e*Math.sqrt(1-t*t)}const ic=["keyframes","restDelta","restSpeed"],oc=["duration","bounce"],lc=["stiffness","damping","mass"];function cc(e,t){return t.some((t=>void 0!==e[t]))}function dc(e){let{keyframes:t,restDelta:r,restSpeed:n}=e,a=$i(e,ic);const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:h}=function(e){let t=qe({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!cc(e,lc)&&cc(e,oc)){const r=nc(e);t=qe(qe(qe({},t),r),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(qe(qe({},a),{},{velocity:-Qo(a.velocity||0)})),p=m||0,f=c/(2*Math.sqrt(l*d)),x=i-s,y=Qo(Math.sqrt(l/d)),g=Math.abs(x)<5;let v;if(n||(n=g?.01:2),r||(r=g?.005:.5),f<1){const e=sc(y,f);v=t=>{const r=Math.exp(-f*y*t);return i-r*((p+f*y*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}}else if(1===f)v=e=>i-Math.exp(-y*e)*(x+(p+y*x)*e);else{const e=y*Math.sqrt(f*f-1);v=t=>{const r=Math.exp(-f*y*t),n=Math.min(e*t,300);return i-r*((p+f*y*x)*Math.sinh(n)+e*x*Math.cosh(n))/e}}return{calculatedDuration:h&&u||null,next:e=>{const t=v(e);if(h)o.done=e>=u;else{let a=p;0!==e&&(a=f<1?tc(v,e,t):0);const s=Math.abs(a)<=n,l=Math.abs(i-t)<=r;o.done=s&&l}return o.value=o.done?i:t,o}}}function uc(e){let{keyframes:t,velocity:r=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const m=t[0],h={done:!1,value:m},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=n*r;const x=m+f,y=void 0===o?x:o(x);y!==x&&(f=y-m);const g=e=>-f*Math.exp(-e/a),v=e=>y+g(e),b=e=>{const t=g(e),r=v(e);h.done=Math.abs(t)<=d,h.value=h.done?y:r};let w,j;const N=e=>{var t;(t=h.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=dc({keyframes:[h.value,p(h.value)],velocity:tc(v,e,h.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>w?j.next(e-w):(!t&&b(e),h)}}}const mc=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:()=>vo.update(t,!0),stop:()=>bo(t),now:()=>wo.isProcessing?wo.timestamp:performance.now()}};function hc(e){let t=0;let r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}const pc=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],fc={decay:uc,inertia:uc,tween:Ql,keyframes:Ql,spring:dc};function xc(e){let t,r,{autoplay:n=!0,delay:a=0,driver:s=mc,keyframes:i,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:d="loop",onPlay:u,onStop:m,onComplete:h,onUpdate:p}=e,f=$i(e,pc),x=1,y=!1;const g=()=>{r=new Promise((e=>{t=e}))};let v;g();const b=fc[o]||Ql;let w;b!==Ql&&"number"!==typeof i[0]&&(w=Yl([0,100],i,{clamp:!1}),i=[0,100]);const j=b(qe(qe({},f),{},{keyframes:i}));let N;"mirror"===d&&(N=b(qe(qe({},f),{},{keyframes:[...i].reverse(),velocity:-(f.velocity||0)})));let k="idle",S=null,C=null,E=null;null===j.calculatedDuration&&l&&(j.calculatedDuration=hc(j));const{calculatedDuration:_}=j;let T=1/0,P=1/0;null!==_&&(T=_+c,P=T*(l+1)-c);let A=0;const M=e=>{if(null===C)return;x>0&&(C=Math.min(C,e)),x<0&&(C=Math.min(e-P/x,C)),A=null!==S?S:Math.round(e-C)*x;const t=A-a*(x>=0?1:-1),r=x>=0?t<0:t>P;A=Math.max(t,0),"finished"===k&&null===S&&(A=P);let n=A,s=j;if(l){const e=Math.min(A,P)/T;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===d?(r=1-r,c&&(r-=c/T)):"mirror"===d&&(s=N)),n=bi(0,1,r)*T}const o=r?{done:!1,value:i[0]}:s.next(n);w&&(o.value=w(o.value));let{done:u}=o;r||null===_||(u=x>=0?A>=P:A<=0);const m=null===S&&("finished"===k||"running"===k&&u);return p&&p(o.value),m&&R(),o},O=()=>{v&&v.stop(),v=void 0},D=()=>{k="idle",O(),t(),g(),C=E=null},R=()=>{k="finished",h&&h(),O(),t()},L=()=>{if(y)return;v||(v=s(M));const e=v.now();u&&u(),null!==S?C=e-S:C&&"finished"!==k||(C=e),"finished"===k&&g(),E=C,S=null,k="running",v.start()};n&&L();const I={then:(e,t)=>r.then(e,t),get time(){return Qo(A)},set time(e){e=Jo(e),A=e,null===S&&v&&0!==x?C=v.now()-e/x:S=e},get duration(){const e=null===j.calculatedDuration?hc(j):j.calculatedDuration;return Qo(e)},get speed(){return x},set speed(e){e!==x&&v&&(x=e,I.time=Qo(A))},get state(){return k},play:L,pause:()=>{k="paused",S=A},stop:()=>{y=!0,"idle"!==k&&(k="idle",m&&m(),D())},cancel:()=>{null!==E&&M(E),D()},complete:()=>{k="finished"},sample:e=>(C=0,M(e))};return I}const yc=["onUpdate","onComplete"],gc=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),vc=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function bc(e,t,r){let{onUpdate:n,onComplete:a}=r,s=$i(r,yc);if(!(gc()&&vc.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let i,o,l=!1,c=!1;const d=()=>{o=new Promise((e=>{i=e}))};d();let{keyframes:u,duration:m=300,ease:h,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!rl(t.ease))(t,s)){const e=xc(qe(qe({},s),{},{repeat:0,delay:0}));let t={done:!1,value:u[0]};const r=[];let n=0;for(;!t.done&&n<2e4;)t=e.sample(n),r.push(t.value),n+=10;p=void 0,u=r,m=n-10,h="linear"}const f=function(e,t,r){let{delay:n=0,duration:a,repeat:s=0,repeatType:i="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:r};l&&(c.offset=l);const d=sl(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,u,qe(qe({},s),{},{duration:m,ease:h,times:p})),x=()=>{c=!1,f.cancel()},y=()=>{c=!0,vo.update(x),i(),d()};f.onfinish=()=>{c||(e.set(function(e,t){let{repeat:r,repeatType:n="loop"}=t;return e[r&&"loop"!==n&&r%2===1?0:e.length-1]}(u,s)),a&&a(),y())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(f.timeline=e,f.onfinish=null,xo),get time(){return Qo(f.currentTime||0)},set time(e){f.currentTime=Jo(e)},get speed(){return f.playbackRate},set speed(e){f.playbackRate=e},get duration(){return Qo(m)},play:()=>{l||(f.play(),bo(x))},pause:()=>f.pause(),stop:()=>{if(l=!0,"idle"===f.playState)return;const{currentTime:t}=f;if(t){const r=xc(qe(qe({},s),{},{autoplay:!1}));e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}y()},complete:()=>{c||f.finish()},cancel:y}}const wc={type:"spring",stiffness:500,damping:25,restSpeed:10},jc={type:"keyframes",duration:.8},Nc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kc=(e,t)=>{let{keyframes:r}=t;return r.length>2?jc:ui.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:wc:Nc},Sc=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Bl.test(t)&&"0"!==t||t.startsWith("url("))),Cc=new Set(["brightness","contrast","saturate","opacity"]);function Ec(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(Si)||[];if(!n)return e;const a=r.replace(n,"");let s=Cc.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const _c=/([a-z-]*)\(.*?\)/g,Tc=qe(qe({},Bl),{},{getAnimatableNone:e=>{const t=e.match(_c);return t?t.map(Ec).join(" "):e}}),Pc=qe(qe({},Ii),{},{color:El,backgroundColor:El,outlineColor:El,fill:El,stroke:El,borderColor:El,borderTopColor:El,borderRightColor:El,borderBottomColor:El,borderLeftColor:El,filter:Tc,WebkitFilter:Tc}),Ac=e=>Pc[e];function Mc(e,t){let r=Ac(e);return r!==Tc&&(r=Bl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Oc=e=>/^0[^.\s]+$/.test(e);function Dc(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Oc(e):void 0}const Rc=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Lc(e,t){return e[t]||e.default||e}const Ic=!1,Fc=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a=>{const s=Lc(n,e)||{},i=s.delay||n.delay||0;let{elapsed:o=0}=n;o-=Jo(i);const l=function(e,t,r,n){const a=Sc(t,r);let s;s=Array.isArray(r)?[...r]:[null,r];const i=void 0!==n.from?n.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?i:s[c-1]),Dc(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(a&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=Mc(t,o);return s}(t,e,r,s),c=l[0],d=l[l.length-1],u=Sc(e,c),m=Sc(e,d);Ko(u===m,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(d,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(d," via the `style` property."));let h=qe(qe({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},s),{},{delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()}});if(function(e){let{when:t,delay:r,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d}=e,u=$i(e,Rc);return!!Object.keys(u).length}(s)||(h=qe(qe({},h),kc(e,h))),h.duration&&(h.duration=Jo(h.duration)),h.repeatDelay&&(h.repeatDelay=Jo(h.repeatDelay)),!u||!m||el||!1===s.type||Ic)return function(e){let{keyframes:t,delay:r,onUpdate:n,onComplete:a}=e;const s=()=>(n&&n(t[t.length-1]),a&&a(),{time:0,speed:1,duration:0,play:xo,pause:xo,stop:xo,then:e=>(e(),Promise.resolve()),cancel:xo,complete:xo});return r?xc({keyframes:[0,1],duration:0,delay:r,onComplete:s}):s()}(el?qe(qe({},h),{},{delay:0}):h);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const r=bc(t,e,h);if(r)return r}return xc(h)}};function zc(e){return Boolean(hi(e)&&e.add)}const Vc=e=>/^\-?\d*\.?\d+$/.test(e);function Uc(e,t){-1===e.indexOf(t)&&e.push(t)}function Bc(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Wc{constructor(){this.subscriptions=[]}add(e){return Uc(this.subscriptions,e),()=>Bc(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let a=0;a<n;a++){const n=this.subscriptions[a];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hc={current:void 0};class qc{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:n,timestamp:a}=wo;t.lastUpdated!==a&&(t.timeDelta=n,t.lastUpdated=a,vo.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),r&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>vo.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Wc);const r=this.events[e].add(t);return"change"===e?()=>{r(),vo.read((()=>{this.events.change.getSize()||this.stop()}))}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Hc.current&&Hc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ec(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zc(e,t){return new qc(e,t)}const $c=e=>t=>t.test(e),Gc=[wi,Mi,Ai,Pi,Di,Oi,{test:e=>"auto"===e,parse:e=>e}],Xc=e=>Gc.find($c(e)),Kc=[...Gc,El,Bl],Yc=["transitionEnd","transition"];function Jc(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zc(r))}function Qc(e,t){const r=Xo(e,t);let n=r?e.makeTargetAnimatable(r,!1):{},{transitionEnd:a={},transition:s={}}=n,i=$i(n,Yc);i=qe(qe({},i),a);for(const l in i){Jc(e,l,(o=i[l],uo(o)?o[o.length-1]||0:o))}var o}function ed(e,t){if(!t)return;return(t[e]||t.default||t).from}const td=["transition","transitionEnd"];function rd(e,t){let{protectedKeys:r,needsAnimating:n}=e;const a=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,a}function nd(e,t){const r=e.get();if(!Array.isArray(t))return r!==t;for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}function ad(e,t){let{delay:r=0,transitionOverride:n,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.makeTargetAnimatable(t),{transition:i=e.getDefaultTransition(),transitionEnd:o}=s,l=$i(s,td);const c=e.getValue("willChange");n&&(i=n);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const m in l){const t=e.getValue(m),n=l[m];if(!t||void 0===n||u&&rd(u,m))continue;const a=qe({delay:r,elapsed:0},Lc(i||{},m));if(window.HandoffAppearAnimations){const r=e.getProps()[Ws];if(r){const e=window.HandoffAppearAnimations(r,m,t,vo);null!==e&&(a.elapsed=e,a.isHandoff=!0)}}let s=!a.isHandoff&&!nd(t,n);if("spring"===a.type&&(t.getVelocity()||a.velocity)&&(s=!1),t.animation&&(s=!1),s)continue;t.start(Fc(m,t,n,e.shouldReduceMotion&&ui.has(m)?{type:!1}:a));const o=t.animation;zc(c)&&(c.add(m),o.then((()=>c.remove(m)))),d.push(o)}return o&&Promise.all(d).then((()=>{o&&Qc(e,o)})),d}function sd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Xo(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(ad(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:i,staggerDirection:o}=a;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const i=[],o=(e.variantChildren.size-1)*n,l=1===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n};return Array.from(e.variantChildren).sort(id).forEach(((e,n)=>{e.notify("AnimationStart",t),i.push(sd(e,t,qe(qe({},s),{},{delay:r+l(n)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(i)}(e,t,s+n,i,o,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[e,t]="beforeChildren"===o?[s,i]:[i,s];return e().then((()=>t()))}return Promise.all([s(),i(r.delay)])}function id(e,t){return e.sortNodePosition(t)}const od=["transition","transitionEnd"],ld=[...$s].reverse(),cd=$s.length;function dd(e){return t=>Promise.all(t.map((t=>{let{animation:r,options:n}=t;return function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map((t=>sd(e,t,n)));r=Promise.all(a)}else if("string"===typeof t)r=sd(e,t,n);else{const a="function"===typeof t?Xo(e,t,n.custom):t;r=Promise.all(ad(e,a,n))}return r.then((()=>e.notify("AnimationComplete",t)))}(e,r,n)})))}function ud(e){let t=dd(e);const r={animate:hd(!0),whileInView:hd(),whileHover:hd(),whileTap:hd(),whileDrag:hd(),whileFocus:hd(),exit:hd()};let n=!0;const a=(t,r)=>{const n=Xo(e,r);if(n){const{transition:e,transitionEnd:r}=n,a=$i(n,od);t=qe(qe(qe({},t),a),r)}return t};function s(s,i){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],d=new Set;let u={},m=1/0;for(let t=0;t<cd;t++){const h=ld[t],p=r[h],f=void 0!==o[h]?o[h]:l[h],x=qs(f),y=h===i?p.isActive:null;!1===y&&(m=t);let g=f===l[h]&&f!==o[h]&&x;if(g&&n&&e.manuallyAnimateOnMount&&(g=!1),p.protectedKeys=qe({},u),!p.isActive&&null===y||!f&&!p.prevProp||Zs(f)||"boolean"===typeof f)continue;let v=md(p.prevProp,f)||h===i&&p.isActive&&!g&&x||t>m&&x,b=!1;const w=Array.isArray(f)?f:[f];let j=w.reduce(a,{});!1===y&&(j={});const{prevResolvedValues:N={}}=p,k=qe(qe({},N),j),S=e=>{v=!0,d.has(e)&&(b=!0,d.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=j[e],r=N[e];if(u.hasOwnProperty(e))continue;let n=!1;n=uo(t)&&uo(r)?!Go(t,r):t!==r,n?void 0!==t?S(e):d.add(e):void 0!==t&&d.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=j,p.isActive&&(u=qe(qe({},u),j)),n&&e.blockInitialAnimation&&(v=!1),!v||g&&!b||c.push(...w.map((e=>({animation:e,options:qe({type:h},s)}))))}if(d.size){const t={};d.forEach((r=>{const n=e.getBaseTarget(r);void 0!==n&&(t[r]=n)})),c.push({animation:t})}let h=Boolean(c.length);return!n||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),n=!1,h?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,n,a){var i;if(r[t].isActive===n)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n;const o=s(a,t);for(const e in r)r[e].protectedKeys={};return o},setAnimateFunction:function(r){t=r(e)},getState:()=>r}}function md(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Go(t,e)}function hd(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let pd=0;const fd={animation:{Feature:class extends Lo{constructor(e){super(e),e.animationState||(e.animationState=ud(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Zs(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Lo{constructor(){super(...arguments),this.id=pd++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e,{custom:null!==r&&void 0!==r?r:this.node.getProps().custom});t&&!e&&a.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},xd=(e,t)=>Math.abs(e-t);class yd{constructor(e,t){let{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=bd(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=xd(e.x,t.x),n=xd(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:a}=wo;this.history.push(qe(qe({},n),{},{timestamp:a}));const{onStart:s,onMove:i}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=gd(t,this.transformPagePoint),vo.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=bd("pointercancel"===e.type?this.lastMoveEventInfo:gd(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),n&&n(e,s)},!Co(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;const s=gd(Eo(e),this.transformPagePoint),{point:i}=s,{timestamp:o}=wo;this.history=[qe(qe({},i),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,bd(s,this.history)),this.removeListeners=Po(_o(this.contextWindow,"pointermove",this.handlePointerMove),_o(this.contextWindow,"pointerup",this.handlePointerUp),_o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bo(this.updatePoint)}}function gd(e,t){return t?{point:t(e.point)}:e}function vd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bd(e,t){let{point:r}=e;return{point:r,delta:vd(r,jd(t)),offset:vd(r,wd(t)),velocity:Nd(t,.1)}}function wd(e){return e[0]}function jd(e){return e[e.length-1]}function Nd(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=jd(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Jo(t)));)r--;if(!n)return{x:0,y:0};const s=Qo(a.timestamp-n.timestamp);if(0===s)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function kd(e){return e.max-e.min}function Sd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=r}function Cd(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=_l(t.min,t.max,e.origin),e.scale=kd(r)/kd(t),(Sd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=_l(r.min,r.max,e.origin)-e.originPoint,(Sd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ed(e,t,r,n){Cd(e.x,t.x,r.x,n?n.originX:void 0),Cd(e.y,t.y,r.y,n?n.originY:void 0)}function _d(e,t,r){e.min=r.min+t.min,e.max=e.min+kd(t)}function Td(e,t,r){e.min=t.min-r.min,e.max=e.min+kd(t)}function Pd(e,t,r){Td(e.x,t.x,r.x),Td(e.y,t.y,r.y)}function Ad(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function Md(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const Od=.35;function Dd(e,t,r){return{min:Rd(e,t),max:Rd(e,r)}}function Rd(e,t){return"number"===typeof e?e:e[t]||0}function Ld(e){return[e("x"),e("y")]}function Id(e){let{top:t,left:r,right:n,bottom:a}=e;return{x:{min:r,max:n},y:{min:t,max:a}}}function Fd(e){return void 0===e||1===e}function zd(e){let{scale:t,scaleX:r,scaleY:n}=e;return!Fd(t)||!Fd(r)||!Fd(n)}function Vd(e){return zd(e)||Ud(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ud(e){return Bd(e.x)||Bd(e.y)}function Bd(e){return e&&"0%"!==e}function Wd(e,t,r){return r+t*(e-r)}function Hd(e,t,r,n,a){return void 0!==a&&(e=Wd(e,a,n)),Wd(e,r,n)+t}function qd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=Hd(e.min,t,r,n,a),e.max=Hd(e.max,t,r,n,a)}function Zd(e,t){let{x:r,y:n}=t;qd(e.x,r.translate,r.scale,r.originPoint),qd(e.y,n.translate,n.scale,n.originPoint)}function $d(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Gd(e,t){e.min=e.min+t,e.max=e.max+t}function Xd(e,t,r){let[n,a,s]=r;const i=void 0!==t[s]?t[s]:.5,o=_l(e.min,e.max,i);qd(e,t[n],t[a],o,t.scale)}const Kd=["x","scaleX","originX"],Yd=["y","scaleY","originY"];function Jd(e,t){Xd(e.x,t,Kd),Xd(e.y,t,Yd)}function Qd(e,t){return Id(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const eu=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},tu=new WeakMap;class ru{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new yd(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Eo(e,"page").point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:a}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Do(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ld((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ai.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=kd(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),a&&vo.update((()=>a(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:a,onDrag:s}=this.getProps();if(!r&&!this.openGlobalLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Ld((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:eu(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&vo.update((()=>a(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!nu(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,t,r){let{min:n,max:a}=t;return void 0!==n&&e<n?e=r?_l(n,e,r.min):Math.max(e,n):void 0!==a&&e>a&&(e=r?_l(a,e,r.max):Math.min(e,a)),e}(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&Hs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,t){let{top:r,left:n,bottom:a,right:s}=t;return{x:Ad(e.x,n,s),y:Ad(e.y,r,a)}}(n.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Od;return!1===e?e=0:!0===e&&(e=Od),{x:Dd(e,"left","right"),y:Dd(e,"top","bottom")}}(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ld((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Hs(e))return!1;const r=e.current;Yo(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=function(e,t,r){const n=Qd(e,r),{scroll:a}=t;return a&&(Gd(n.x,a.offset.x),Gd(n.y,a.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Md(e.x,t.x),y:Md(e.y,t.y)}}(n.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Id(e))}return s}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=Ld((i=>{if(!nu(i,t,this.currentDirection))return;let l=o&&o[i]||{};s&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u=qe(qe({type:"inertia",velocity:r?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},a),l);return this.startAxisValueAnimation(i,u)}));return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Fc(e,r,0,t))}stopAnimation(){Ld((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Ld((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ld((t=>{const{drag:r}=this.getProps();if(!nu(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:s}=n.layout.layoutBox[t];a.set(e[t]-_l(r,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Hs(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Ld((e=>{const t=this.getAxisMotionValue(e);if(t){const r=t.get();n[e]=function(e,t){let r=.5;const n=kd(e),a=kd(t);return a>n?r=Gl(t.min,t.max-n,e.min):n>a&&(r=Gl(e.min,e.max-a,t.min)),bi(0,1,r)}({min:r,max:r},this.constraints[e])}}));const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ld((t=>{if(!nu(t,e,null))return;const r=this.getAxisMotionValue(t),{min:a,max:s}=this.constraints[t];r.set(_l(a,s,n[t]))}))}addListeners(){if(!this.visualElement.current)return;tu.set(this.visualElement,this);const e=_o(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Hs(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),t();const a=So(window,"resize",(()=>this.scalePositionWithinConstraints())),s=r.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(Ld((e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))})),this.visualElement.render())}));return()=>{a(),e(),n(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:s=Od,dragMomentum:i=!0}=e;return qe(qe({},e),{},{drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:s,dragMomentum:i})}}function nu(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const au=e=>(t,r)=>{e&&vo.update((()=>e(t,r)))};const su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ou={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Mi.test(e))return e;e=parseFloat(e)}const r=iu(e,t.target.x),n=iu(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},lu={correct:(e,t)=>{let{treeScale:r,projectionDelta:n}=t;const a=e,s=Bl.parse(e);if(s.length>5)return a;const i=Bl.createTransformer(e),o="number"!==typeof s[0]?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;s[0+o]/=l,s[1+o]/=c;const d=_l(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=d),"number"===typeof s[3+o]&&(s[3+o]/=d),i(s)}};class cu extends s.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=e;var s;s=uu,Object.assign(ci,s),a&&(t.group&&t.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",(()=>{this.safeToRemove()})),a.setOptions(qe(qe({},a.options),{},{onExitComplete:()=>this.safeToRemove()}))),su.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:a}=this.props,s=r.projection;return s?(s.isPresent=a,n||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||vo.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function du(e){const[t,r]=function(){const e=(0,s.useContext)(Fs);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=(0,s.useId)();return(0,s.useEffect)((()=>n(a)),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}(),n=(0,s.useContext)(ti);return s.createElement(cu,qe(qe({},e),{},{layoutGroup:n,switchLayoutGroup:(0,s.useContext)(ri),isPresent:t,safeToRemove:r}))}const uu={borderRadius:qe(qe({},ou),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ou,borderTopRightRadius:ou,borderBottomLeftRadius:ou,borderBottomRightRadius:ou,boxShadow:lu},mu=["TopLeft","TopRight","BottomLeft","BottomRight"],hu=mu.length,pu=e=>"string"===typeof e?parseFloat(e):e,fu=e=>"number"===typeof e||Mi.test(e);function xu(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const yu=vu(0,.5,pl),gu=vu(.5,.95,xo);function vu(e,t,r){return n=>n<e?0:n>t?1:r(Gl(e,t,n))}function bu(e,t){e.min=t.min,e.max=t.max}function wu(e,t){bu(e.x,t.x),bu(e.y,t.y)}function ju(e,t,r,n,a){return e=Wd(e-=t,1/r,n),void 0!==a&&(e=Wd(e,1/a,n)),e}function Nu(e,t,r,n,a){let[s,i,o]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Ai.test(t)&&(t=parseFloat(t),t=_l(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=_l(s.min,s.max,n);e===s&&(o-=t),e.min=ju(e.min,t,r,o,a),e.max=ju(e.max,t,r,o,a)}(e,t[s],t[i],t[o],t.scale,n,a)}const ku=["x","scaleX","originX"],Su=["y","scaleY","originY"];function Cu(e,t,r,n){Nu(e.x,t,ku,r?r.x:void 0,n?n.x:void 0),Nu(e.y,t,Su,r?r.y:void 0,n?n.y:void 0)}function Eu(e){return 0===e.translate&&1===e.scale}function _u(e){return Eu(e.x)&&Eu(e.y)}function Tu(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Pu(e){return kd(e.x)/kd(e.y)}class Au{constructor(){this.members=[]}add(e){Uc(this.members,e),e.scheduleRender()}remove(e){if(Bc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mu(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y;if((a||s)&&(n="translate3d(".concat(a,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(n+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){const{rotate:e,rotateX:t,rotateY:a}=r;e&&(n+="rotate(".concat(e,"deg) ")),t&&(n+="rotateX(".concat(t,"deg) ")),a&&(n+="rotateY(".concat(a,"deg) "))}const i=e.x.scale*t.x,o=e.y.scale*t.y;return 1===i&&1===o||(n+="scale(".concat(i,", ").concat(o,")")),n||"none"}const Ou=(e,t)=>e.depth-t.depth;class Du{constructor(){this.children=[],this.isDirty=!1}add(e){Uc(this.children,e),this.isDirty=!0}remove(e){Bc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ou),this.isDirty=!1,this.children.forEach(e)}}const Ru=["","X","Y","Z"],Lu={visibility:"hidden"};let Iu=0;const Fu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function zu(e){let{attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=Iu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fu.totalNodes=Fu.resolvedTargetDeltas=Fu.recalculatedProjection=0,this.nodes.forEach(Bu),this.nodes.forEach(Xu),this.nodes.forEach(Ku),this.nodes.forEach(Wu),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Fu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new Du)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Wc),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t&&t.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var n;this.isSVG=(n=e)instanceof SVGElement&&"svg"!==n.tagName,this.instance=e;const{layoutId:a,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||a)&&(this.isLayoutDirty=!0),t){let r;const n=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){const r=performance.now(),n=a=>{let{timestamp:s}=a;const i=s-r;i>=t&&(bo(n),e(i-t))};return vo.read(n,!0),()=>bo(n)}(n,250),su.hasAnimatedSinceResize&&(su.hasAnimatedSinceResize=!1,this.nodes.forEach(Gu))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&i&&(a||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:r,hasRelativeTargetChanged:n,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||i.getDefaultTransition()||rm,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!Tu(this.targetLayout,a)||n,d=!r&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||r&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=qe(qe({},Lc(s,"layout")),{},{onPlay:o,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else r||Gu(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yu),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(qu);this.isUpdating||this.nodes.forEach(Zu),this.isUpdating=!1,this.nodes.forEach($u),this.nodes.forEach(Vu),this.nodes.forEach(Uu),this.clearAllSnapshots();const e=performance.now();wo.delta=bi(0,1e3/60,e-wo.timestamp),wo.timestamp=e,wo.isProcessing=!0,jo.update.process(wo),jo.preRender.process(wo),jo.render.process(wo),wo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Hu),this.sharedNodes.forEach(Ju)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vo.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vo.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:a(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!_u(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&(t||Vd(this.latestValues)||a)&&(s(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),sm((n=r).x),sm(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:r}=this.root;return r&&(Gd(t.x,r.offset.x),Gd(t.y,r.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};wu(t,e);for(let r=0;r<this.path.length;r++){const n=this.path[r],{scroll:a,options:s}=n;if(n!==this.root&&a&&s.layoutScroll){if(a.isRoot){wu(t,e);const{scroll:r}=this.root;r&&(Gd(t.x,-r.offset.x),Gd(t.y,-r.offset.y))}Gd(t.x,a.offset.x),Gd(t.y,a.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};wu(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Jd(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Vd(e.latestValues)&&Jd(r,e.latestValues)}return Vd(this.latestValues)&&Jd(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};wu(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!Vd(e.latestValues))continue;zd(e.latestValues)&&e.updateSnapshot();const n={x:{min:0,max:0},y:{min:0,max:0}};wu(n,e.measurePageBox()),Cu(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return Vd(this.latestValues)&&Cu(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=qe(qe(qe({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:a,layoutId:s}=this.options;if(this.layout&&(a||s)){if(this.resolvedRelativeTargetAt=wo.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Pd(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),wu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,_d(i.x,o.x,l.x),_d(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):wu(this.target,this.layout.layoutBox),Zd(this.target,this.targetDelta)):wu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Pd(this.relativeTargetOrigin,this.target,e.target),wu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!zd(this.parent.latestValues)&&!Ud(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===wo.timestamp&&(n=!1),n)return;const{layout:a,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!s)return;wu(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=r.length;if(!a)return;let s,i;t.x=t.y=1;for(let o=0;o<a;o++){s=r[o],i=s.projectionDelta;const a=s.instance;a&&a.style&&"contents"===a.style.display||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Jd(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Zd(e,i)),n&&Vd(s.latestValues)&&Jd(e,s.latestValues))}t.x=$d(t.x),t.y=$d(t.y)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;Ed(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Mu(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===i&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Fu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,n=r?r.latestValues:{},a=qe({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(tm));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;Qu(s.x,e.x,r),Qu(s.y,e.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pd(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,r,n){em(e.x,t.x,r.x,n),em(e.y,t.y,r.y,n)}(this.relativeTarget,this.relativeTargetOrigin,i,r),u&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),wu(u,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,r,n,a,s){a?(e.opacity=_l(0,void 0!==r.opacity?r.opacity:1,yu(n)),e.opacityExit=_l(void 0!==t.opacity?t.opacity:1,0,gu(n))):s&&(e.opacity=_l(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let i=0;i<hu;i++){const a="border".concat(mu[i],"Radius");let s=xu(t,a),o=xu(r,a);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||fu(s)===fu(o)?(e[a]=Math.max(_l(pu(s),pu(o),n),0),(Ai.test(o)||Ai.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||r.rotate)&&(e.rotate=_l(t.rotate||0,r.rotate||0,n))}(a,n,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vo.update((()=>{su.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){const n=hi(e)?e:Zc(e);return n.start(Fc("",n,t,r)),n.animation}(0,1e3,qe(qe({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:a}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&im(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=kd(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=kd(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}wu(t,r),Jd(t,a),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Au);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),!t)return;const n={};for(let a=0;a<Ru.length;a++){const t="rotate"+Ru[a];r[t]&&(n[t]=r[t],e.setStaticValue(t,0))}e.render();for(const a in n)e.setStaticValue(a,n[a]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Lu;const n={visibility:""},a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=mo(null===e||void 0===e?void 0:e.pointerEvents)||"",n.transform=a?a(this.latestValues,""):"none",n;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=mo(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Vd(this.latestValues)&&(t.transform=a?a({},""):"none",this.hasProjected=!1),t}const i=s.animationValues||s.latestValues;this.applyTransformsToTarget(),n.transform=Mu(this.projectionDeltaWithTransform,this.treeScale,i),a&&(n.transform=a(i,n.transform));const{x:o,y:l}=this.projectionDelta;n.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?n.opacity=s===this?null!==(r=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:n.opacity=s===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in ci){if(void 0===i[c])continue;const{correct:e,applyTo:t}=ci[c],r="none"===n.transform?i[c]:e(i[c],s);if(t){const e=t.length;for(let a=0;a<e;a++)n[t[a]]=r}else n[c]=r}return this.options.layoutId&&(n.pointerEvents=s===this?mo(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(qu),this.root.sharedNodes.clear()}}}function Vu(e){e.updateLayout()}function Uu(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:a}=e.options,s=r.source!==e.layout.source;"size"===a?Ld((e=>{const n=s?r.measuredBox[e]:r.layoutBox[e],a=kd(n);n.min=t[e].min,n.max=n.min+a})):im(a,r.layoutBox,t)&&Ld((n=>{const a=s?r.measuredBox[n]:r.layoutBox[n],i=kd(t[n]);a.max=a.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ed(i,t,r.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Ed(o,e.applyTransform(n,!0),r.measuredBox):Ed(o,t,r.layoutBox);const l=!_u(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:a,layout:s}=n;if(a&&s){const i={x:{min:0,max:0},y:{min:0,max:0}};Pd(i,r.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Pd(o,t,s.layoutBox),Tu(i,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Bu(e){Fu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Hu(e){e.clearSnapshot()}function qu(e){e.clearMeasurements()}function Zu(e){e.isLayoutDirty=!1}function $u(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gu(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Xu(e){e.resolveTargetDelta()}function Ku(e){e.calcProjection()}function Yu(e){e.resetRotation()}function Ju(e){e.removeLeadSnapshot()}function Qu(e,t,r){e.translate=_l(t.translate,0,r),e.scale=_l(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function em(e,t,r,n){e.min=_l(t.min,r.min,n),e.max=_l(t.max,r.max,n)}function tm(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const rm={duration:.45,ease:[.4,0,.1,1]},nm=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),am=nm("applewebkit/")&&!nm("chrome/")?Math.round:xo;function sm(e){e.min=am(e.min),e.max=am(e.max)}function im(e,t,r){return"position"===e||"preserve-aspect"===e&&!Sd(Pu(t),Pu(r),.2)}const om=zu({attachResizeListener:(e,t)=>So(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lm={current:void 0},cm=zu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lm.current){const e=new om({});e.mount(window),e.setOptions({layoutScroll:!0}),lm.current=e}return lm.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),dm={pan:{Feature:class extends Lo{constructor(){super(...arguments),this.removePointerDownListener=xo}onPointerDown(e){this.session=new yd(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eu(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:au(e),onStart:au(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&vo.update((()=>n(e,t)))}}}mount(){this.removePointerDownListener=_o(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Lo{constructor(e){super(e),this.removeGroupControls=xo,this.removeListeners=xo,this.controls=new ru(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xo}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:cm,MeasureLayout:du}};const um=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Yo(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[n,a]=function(e){const t=um.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const e=s.trim();return Vc(e)?parseFloat(e):e}return gi(a)?mm(a,t,r+1):a}function hm(e,t,r){let n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const a=e.current;if(!(a instanceof Element))return{target:n,transitionEnd:r};r&&(r=qe({},r)),e.values.forEach((e=>{const t=e.get();if(!gi(t))return;const r=mm(t,a);r&&e.set(r)}));for(const s in n){const e=n[s];if(!gi(e))continue;const t=mm(e,a);t&&(n[s]=t,r||(r={}),void 0===r[s]&&(r[s]=e))}return{target:n,transitionEnd:r}}const pm=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),fm=e=>pm.has(e),xm=e=>e===wi||e===Mi,ym=(e,t)=>parseFloat(e.split(", ")[t]),gm=(e,t)=>(r,n)=>{let{transform:a}=n;if("none"===a||!a)return 0;const s=a.match(/^matrix3d\((.+)\)$/);if(s)return ym(s[1],t);{const t=a.match(/^matrix\((.+)\)$/);return t?ym(t[1],e):0}},vm=new Set(["x","y","z"]),bm=di.filter((e=>!vm.has(e)));const wm={width:(e,t)=>{let{x:r}=e,{paddingLeft:n="0",paddingRight:a="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(a)},height:(e,t)=>{let{y:r}=e,{paddingTop:n="0",paddingBottom:a="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(a)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:n}=t;return parseFloat(n)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:n}=t;return parseFloat(n)+(r.max-r.min)},x:gm(4,13),y:gm(5,14)};wm.translateX=wm.x,wm.translateY=wm.y;const jm=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=qe({},t),n=qe({},n);const a=Object.keys(t).filter(fm);let s=[],i=!1;const o=[];if(a.forEach((a=>{const l=e.getValue(a);if(!e.hasValue(a))return;let c=r[a],d=Xc(c);const u=t[a];let m;if(uo(u)){const e=u.length,t=null===u[0]?1:0;c=u[t],d=Xc(c);for(let r=t;r<e&&null!==u[r];r++)m?Yo(Xc(u[r])===m,"All keyframes must be of the same type"):(m=Xc(u[r]),Yo(m===d||xm(d)&&xm(m),"Keyframes must be of the same dimension as the current value"))}else m=Xc(u);if(d!==m)if(xm(d)&&xm(m)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof u?t[a]=parseFloat(u):Array.isArray(u)&&m===Mi&&(t[a]=u.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===m||void 0===m?void 0:m.transform)&&(0===c||0===u)?0===c?l.set(m.transform(c)):t[a]=d.transform(u):(i||(s=function(e){const t=[];return bm.forEach((r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),i=!0),o.push(a),n[a]=void 0!==n[a]?n[a]:t[a],l.jump(u))})),o.length){const r=o.indexOf("height")>=0?window.pageYOffset:null,a=((e,t,r)=>{const n=t.measureViewportBox(),a=t.current,s=getComputedStyle(a),{display:i}=s,o={};"none"===i&&t.setStaticValue("display",e.display||"block"),r.forEach((e=>{o[e]=wm[e](n,s)})),t.render();const l=t.measureViewportBox();return r.forEach((r=>{const n=t.getValue(r);n&&n.jump(o[r]),e[r]=wm[r](l,s)})),e})(t,e,o);return s.length&&s.forEach((t=>{let[r,n]=t;e.getValue(r).set(n)})),e.render(),zs&&null!==r&&window.scrollTo({top:r}),{target:a,transitionEnd:n}}return{target:t,transitionEnd:n}};function Nm(e,t,r,n){return(e=>Object.keys(e).some(fm))(t)?jm(e,t,r,n):{target:t,transitionEnd:n}}const km={current:null},Sm={current:!1};const Cm=new WeakMap,Em=["willChange"],_m=["children"],Tm=Object.keys(ei),Pm=Tm.length,Am=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Mm=Gs.length;class Om{constructor(e){let{parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:s}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>vo.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget=qe({},o),this.initialValues=r.initial?qe({},o):{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=Xs(r),this.isVariantNode=Ks(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(r,{}),{willChange:d}=c,u=$i(c,Em);for(const m in u){const e=u[m];void 0!==o[m]&&hi(e)&&(e.set(o[m],!1),zc(d)&&d.add(m))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Cm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Sm.current||function(){if(Sm.current=!0,zs)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>km.current=e.matches;e.addListener(t),t()}else km.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||km.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Cm.delete(this.current),this.projection&&this.projection.unmount(),bo(this.notifyUpdate),bo(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=ui.has(e),n=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&vo.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{n(),a()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,r,n){let a,s,{children:i}=e,o=$i(e,_m);for(let l=0;l<Pm;l++){const e=Tm[l],{isEnabled:t,Feature:r,ProjectionNode:n,MeasureLayout:i}=ei[e];n&&(a=n),t(o)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),i&&(s=i))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:r,dragConstraints:s,layoutScroll:i,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(r)||s&&Hs(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:n,layoutScroll:i,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Am.length;r++){const t=Am[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){const{willChange:n}=t;for(const a in t){const s=t[a],i=r[a];if(hi(s))e.addValue(a,s),zc(n)&&n.add(a);else if(hi(i))e.addValue(a,Zc(s,{owner:e})),zc(n)&&n.remove(a);else if(i!==s)if(e.hasValue(a)){const t=e.getValue(a);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(a);e.addValue(a,Zc(void 0!==t?t:s,{owner:e}))}}for(const a in r)void 0===t[a]&&e.removeValue(a);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Mm;t++){const r=Gs[t],n=this.props[r];(qs(n)||!1===n)&&(e[r]=n)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=Zc(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,n="string"===typeof r||"object"===typeof r?null===(t=lo(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==n)return n;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||hi(a)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new Wc),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e].notify(...r)}}}const Dm=["transition","transitionEnd"];class Rm extends Om{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:n}=t;delete r[e],delete n[e]}makeTargetAnimatableFromInstance(e,t,r){let{transition:n,transitionEnd:a}=e,s=$i(e,Dm),{transformValues:i}=t,o=function(e,t,r){const n={};for(const a in e){const e=ed(a,t);if(void 0!==e)n[a]=e;else{const e=r.getValue(a);e&&(n[a]=e.get())}}return n}(s,n||{},this);if(i&&(a&&(a=i(a)),s&&(s=i(s)),o&&(o=i(o))),r){!function(e,t,r){var n,a;const s=Object.keys(t).filter((t=>!e.hasValue(t))),i=s.length;var o;if(i)for(let l=0;l<i;l++){const i=s[l],c=t[i];let d=null;Array.isArray(c)&&(d=c[0]),null===d&&(d=null!==(a=null!==(n=r[i])&&void 0!==n?n:e.readValue(i))&&void 0!==a?a:t[i]),void 0!==d&&null!==d&&("string"===typeof d&&(Vc(d)||Oc(d))?d=parseFloat(d):(o=d,!Kc.find($c(o))&&Bl.test(c)&&(d=Mc(i,c))),e.addValue(i,Zc(d,{owner:e})),void 0===r[i]&&(r[i]=d),null!==d&&e.setBaseTarget(i,d))}}(this,s,o);const e=((e,t,r,n)=>{const a=hm(e,t,n);return Nm(e,t=a.target,r,n=a.transitionEnd)})(this,s,o,a);a=e.transitionEnd,s=e.target}return qe({transition:n,transitionEnd:a},s)}}class Lm extends Rm{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(ui.has(t)){const e=Ac(t);return e&&e.default||0}{const n=(r=e,window.getComputedStyle(r)),a=(yi(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof a?a.trim():a}var r}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return Qd(e,r)}build(e,t,r,n){Fi(e,t,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,t){return io(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hi(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,r,n){no(e,t,r,n)}}class Im extends Rm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ui.has(t)){const e=Ac(t);return e&&e.default||0}return t=ao.has(t)?t:Bs(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return oo(e,t)}build(e,t,r,n){Ji(e,t,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,r,n){so(e,t,0,n)}mount(e){this.isSVGTag=eo(e.tagName),super.mount(e)}}const Fm=(e,t)=>li(e)?new Im(t,{enableHardwareAcceleration:!1}):new Lm(t,{enableHardwareAcceleration:!0}),zm={layout:{ProjectionNode:cm,MeasureLayout:du}},Vm=qe(qe(qe(qe({},fd),$o),dm),zm),Um=ii(((e,t)=>function(e,t,r,n){let{forwardMotionProps:a=!1}=t;return qe(qe({},li(e)?No:ko),{},{preloadedFeatures:r,useRender:ro(a),createVisualElement:n,Component:e})}(e,t,Vm,Fm)));const Bm=e=>{let{children:t,roles:r=[],requireAuth:n=!0}=e;const{user:a,isAuthenticated:s,isLoading:i,isLoggingIn:o}=Ds(),l=te();return i?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50",children:(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-center",children:[(0,Ps.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"V\xe9rification de l'authentification..."})]})}):n&&!s?(0,Ps.jsx)(ve,{to:"/login",state:{from:l},replace:!0}):n||!s||o?!(n&&s&&r.length>0)||a&&r.includes(a.role)?(0,Ps.jsx)(Ps.Fragment,{children:t}):(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50",children:(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,Ps.jsx)("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-6",children:(0,Ps.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ps.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ps.jsx)("h2",{className:"text-xl font-bold text-secondary-900 mb-2",children:"Acc\xe8s non autoris\xe9"}),(0,Ps.jsx)("p",{className:"text-secondary-600 mb-6",children:"Vous n'avez pas les permissions n\xe9cessaires pour acc\xe9der \xe0 cette page."}),(0,Ps.jsx)("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Retour"})]})}):(0,Ps.jsx)(ve,{to:"/dashboard",replace:!0})};function Wm(){const e=(0,s.useRef)(!1);return Vs((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class Hm extends s.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qm(e){let{children:t,isPresent:r}=e;const n=(0,s.useId)(),a=(0,s.useRef)(null),i=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)((()=>{const{width:e,height:t,top:s,left:o}=i.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[r]),s.createElement(Hm,{isPresent:r,childRef:a,sizeRef:i},s.cloneElement(t,{ref:a}))}const Zm=e=>{let{children:t,initial:r,isPresent:n,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:l}=e;const c=co($m),d=(0,s.useId)(),u=(0,s.useMemo)((()=>({id:d,initial:r,isPresent:n,custom:i,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;a&&a()},register:e=>(c.set(e,!1),()=>c.delete(e))})),o?void 0:[n]);return(0,s.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[n]),s.useEffect((()=>{!n&&!c.size&&a&&a()}),[n]),"popLayout"===l&&(t=s.createElement(qm,{isPresent:n},t)),s.createElement(Fs.Provider,{value:u},t)};function $m(){return new Map}const Gm=e=>e.key||"";const Xm=e=>{let{children:t,custom:r,initial:n=!0,onExitComplete:a,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"}=e;Yo(!i,"Replace exitBeforeEnter with mode='wait'");const c=(0,s.useContext)(ti).forceRender||function(){const e=Wm(),[t,r]=(0,s.useState)(0),n=(0,s.useCallback)((()=>{e.current&&r(t+1)}),[t]);return[(0,s.useCallback)((()=>vo.postRender(n)),[n]),t]}()[0],d=Wm(),u=function(e){const t=[];return s.Children.forEach(e,(e=>{(0,s.isValidElement)(e)&&t.push(e)})),t}(t);let m=u;const h=(0,s.useRef)(new Map).current,p=(0,s.useRef)(m),f=(0,s.useRef)(new Map).current,x=(0,s.useRef)(!0);var y;if(Vs((()=>{x.current=!1,function(e,t){e.forEach((e=>{const r=Gm(e);t.set(r,e)}))}(u,f),p.current=m})),y=()=>{x.current=!0,f.clear(),h.clear()},(0,s.useEffect)((()=>()=>y()),[]),x.current)return s.createElement(s.Fragment,null,m.map((e=>s.createElement(Zm,{key:Gm(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:o,mode:l},e))));m=[...m];const g=p.current.map(Gm),v=u.map(Gm),b=g.length;for(let s=0;s<b;s++){const e=g[s];-1!==v.indexOf(e)||h.has(e)||h.set(e,void 0)}return"wait"===l&&h.size&&(m=[]),h.forEach(((e,t)=>{if(-1!==v.indexOf(t))return;const n=f.get(t);if(!n)return;const i=g.indexOf(t);let x=e;if(!x){const e=()=>{h.delete(t);const e=Array.from(f.keys()).filter((e=>!v.includes(e)));if(e.forEach((e=>f.delete(e))),p.current=u.filter((r=>{const n=Gm(r);return n===t||e.includes(n)})),!h.size){if(!1===d.current)return;c(),a&&a()}};x=s.createElement(Zm,{key:Gm(n),isPresent:!1,onExitComplete:e,custom:r,presenceAffectsLayout:o,mode:l},n),h.set(t,x)}m.splice(i,0,x)})),m=m.map((e=>{const t=e.key;return h.has(t)?e:s.createElement(Zm,{key:Gm(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)})),s.createElement(s.Fragment,null,h.size?m:m.map((e=>(0,s.cloneElement)(e))))},Km=["_f"],Ym=["name"],Jm=["_f"],Qm=["ref","message","type"];var eh=e=>"checkbox"===e.type,th=e=>e instanceof Date,rh=e=>null==e;const nh=e=>"object"===typeof e;var ah=e=>!rh(e)&&!Array.isArray(e)&&nh(e)&&!th(e),sh=e=>ah(e)&&e.target?eh(e.target)?e.target.checked:e.target.value:e,ih=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),oh="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function lh(e){let t;const r=Array.isArray(e),n="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(oh&&(e instanceof Blob||n)||!r&&!ah(e))return e;if(t=r?[]:{},r||(e=>{const t=e.constructor&&e.constructor.prototype;return ah(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=lh(e[r]));else t=e}return t}var ch=e=>Array.isArray(e)?e.filter(Boolean):[],dh=e=>void 0===e,uh=(e,t,r)=>{if(!t||!ah(e))return r;const n=ch(t.split(/[,[\].]+?/)).reduce(((e,t)=>rh(e)?e:e[t]),e);return dh(n)||n===e?dh(e[t])?r:e[t]:n},mh=e=>"boolean"===typeof e,hh=e=>/^\w*$/.test(e),ph=e=>ch(e.replace(/["|']|\]/g,"").split(/\.|\[/)),fh=(e,t,r)=>{let n=-1;const a=hh(t)?[t]:ph(t),s=a.length,i=s-1;for(;++n<s;){const t=a[n];let s=r;if(n!==i){const r=e[t];s=ah(r)||Array.isArray(r)?r:isNaN(+a[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const xh="blur",yh="focusout",gh="onBlur",vh="onChange",bh="onSubmit",wh="onTouched",jh="all",Nh="max",kh="min",Sh="maxLength",Ch="minLength",Eh="pattern",_h="required",Th="validate";s.createContext(null);var Ph=function(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const a=s;return t._proxyFormState[a]!==jh&&(t._proxyFormState[a]=!n||jh),r&&(r[a]=!0),e[a]}});return a};const Ah="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;var Mh=e=>"string"===typeof e,Oh=(e,t,r,n,a)=>Mh(e)?(n&&t.watch.add(e),uh(r,e,a)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),uh(r,e)))):(n&&(t.watchAll=!0),r);var Dh=(e,t,r,n,a)=>t?qe(qe({},r[e]),{},{types:qe(qe({},r[e]&&r[e].types?r[e].types:{}),{},{[n]:a||!0})}):{},Rh=e=>Array.isArray(e)?e:[e],Lh=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Ih=e=>rh(e)||!nh(e);function Fh(e,t){if(Ih(e)||Ih(t))return e===t;if(th(e)&&th(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const r=e[a];if(!n.includes(a))return!1;if("ref"!==a){const e=t[a];if(th(r)&&th(e)||ah(r)&&ah(e)||Array.isArray(r)&&Array.isArray(e)?!Fh(r,e):r!==e)return!1}}return!0}var zh=e=>ah(e)&&!Object.keys(e).length,Vh=e=>"file"===e.type,Uh=e=>"function"===typeof e,Bh=e=>{if(!oh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Wh=e=>"select-multiple"===e.type,Hh=e=>"radio"===e.type,qh=e=>Bh(e)&&e.isConnected;function Zh(e,t){const r=Array.isArray(t)?t:hh(t)?[t]:ph(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=dh(e)?n++:e[t[n++]];return e}(e,r),a=r.length-1,s=r[a];return n&&delete n[s],0!==a&&(ah(n)&&zh(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!dh(e[t]))return!1;return!0}(n))&&Zh(e,r.slice(0,-1)),e}var $h=e=>{for(const t in e)if(Uh(e[t]))return!0;return!1};function Gh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(ah(e)||r)for(const n in e)Array.isArray(e[n])||ah(e[n])&&!$h(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Gh(e[n],t[n])):rh(e[n])||(t[n]=!0);return t}function Xh(e,t,r){const n=Array.isArray(e);if(ah(e)||n)for(const a in e)Array.isArray(e[a])||ah(e[a])&&!$h(e[a])?dh(t)||Ih(r[a])?r[a]=Array.isArray(e[a])?Gh(e[a],[]):qe({},Gh(e[a])):Xh(e[a],rh(t)?{}:t[a],r[a]):r[a]=!Fh(e[a],t[a]);return r}var Kh=(e,t)=>Xh(e,t,Gh(t));const Yh={value:!1,isValid:!1},Jh={value:!0,isValid:!0};var Qh=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dh(e[0].attributes.value)?dh(e[0].value)||""===e[0].value?Jh:{value:e[0].value,isValid:!0}:Jh:Yh}return Yh},ep=(e,t)=>{let{valueAsNumber:r,valueAsDate:n,setValueAs:a}=t;return dh(e)?e:r?""===e?NaN:e?+e:e:n&&Mh(e)?new Date(e):a?a(e):e};const tp={isValid:!1,value:null};var rp=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),tp):tp;function np(e){const t=e.ref;return Vh(t)?t.files:Hh(t)?rp(e.refs).value:Wh(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):eh(t)?Qh(e.refs).value:ep(dh(t.value)?e.ref.value:t.value,e)}var ap=e=>e instanceof RegExp,sp=e=>dh(e)?e:ap(e)?e.source:ah(e)?ap(e.value)?e.value.source:e.value:e,ip=e=>({isOnSubmit:!e||e===bh,isOnBlur:e===gh,isOnChange:e===vh,isOnAll:e===jh,isOnTouch:e===wh});const op="AsyncFunction";var lp=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const cp=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const r=uh(e,a);if(r){const{_f:e}=r,s=$i(r,Km);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(cp(s,t))break}else if(ah(s)&&cp(s,t))break}}};function dp(e,t,r){const n=uh(e,r);if(n||hh(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),s=uh(t,n),i=uh(e,n);if(s&&!Array.isArray(s)&&r!==n)return{name:r};if(i&&i.type)return{name:n,error:i};a.pop()}return{name:r}}var up=(e,t,r)=>{const n=Rh(uh(e,r));return fh(n,"root",t[r]),fh(e,r,n),e},mp=e=>Mh(e);function hp(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(mp(e)||Array.isArray(e)&&e.every(mp)||mh(e)&&!e)return{type:r,message:mp(e)?e:"",ref:t}}var pp=e=>ah(e)&&!ap(e)?e:{value:e,message:""},fp=async(e,t,r,n,a,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:m,pattern:h,validate:p,name:f,valueAsNumber:x,mount:y}=e._f,g=uh(r,f);if(!y||t.has(f))return{};const v=o?o[0]:i,b=e=>{a&&v.reportValidity&&(v.setCustomValidity(mh(e)?"":e||""),v.reportValidity())},w={},j=Hh(i),N=eh(i),k=j||N,S=(x||Vh(i))&&dh(i.value)&&dh(g)||Bh(i)&&""===i.value||""===g||Array.isArray(g)&&!g.length,C=Dh.bind(null,f,n,w),E=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sh,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ch;const s=e?t:r;w[f]=qe({type:e?n:a,message:s,ref:i},C(e?n:a,s))};if(s?!Array.isArray(g)||!g.length:l&&(!k&&(S||rh(g))||mh(g)&&!g||N&&!Qh(o).isValid||j&&!rp(o).isValid)){const{value:e,message:t}=mp(l)?{value:!!l,message:l}:pp(l);if(e&&(w[f]=qe({type:_h,message:t,ref:v},C(_h,t)),!n))return b(t),w}if(!S&&(!rh(u)||!rh(m))){let e,t;const r=pp(m),a=pp(u);if(rh(g)||isNaN(g)){const n=i.valueAsDate||new Date(g),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;Mh(r.value)&&g&&(e=o?s(g)>s(r.value):l?g>r.value:n>new Date(r.value)),Mh(a.value)&&g&&(t=o?s(g)<s(a.value):l?g<a.value:n<new Date(a.value))}else{const n=i.valueAsNumber||(g?+g:g);rh(r.value)||(e=n>r.value),rh(a.value)||(t=n<a.value)}if((e||t)&&(E(!!e,r.message,a.message,Nh,kh),!n))return b(w[f].message),w}if((c||d)&&!S&&(Mh(g)||s&&Array.isArray(g))){const e=pp(c),t=pp(d),r=!rh(e.value)&&g.length>+e.value,a=!rh(t.value)&&g.length<+t.value;if((r||a)&&(E(r,e.message,t.message),!n))return b(w[f].message),w}if(h&&!S&&Mh(g)){const{value:e,message:t}=pp(h);if(ap(e)&&!g.match(e)&&(w[f]=qe({type:Eh,message:t,ref:i},C(Eh,t)),!n))return b(t),w}if(p)if(Uh(p)){const e=hp(await p(g,r),v);if(e&&(w[f]=qe(qe({},e),C(Th,e.message)),!n))return b(e.message),w}else if(ah(p)){let e={};for(const t in p){if(!zh(e)&&!n)break;const a=hp(await p[t](g,r),v,t);a&&(e=qe(qe({},a),C(t,a.message)),b(a.message),n&&(w[f]=e))}if(!zh(e)&&(w[f]=qe({ref:v},e),!n))return w}return b(!0),w};const xp={mode:bh,reValidateMode:vh,shouldFocusError:!0};function yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=qe(qe({},xp),e),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Uh(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a,s=(ah(t.defaultValues)||ah(t.values))&&lh(t.defaultValues||t.values)||{},i=t.shouldUnregister?{}:lh(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u=qe({},d);const m={array:Lh(),state:Lh()},h=t.criteriaMode===jh,p=async e=>{if(!t.disabled&&(d.isValid||u.isValid||e)){const e=t.resolver?zh((await v()).errors):await b(n,!0);e!==r.isValid&&m.state.next({isValid:e})}},f=(e,n)=>{!t.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(n?fh(r.validatingFields,e,n):Zh(r.validatingFields,e))})),m.state.next({validatingFields:r.validatingFields,isValidating:!zh(r.validatingFields)}))},x=(e,t,r,a)=>{const l=uh(n,e);if(l){const n=uh(i,e,dh(r)?uh(s,e):r);dh(n)||a&&a.defaultChecked||t?fh(i,e,t?n:np(l._f)):N(e,n),o.mount&&p()}},y=(e,n,a,i,o)=>{let l=!1,c=!1;const h={name:e};if(!t.disabled){if(!a||i){(d.isDirty||u.isDirty)&&(c=r.isDirty,r.isDirty=h.isDirty=w(),l=c!==h.isDirty);const t=Fh(uh(s,e),n);c=!!uh(r.dirtyFields,e),t?Zh(r.dirtyFields,e):fh(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!t}if(a){const t=uh(r.touchedFields,e);t||(fh(r.touchedFields,e,a),h.touchedFields=r.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==a)}l&&o&&m.state.next(h)}return l?h:{}},g=(e,n,s,i)=>{const o=uh(r.errors,e),l=(d.isValid||u.isValid)&&mh(n)&&r.isValid!==n;var h;if(t.delayError&&s?(h=()=>((e,t)=>{fh(r.errors,e,t),m.state.next({errors:r.errors})})(e,s),a=e=>{clearTimeout(c),c=setTimeout(h,e)},a(t.delayError)):(clearTimeout(c),a=null,s?fh(r.errors,e,s):Zh(r.errors,e)),(s?!Fh(o,s):o)||!zh(i)||l){const t=qe(qe(qe({},i),l&&mh(n)?{isValid:n}:{}),{},{errors:r.errors,name:e});r=qe(qe({},r),t),m.state.next(t)}},v=async e=>{f(e,!0);const r=await t.resolver(i,t.context,((e,t,r,n)=>{const a={};for(const s of e){const e=uh(t,s);e&&fh(a,s,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}})(e||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return f(e),r},b=async function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const o in e){const c=e[o];if(c){const{_f:e}=c,u=$i(c,Jm);if(e){const u=l.array.has(e.name),m=c._f&&(!!(s=c._f)&&!!s.validate&&!!(Uh(s.validate)&&s.validate.constructor.name===op||ah(s.validate)&&Object.values(s.validate).find((e=>e.constructor.name===op))));m&&d.validatingFields&&f([o],!0);const p=await fp(c,l.disabled,i,h,t.shouldUseNativeValidation&&!n,u);if(m&&d.validatingFields&&f([o]),p[e.name]&&(a.valid=!1,n))break;!n&&(uh(p,e.name)?u?up(r.errors,p,e.name):fh(r.errors,e.name,p[e.name]):Zh(r.errors,e.name))}!zh(u)&&await b(u,n,a)}}var s;return a.valid},w=(e,r)=>!t.disabled&&(e&&r&&fh(i,e,r),!Fh(T(),s)),j=(e,t,r)=>Oh(e,l,qe({},o.mount?i:dh(t)?s:Mh(e)?{[e]:t}:t),r,t),N=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=uh(n,e);let s=t;if(a){const r=a._f;r&&(!r.disabled&&fh(i,e,ep(t,r)),s=Bh(r.ref)&&rh(t)?"":t,Wh(r.ref)?[...r.ref.options].forEach((e=>e.selected=s.includes(e.value))):r.refs?eh(r.ref)?r.refs.forEach((e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find((t=>t===e.value)):e.checked=s===e.value||!!s)})):r.refs.forEach((e=>e.checked=e.value===s)):Vh(r.ref)?r.ref.value="":(r.ref.value=s,r.ref.type||m.state.next({name:e,values:lh(i)})))}(r.shouldDirty||r.shouldTouch)&&y(e,s,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&_(e)},k=(e,t,r)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const s=t[a],i="".concat(e,".").concat(a),o=uh(n,i);(l.array.has(e)||ah(s)||o&&!o._f)&&!th(s)?k(i,s,r):N(i,s,r)}},S=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=uh(n,e),h=l.array.has(e),p=lh(t);fh(i,e,p),h?(m.array.next({name:e,values:lh(i)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&a.shouldDirty&&m.state.next({name:e,dirtyFields:Kh(s,i),isDirty:w(e,p)})):!c||c._f||rh(p)?N(e,p,a):k(e,p,a),lp(e,l)&&m.state.next(qe({},r)),m.state.next({name:o.mount?e:void 0,values:lh(i)})},C=async e=>{o.mount=!0;const s=e.target;let c=s.name,x=!0;const w=uh(n,c),j=e=>{x=Number.isNaN(e)||th(e)&&isNaN(e.getTime())||Fh(e,uh(i,c,e))},N=ip(t.mode),k=ip(t.reValidateMode);if(w){let o,C;const E=s.type?np(w._f):sh(e),T=e.type===xh||e.type===yh,P=!((S=w._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate))&&!t.resolver&&!uh(r.errors,c)&&!w._f.deps||((e,t,r,n,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:!(r?n.isOnChange:a.isOnChange)||e))(T,uh(r.touchedFields,c),r.isSubmitted,k,N),A=lp(c,l,T);fh(i,c,E),T?(w._f.onBlur&&w._f.onBlur(e),a&&a(0)):w._f.onChange&&w._f.onChange(e);const M=y(c,E,T),O=!zh(M)||A;if(!T&&m.state.next({name:c,type:e.type,values:lh(i)}),P)return(d.isValid||u.isValid)&&("onBlur"===t.mode?T&&p():T||p()),O&&m.state.next(qe({name:c},A?{}:M));if(!T&&A&&m.state.next(qe({},r)),t.resolver){const{errors:e}=await v([c]);if(j(E),x){const t=dp(r.errors,n,c),a=dp(e,n,t.name||c);o=a.error,c=a.name,C=zh(e)}}else f([c],!0),o=(await fp(w,l.disabled,i,h,t.shouldUseNativeValidation))[c],f([c]),j(E),x&&(o?C=!1:(d.isValid||u.isValid)&&(C=await b(n,!0)));x&&(w._f.deps&&_(w._f.deps),g(c,C,o,M))}var S},E=(e,t)=>{if(uh(r.errors,t)&&e.focus)return e.focus(),1},_=async function(e){let a,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Rh(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await v(e);if(e)for(const n of e){const e=uh(t,n);e?fh(r.errors,n,e):Zh(r.errors,n)}else r.errors=t;return t})(dh(e)?e:o);a=zh(t),s=e?!o.some((e=>uh(t,e))):a}else e?(s=(await Promise.all(o.map((async e=>{const t=uh(n,e);return await b(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||r.isValid)&&p()):s=a=await b(n);return m.state.next(qe(qe(qe({},!Mh(e)||(d.isValid||u.isValid)&&a!==r.isValid?{}:{name:e}),t.resolver||!e?{isValid:a}:{}),{},{errors:r.errors})),i.shouldFocus&&!s&&cp(n,E,e?o:l.mount),s},T=e=>{const t=qe({},o.mount?i:s);return dh(e)?t:Mh(e)?uh(t,e):e.map((e=>uh(t,e)))},P=(e,t)=>({invalid:!!uh((t||r).errors,e),isDirty:!!uh((t||r).dirtyFields,e),error:uh((t||r).errors,e),isValidating:!!uh(r.validatingFields,e),isTouched:!!uh((t||r).touchedFields,e)}),A=(e,t,a)=>{const s=(uh(n,e,{_f:{}})._f||{}).ref,i=uh(r.errors,e)||{},{ref:o,message:l,type:c}=i,d=$i(i,Qm);fh(r.errors,e,qe(qe(qe({},d),t),{},{ref:s})),m.state.next({name:e,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&s&&s.focus&&s.focus()},M=e=>m.state.subscribe({next:t=>{var n,a,s;n=e.name,a=t.name,s=e.exact,n&&a&&n!==a&&!Rh(n).some((e=>e&&(s?e===a:e.startsWith(a)||a.startsWith(e))))||!((e,t,r,n)=>{r(e);const{name:a}=e,s=$i(e,Ym);return zh(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!n||jh)))})(t,e.formState||d,V,e.reRenderRoot)||e.callback(qe(qe({values:qe({},i)},r),t))}}).unsubscribe,O=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?Rh(e):l.mount)l.mount.delete(o),l.array.delete(o),a.keepValue||(Zh(n,o),Zh(i,o)),!a.keepError&&Zh(r.errors,o),!a.keepDirty&&Zh(r.dirtyFields,o),!a.keepTouched&&Zh(r.touchedFields,o),!a.keepIsValidating&&Zh(r.validatingFields,o),!t.shouldUnregister&&!a.keepDefaultValue&&Zh(s,o);m.state.next({values:lh(i)}),m.state.next(qe(qe({},r),a.keepDirty?{isDirty:w()}:{})),!a.keepIsValid&&p()},D=e=>{let{disabled:t,name:r}=e;(mh(t)&&o.mount||t||l.disabled.has(r))&&(t?l.disabled.add(r):l.disabled.delete(r))},R=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=uh(n,e);const i=mh(r.disabled)||mh(t.disabled);return fh(n,e,qe(qe({},a||{}),{},{_f:qe(qe({},a&&a._f?a._f:{ref:{name:e}}),{},{name:e,mount:!0},r)})),l.mount.add(e),a?D({disabled:mh(r.disabled)?r.disabled:t.disabled,name:e}):x(e,!0,r.value),qe(qe(qe({},i?{disabled:r.disabled||t.disabled}:{}),t.progressive?{required:!!r.required,min:sp(r.min),max:sp(r.max),minLength:sp(r.minLength),maxLength:sp(r.maxLength),pattern:sp(r.pattern)}:{}),{},{name:e,onChange:C,onBlur:C,ref:i=>{if(i){R(e,r),a=uh(n,e);const t=dh(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=(e=>Hh(e)||eh(e))(t),l=a._f.refs||[];if(o?l.find((e=>e===t)):t===a._f.ref)return;fh(n,e,{_f:qe(qe({},a._f),o?{refs:[...l.filter(qh),t,...Array.isArray(uh(s,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t})}),x(e,!1,void 0,t)}else a=uh(n,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!ih(l.array,e)||!o.action)&&l.unMount.add(e)}})},L=()=>t.shouldFocusError&&cp(n,E,l.mount),I=(e,a)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=lh(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await v();r.errors=e,c=t}else await b(n);if(l.disabled.size)for(const e of l.disabled)fh(c,e,void 0);if(Zh(r.errors,"root"),zh(r.errors)){m.state.next({errors:{}});try{await e(c,s)}catch(d){o=d}}else a&&await a(qe({},r.errors),s),L(),setTimeout(L);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zh(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},F=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?lh(e):s,u=lh(c),h=zh(e),p=h?s:u;if(a.keepDefaultValues||(s=c),!a.keepValues){if(a.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Kh(s,i))]);for(const t of Array.from(e))uh(r.dirtyFields,t)?fh(p,t,uh(i,t)):S(t,uh(p,t))}else{if(oh&&dh(e))for(const e of l.mount){const t=uh(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Bh(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of l.mount)S(e,uh(p,e))}i=lh(p),m.array.next({values:qe({},p)}),m.state.next({values:qe({},p)})}l={mount:a.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!a.keepIsValid||!!a.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:!h&&(a.keepDirty?r.isDirty:!(!a.keepDefaultValues||Fh(e,s))),isSubmitted:!!a.keepIsSubmitted&&r.isSubmitted,dirtyFields:h?{}:a.keepDirtyValues?a.keepDefaultValues&&i?Kh(s,i):r.dirtyFields:a.keepDefaultValues&&e?Kh(s,e):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:!!a.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},z=(e,t)=>F(Uh(e)?e(i):e,t),V=e=>{r=qe(qe({},r),e)},U={control:{register:R,unregister:O,getFieldState:P,handleSubmit:I,setError:A,_subscribe:M,_runSchema:v,_getWatch:j,_getDirty:w,_setValid:p,_setFieldArray:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!t.disabled){if(o.action=!0,p&&Array.isArray(uh(n,e))){const t=l(uh(n,e),c.argA,c.argB);h&&fh(n,e,t)}if(p&&Array.isArray(uh(r.errors,e))){const t=l(uh(r.errors,e),c.argA,c.argB);h&&fh(r.errors,e,t),((e,t)=>{!ch(uh(e,t)).length&&Zh(e,t)})(r.errors,e)}if((d.touchedFields||u.touchedFields)&&p&&Array.isArray(uh(r.touchedFields,e))){const t=l(uh(r.touchedFields,e),c.argA,c.argB);h&&fh(r.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(r.dirtyFields=Kh(s,i)),m.state.next({name:e,isDirty:w(e,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else fh(i,e,a)},_setDisabledField:D,_setErrors:e=>{r.errors=e,m.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>ch(uh(o.mount?i:s,e,t.shouldUnregister?uh(s,e,[]):[])),_reset:F,_resetDefaultValues:()=>Uh(t.defaultValues)&&t.defaultValues().then((e=>{z(e,t.resetOptions),m.state.next({isLoading:!1})})),_removeUnmounted:()=>{for(const e of l.unMount){const t=uh(n,e);t&&(t._f.refs?t._f.refs.every((e=>!qh(e))):!qh(t._f.ref))&&O(e)}l.unMount=new Set},_disableForm:e=>{mh(e)&&(m.state.next({disabled:e}),cp(n,((t,r)=>{const a=uh(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach((t=>{t.disabled=a._f.disabled||e})))}),0,!1))},_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(e){o=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return t},set _options(e){t=qe(qe({},t),e)}},subscribe:e=>(o.mount=!0,u=qe(qe({},u),e.formState),M(qe(qe({},e),{},{formState:u}))),trigger:_,register:R,handleSubmit:I,watch:(e,t)=>Uh(e)?m.state.subscribe({next:r=>e(j(void 0,t),r)}):j(e,t,!0),setValue:S,getValues:T,reset:z,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};uh(n,e)&&(dh(t.defaultValue)?S(e,lh(uh(s,e))):(S(e,t.defaultValue),fh(s,e,lh(t.defaultValue))),t.keepTouched||Zh(r.touchedFields,e),t.keepDirty||(Zh(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,lh(uh(s,e))):w()),t.keepError||(Zh(r.errors,e),d.isValid&&p()),m.state.next(qe({},r)))},clearErrors:e=>{e&&Rh(e).forEach((e=>Zh(r.errors,e))),m.state.next({errors:e?r.errors:{}})},unregister:O,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=uh(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Uh(e.select)&&e.select())}},getFieldState:P};return qe(qe({},U),{},{formControl:U})}function gp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=s.useRef(void 0),r=s.useRef(void 0),[n,a]=s.useState({isDirty:!1,isValidating:!1,isLoading:Uh(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Uh(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current=qe(qe({},e.formControl?e.formControl:yp(e)),{},{formState:n}),e.formControl&&e.defaultValues&&!Uh(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,Ah((()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>a(qe({},i._formState)),reRenderRoot:!0});return a((e=>qe(qe({},e),{},{isReady:!0}))),i._formState.isReady=!0,e}),[i]),s.useEffect((()=>i._disableForm(e.disabled)),[i,e.disabled]),s.useEffect((()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!zh(e.errors)&&i._setErrors(e.errors)}),[i,e.errors,e.mode,e.reValidateMode]),s.useEffect((()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})}),[i,e.shouldUnregister]),s.useEffect((()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==n.isDirty&&i._subjects.state.next({isDirty:e})}}),[i,n.isDirty]),s.useEffect((()=>{e.values&&!Fh(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a((e=>qe({},e)))):i._resetDefaultValues()}),[i,e.values]),s.useEffect((()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next(qe({},i._formState))),i._removeUnmounted()})),t.current.formState=Ph(n,i),t.current}var vp,bp,wp=function(e,t,r){if(e&&"reportValidity"in e){var n=uh(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},jp=function(e,t){var r=function(r){var n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?wp(n.ref,r,e):n.refs&&n.refs.forEach((function(t){return wp(t,r,e)}))};for(var n in t.fields)r(n)},Np=function(e,t){t.shouldUseNativeValidation&&jp(e,t);var r={};for(var n in e){var a=uh(t.fields,n);fh(r,n,Object.assign(e[n],{ref:a&&a.ref}))}return r},kp=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=r[i].types,c=l&&l[n.code];r[i]=Dh(i,t,r,a,c?[].concat(c,n.message):n.message)}e.shift()}return r},Sp=function(e,t,r){return void 0===r&&(r={}),function(n,a,s){try{return Promise.resolve(function(a,i){try{var o=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](n,t)).then((function(e){return s.shouldUseNativeValidation&&jp({},s),{errors:{},values:r.rawValues?n:e}}))}catch(e){return i(e)}return o&&o.then?o.then(void 0,i):o}(0,(function(e){return{values:{},errors:e.isEmpty?{}:Np(kp(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)}})))}catch(e){return Promise.reject(e)}}};!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),n={};for(const e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(vp||(vp={})),function(e){e.mergeShapes=(e,t)=>qe(qe({},e),t)}(bp||(bp={}));const Cp=vp.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ep=e=>{switch(typeof e){case"undefined":return Cp.undefined;case"string":return Cp.string;case"number":return Number.isNaN(e)?Cp.nan:Cp.number;case"boolean":return Cp.boolean;case"function":return Cp.function;case"bigint":return Cp.bigint;case"symbol":return Cp.symbol;case"object":return Array.isArray(e)?Cp.array:null===e?Cp.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Cp.promise:"undefined"!==typeof Map&&e instanceof Map?Cp.map:"undefined"!==typeof Set&&e instanceof Set?Cp.set:"undefined"!==typeof Date&&e instanceof Date?Cp.date:Cp.object;default:return Cp.unknown}},_p=vp.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Tp extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){const r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof Tp))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,vp.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Tp.create=e=>new Tp(e);const Pp=(e,t)=>{let r;switch(e.code){case _p.invalid_type:r=e.received===Cp.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case _p.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(e.expected,vp.jsonStringifyReplacer));break;case _p.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(vp.joinValues(e.keys,", "));break;case _p.invalid_union:r="Invalid input";break;case _p.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(vp.joinValues(e.options));break;case _p.invalid_enum_value:r="Invalid enum value. Expected ".concat(vp.joinValues(e.options),", received '").concat(e.received,"'");break;case _p.invalid_arguments:r="Invalid function arguments";break;case _p.invalid_return_type:r="Invalid function return type";break;case _p.invalid_date:r="Invalid date";break;case _p.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(r='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(r="".concat(r," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?r='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?r='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):vp.assertNever(e.validation):r="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case _p.too_small:r="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case _p.too_big:r="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case _p.custom:r="Invalid input";break;case _p.invalid_intersection_types:r="Intersection results could not be merged";break;case _p.not_multiple_of:r="Number must be a multiple of ".concat(e.multipleOf);break;case _p.not_finite:r="Number must be finite";break;default:r=t.defaultError,vp.assertNever(e)}return{message:r}};let Ap=Pp;function Mp(){return Ap}const Op=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i=qe(qe({},a),{},{path:s});if(void 0!==a.message)return qe(qe({},a),{},{path:s,message:a.message});let o="";const l=n.filter((e=>!!e)).slice().reverse();for(const c of l)o=c(i,{data:t,defaultError:o}).message;return qe(qe({},a),{},{path:s,message:o})};function Dp(e,t){const r=Mp(),n=Op({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Pp?void 0:Pp].filter((e=>!!e))});e.common.issues.push(n)}class Rp{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return Lp;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const e=await n.key,t=await n.value;r.push({key:e,value:t})}return Rp.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:a}=n;if("aborted"===t.status)return Lp;if("aborted"===a.status)return Lp;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!n.alwaysSet||(r[t.value]=a.value)}return{status:e.value,value:r}}}const Lp=Object.freeze({status:"aborted"}),Ip=e=>({status:"dirty",value:e}),Fp=e=>({status:"valid",value:e}),zp=e=>"aborted"===e.status,Vp=e=>"dirty"===e.status,Up=e=>"valid"===e.status,Bp=e=>"undefined"!==typeof Promise&&e instanceof Promise;var Wp;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Wp||(Wp={}));class Hp{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qp=(e,t)=>{if(Up(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Tp(e.common.issues);return this._error=t,this._error}}};function Zp(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var s;const{message:i}=e;return"invalid_enum_value"===t.code?{message:null!==i&&void 0!==i?i:a.defaultError}:"undefined"===typeof a.data?{message:null!==(o=null!==i&&void 0!==i?i:n)&&void 0!==o?o:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(s=null!==i&&void 0!==i?i:r)&&void 0!==s?s:a.defaultError};var o},description:a}}class $p{get description(){return this._def.description}_getType(e){return Ep(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ep(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Rp,ctx:{common:e.parent.common,data:e.data,parsedType:Ep(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Bp(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null===t||void 0===t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ep(e)},a=this._parseSync({data:e,path:n.path,parent:n});return qp(n,a)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ep(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return Up(r)?{value:r.value}:{issues:t.common.issues}}catch(n){var r;null!==n&&void 0!==n&&null!==(r=n.message)&&void 0!==r&&null!==(r=r.toLowerCase())&&void 0!==r&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>Up(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ep(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(Bp(n)?n:Promise.resolve(n));return qp(r,a)}refine(e,t){return this._refinement(((r,n)=>{const a=e(r),s=()=>n.addIssue(qe({code:_p.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(r)));return"undefined"!==typeof Promise&&a instanceof Promise?a.then((e=>!!e||(s(),!1))):!!a||(s(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"===typeof t?t(r,n):t),!1)))}_refinement(e){return new Hf({schema:this,typeName:Qf.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return qf.create(this,this._def)}nullable(){return Zf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Tf.create(this)}promise(){return Wf.create(this,this._def)}or(e){return Mf.create([this,e],this._def)}and(e){return Df.create(this,e,this._def)}transform(e){return new Hf(qe(qe({},Zp(this._def)),{},{schema:this,typeName:Qf.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new $f(qe(qe({},Zp(this._def)),{},{innerType:this,defaultValue:t,typeName:Qf.ZodDefault}))}brand(){return new Kf(qe({typeName:Qf.ZodBranded,type:this},Zp(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new Gf(qe(qe({},Zp(this._def)),{},{innerType:this,catchValue:t,typeName:Qf.ZodCatch}))}describe(e){return new(0,this.constructor)(qe(qe({},this._def),{},{description:e}))}pipe(e){return Yf.create(this,e)}readonly(){return Jf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Gp=/^c[^\s-]{8,}$/i,Xp=/^[0-9a-z]+$/,Kp=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jp=/^[a-z0-9_-]{21}$/i,Qp=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ef=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tf=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let rf;const nf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,af=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sf=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,of=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lf=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cf=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,df="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uf=new RegExp("^".concat(df,"$"));function mf(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const r=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(r)}function hf(e){let t="".concat(df,"T").concat(mf(e));const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(r.join("|"),")"),new RegExp("^".concat(t,"$"))}function pf(e,t){if(!Qp.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return"object"===typeof a&&null!==a&&((!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&(!!a.alg&&(!t||a.alg===t)))}catch(r){return!1}}function ff(e,t){return!("v4"!==t&&t||!af.test(e))||!("v6"!==t&&t||!of.test(e))}class xf extends $p{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Cp.string){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.string,received:t.parsedType}),Lp}const t=new Rp;let r;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const n=e.data.length>i.value,a=e.data.length<i.value;(n||a)&&(r=this._getOrReturnCtx(e,r),n?Dp(r,{code:_p.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Dp(r,{code:_p.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)tf.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"email",code:_p.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)rf||(rf=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),rf.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"emoji",code:_p.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)Yp.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"uuid",code:_p.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)Jp.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"nanoid",code:_p.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)Gp.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"cuid",code:_p.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)Xp.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"cuid2",code:_p.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)Kp.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"ulid",code:_p.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(s){r=this._getOrReturnCtx(e,r),Dp(r,{validation:"url",code:_p.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"regex",code:_p.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){hf(i).test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){uf.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp("^".concat(mf(i),"$")).test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?ef.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"duration",code:_p.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(n=e.data,("v4"!==(a=i.version)&&a||!nf.test(n))&&("v6"!==a&&a||!sf.test(n))&&(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"ip",code:_p.invalid_string,message:i.message}),t.dirty())):"jwt"===i.kind?pf(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"jwt",code:_p.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?ff(e.data,i.version)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"cidr",code:_p.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?lf.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"base64",code:_p.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?cf.test(e.data)||(r=this._getOrReturnCtx(e,r),Dp(r,{validation:"base64url",code:_p.invalid_string,message:i.message}),t.dirty()):vp.assertNever(i);var n,a;return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),qe({validation:t,code:_p.invalid_string},Wp.errToObj(r)))}_addCheck(e){return new xf(qe(qe({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(qe({kind:"email"},Wp.errToObj(e)))}url(e){return this._addCheck(qe({kind:"url"},Wp.errToObj(e)))}emoji(e){return this._addCheck(qe({kind:"emoji"},Wp.errToObj(e)))}uuid(e){return this._addCheck(qe({kind:"uuid"},Wp.errToObj(e)))}nanoid(e){return this._addCheck(qe({kind:"nanoid"},Wp.errToObj(e)))}cuid(e){return this._addCheck(qe({kind:"cuid"},Wp.errToObj(e)))}cuid2(e){return this._addCheck(qe({kind:"cuid2"},Wp.errToObj(e)))}ulid(e){return this._addCheck(qe({kind:"ulid"},Wp.errToObj(e)))}base64(e){return this._addCheck(qe({kind:"base64"},Wp.errToObj(e)))}base64url(e){return this._addCheck(qe({kind:"base64url"},Wp.errToObj(e)))}jwt(e){return this._addCheck(qe({kind:"jwt"},Wp.errToObj(e)))}ip(e){return this._addCheck(qe({kind:"ip"},Wp.errToObj(e)))}cidr(e){return this._addCheck(qe({kind:"cidr"},Wp.errToObj(e)))}datetime(e){var t,r;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(qe({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null===e||void 0===e?void 0:e.local)&&void 0!==r&&r},Wp.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(qe({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},Wp.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(qe({kind:"duration"},Wp.errToObj(e)))}regex(e,t){return this._addCheck(qe({kind:"regex",regex:e},Wp.errToObj(t)))}includes(e,t){return this._addCheck(qe({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},Wp.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(qe({kind:"startsWith",value:e},Wp.errToObj(t)))}endsWith(e,t){return this._addCheck(qe({kind:"endsWith",value:e},Wp.errToObj(t)))}min(e,t){return this._addCheck(qe({kind:"min",value:e},Wp.errToObj(t)))}max(e,t){return this._addCheck(qe({kind:"max",value:e},Wp.errToObj(t)))}length(e,t){return this._addCheck(qe({kind:"length",value:e},Wp.errToObj(t)))}nonempty(e){return this.min(1,Wp.errToObj(e))}trim(){return new xf(qe(qe({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new xf(qe(qe({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new xf(qe(qe({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function yf(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}xf.create=e=>{var t;return new xf(qe({checks:[],typeName:Qf.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Zp(e)))};class gf extends $p{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Cp.number){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.number,received:t.parsedType}),Lp}let t;const r=new Rp;for(const n of this._def.checks)if("int"===n.kind)vp.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else"multipleOf"===n.kind?0!==yf(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.not_finite,message:n.message}),r.dirty()):vp.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Wp.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wp.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wp.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wp.toString(t))}setLimit(e,t,r,n){return new gf(qe(qe({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Wp.toString(n)}]}))}_addCheck(e){return new gf(qe(qe({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Wp.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wp.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wp.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wp.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wp.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wp.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Wp.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wp.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wp.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&vp.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}gf.create=e=>new gf(qe({checks:[],typeName:Qf.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Zp(e)));class vf extends $p{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(n){return this._getInvalidInput(e)}if(this._getType(e)!==Cp.bigint)return this._getInvalidInput(e);let t;const r=new Rp;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Dp(t,{code:_p.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):vp.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.bigint,received:t.parsedType}),Lp}gte(e,t){return this.setLimit("min",e,!0,Wp.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wp.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wp.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wp.toString(t))}setLimit(e,t,r,n){return new vf(qe(qe({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Wp.toString(n)}]}))}_addCheck(e){return new vf(qe(qe({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wp.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wp.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wp.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wp.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wp.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}vf.create=e=>{var t;return new vf(qe({checks:[],typeName:Qf.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},Zp(e)))};class bf extends $p{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Cp.boolean){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.boolean,received:t.parsedType}),Lp}return Fp(e.data)}}bf.create=e=>new bf(qe({typeName:Qf.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},Zp(e)));class wf extends $p{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Cp.date){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.date,received:t.parsedType}),Lp}if(Number.isNaN(e.data.getTime())){return Dp(this._getOrReturnCtx(e),{code:_p.invalid_date}),Lp}const t=new Rp;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),Dp(r,{code:_p.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):vp.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wf(qe(qe({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Wp.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Wp.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}wf.create=e=>new wf(qe({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Qf.ZodDate},Zp(e)));class jf extends $p{_parse(e){if(this._getType(e)!==Cp.symbol){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.symbol,received:t.parsedType}),Lp}return Fp(e.data)}}jf.create=e=>new jf(qe({typeName:Qf.ZodSymbol},Zp(e)));class Nf extends $p{_parse(e){if(this._getType(e)!==Cp.undefined){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.undefined,received:t.parsedType}),Lp}return Fp(e.data)}}Nf.create=e=>new Nf(qe({typeName:Qf.ZodUndefined},Zp(e)));class kf extends $p{_parse(e){if(this._getType(e)!==Cp.null){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.null,received:t.parsedType}),Lp}return Fp(e.data)}}kf.create=e=>new kf(qe({typeName:Qf.ZodNull},Zp(e)));class Sf extends $p{constructor(){super(...arguments),this._any=!0}_parse(e){return Fp(e.data)}}Sf.create=e=>new Sf(qe({typeName:Qf.ZodAny},Zp(e)));class Cf extends $p{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fp(e.data)}}Cf.create=e=>new Cf(qe({typeName:Qf.ZodUnknown},Zp(e)));class Ef extends $p{_parse(e){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.never,received:t.parsedType}),Lp}}Ef.create=e=>new Ef(qe({typeName:Qf.ZodNever},Zp(e)));class _f extends $p{_parse(e){if(this._getType(e)!==Cp.undefined){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.void,received:t.parsedType}),Lp}return Fp(e.data)}}_f.create=e=>new _f(qe({typeName:Qf.ZodVoid},Zp(e)));class Tf extends $p{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==Cp.array)return Dp(t,{code:_p.invalid_type,expected:Cp.array,received:t.parsedType}),Lp;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(Dp(t,{code:e?_p.too_big:_p.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(Dp(t,{code:_p.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(Dp(t,{code:_p.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new Hp(t,e,t.path,r))))).then((e=>Rp.mergeArray(r,e)));const a=[...t.data].map(((e,r)=>n.type._parseSync(new Hp(t,e,t.path,r))));return Rp.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Tf(qe(qe({},this._def),{},{minLength:{value:e,message:Wp.toString(t)}}))}max(e,t){return new Tf(qe(qe({},this._def),{},{maxLength:{value:e,message:Wp.toString(t)}}))}length(e,t){return new Tf(qe(qe({},this._def),{},{exactLength:{value:e,message:Wp.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Pf(e){if(e instanceof Af){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=qf.create(Pf(n))}return new Af(qe(qe({},e._def),{},{shape:()=>t}))}return e instanceof Tf?new Tf(qe(qe({},e._def),{},{type:Pf(e.element)})):e instanceof qf?qf.create(Pf(e.unwrap())):e instanceof Zf?Zf.create(Pf(e.unwrap())):e instanceof Rf?Rf.create(e.items.map((e=>Pf(e)))):e}Tf.create=(e,t)=>new Tf(qe({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qf.ZodArray},Zp(t)));class Af extends $p{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=vp.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Cp.object){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.object,received:t.parsedType}),Lp}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ef&&"strip"===this._def.unknownKeys))for(const o in r.data)a.includes(o)||s.push(o);const i=[];for(const o of a){const e=n[o],t=r.data[o];i.push({key:{status:"valid",value:o},value:e._parse(new Hp(r,t,r.path,o)),alwaysSet:o in r.data})}if(this._def.catchall instanceof Ef){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)i.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}});else if("strict"===e)s.length>0&&(Dp(r,{code:_p.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const n=r.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Hp(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e})).then((e=>Rp.mergeObjectSync(t,e))):Rp.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return Wp.errToObj,new Af(qe(qe({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,r)=>{var n,a,s,i;const o=null!==(n=null===(a=(s=this._def).errorMap)||void 0===a?void 0:a.call(s,t,r).message)&&void 0!==n?n:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=Wp.errToObj(e).message)&&void 0!==i?i:o}:{message:o}}}:{}))}strip(){return new Af(qe(qe({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new Af(qe(qe({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new Af(qe(qe({},this._def),{},{shape:()=>qe(qe({},this._def.shape()),e)}))}merge(e){return new Af({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>qe(qe({},this._def.shape()),e._def.shape()),typeName:Qf.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Af(qe(qe({},this._def),{},{catchall:e}))}pick(e){const t={};for(const r of vp.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Af(qe(qe({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const r of vp.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Af(qe(qe({},this._def),{},{shape:()=>t}))}deepPartial(){return Pf(this)}partial(e){const t={};for(const r of vp.objectKeys(this.shape)){const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new Af(qe(qe({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const r of vp.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof qf;)e=e._def.innerType;t[r]=e}return new Af(qe(qe({},this._def),{},{shape:()=>t}))}keyof(){return Vf(vp.objectKeys(this.shape))}}Af.create=(e,t)=>new Af(qe({shape:()=>e,unknownKeys:"strip",catchall:Ef.create(),typeName:Qf.ZodObject},Zp(t))),Af.strictCreate=(e,t)=>new Af(qe({shape:()=>e,unknownKeys:"strict",catchall:Ef.create(),typeName:Qf.ZodObject},Zp(t))),Af.lazycreate=(e,t)=>new Af(qe({shape:e,unknownKeys:"strip",catchall:Ef.create(),typeName:Qf.ZodObject},Zp(t)));class Mf extends $p{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r=qe(qe({},t),{},{common:qe(qe({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const r=e.map((e=>new Tp(e.ctx.common.issues)));return Dp(t,{code:_p.invalid_union,unionErrors:r}),Lp}));{let e;const n=[];for(const s of r){const r=qe(qe({},t),{},{common:qe(qe({},t.common),{},{issues:[]}),parent:null}),a=s._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=n.map((e=>new Tp(e)));return Dp(t,{code:_p.invalid_union,unionErrors:a}),Lp}}get options(){return this._def.options}}Mf.create=(e,t)=>new Mf(qe({options:e,typeName:Qf.ZodUnion},Zp(t)));function Of(e,t){const r=Ep(e),n=Ep(t);if(e===t)return{valid:!0,data:e};if(r===Cp.object&&n===Cp.object){const r=vp.objectKeys(t),n=vp.objectKeys(e).filter((e=>-1!==r.indexOf(e))),a=qe(qe({},e),t);for(const s of n){const r=Of(e[s],t[s]);if(!r.valid)return{valid:!1};a[s]=r.data}return{valid:!0,data:a}}if(r===Cp.array&&n===Cp.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const a=Of(e[n],t[n]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}return r===Cp.date&&n===Cp.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Df extends $p{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(zp(e)||zp(n))return Lp;const a=Of(e.value,n.value);return a.valid?((Vp(e)||Vp(n))&&t.dirty(),{status:t.value,value:a.data}):(Dp(r,{code:_p.invalid_intersection_types}),Lp)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((e=>{let[t,r]=e;return n(t,r)})):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Df.create=(e,t,r)=>new Df(qe({left:e,right:t,typeName:Qf.ZodIntersection},Zp(r)));class Rf extends $p{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Cp.array)return Dp(r,{code:_p.invalid_type,expected:Cp.array,received:r.parsedType}),Lp;if(r.data.length<this._def.items.length)return Dp(r,{code:_p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lp;!this._def.rest&&r.data.length>this._def.items.length&&(Dp(r,{code:_p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new Hp(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>Rp.mergeArray(t,e))):Rp.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Rf(qe(qe({},this._def),{},{rest:e}))}}Rf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rf(qe({items:e,typeName:Qf.ZodTuple,rest:null},Zp(t)))};class Lf extends $p{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Cp.map)return Dp(r,{code:_p.invalid_type,expected:Cp.map,received:r.parsedType}),Lp;const n=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(((e,t)=>{let[s,i]=e;return{key:n._parse(new Hp(r,s,r.path,[t,"key"])),value:a._parse(new Hp(r,i,r.path,[t,"value"]))}}));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of s){const n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return Lp;"dirty"!==n.status&&"dirty"!==a.status||t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of s){const n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return Lp;"dirty"!==n.status&&"dirty"!==a.status||t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}Lf.create=(e,t,r)=>new Lf(qe({valueType:t,keyType:e,typeName:Qf.ZodMap},Zp(r)));class If extends $p{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Cp.set)return Dp(r,{code:_p.invalid_type,expected:Cp.set,received:r.parsedType}),Lp;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(Dp(r,{code:_p.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(Dp(r,{code:_p.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const a=this._def.valueType;function s(e){const r=new Set;for(const n of e){if("aborted"===n.status)return Lp;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const i=[...r.data.values()].map(((e,t)=>a._parse(new Hp(r,e,r.path,t))));return r.common.async?Promise.all(i).then((e=>s(e))):s(i)}min(e,t){return new If(qe(qe({},this._def),{},{minSize:{value:e,message:Wp.toString(t)}}))}max(e,t){return new If(qe(qe({},this._def),{},{maxSize:{value:e,message:Wp.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}If.create=(e,t)=>new If(qe({valueType:e,minSize:null,maxSize:null,typeName:Qf.ZodSet},Zp(t)));class Ff extends $p{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ff.create=(e,t)=>new Ff(qe({getter:e,typeName:Qf.ZodLazy},Zp(t)));class zf extends $p{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Dp(t,{received:t.data,code:_p.invalid_literal,expected:this._def.value}),Lp}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Vf(e,t){return new Uf(qe({values:e,typeName:Qf.ZodEnum},Zp(t)))}zf.create=(e,t)=>new zf(qe({value:e,typeName:Qf.ZodLiteral},Zp(t)));class Uf extends $p{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return Dp(t,{expected:vp.joinValues(r),received:t.parsedType,code:_p.invalid_type}),Lp}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Dp(t,{received:t.data,code:_p.invalid_enum_value,options:r}),Lp}return Fp(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Uf.create(e,qe(qe({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Uf.create(this.options.filter((t=>!e.includes(t))),qe(qe({},this._def),t))}}Uf.create=Vf;class Bf extends $p{_parse(e){const t=vp.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Cp.string&&r.parsedType!==Cp.number){const e=vp.objectValues(t);return Dp(r,{expected:vp.joinValues(e),received:r.parsedType,code:_p.invalid_type}),Lp}if(this._cache||(this._cache=new Set(vp.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=vp.objectValues(t);return Dp(r,{received:r.data,code:_p.invalid_enum_value,options:e}),Lp}return Fp(e.data)}get enum(){return this._def.values}}Bf.create=(e,t)=>new Bf(qe({values:e,typeName:Qf.ZodNativeEnum},Zp(t)));class Wf extends $p{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Cp.promise&&!1===t.common.async)return Dp(t,{code:_p.invalid_type,expected:Cp.promise,received:t.parsedType}),Lp;const r=t.parsedType===Cp.promise?t.data:Promise.resolve(t.data);return Fp(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Wf.create=(e,t)=>new Wf(qe({type:e,typeName:Qf.ZodPromise},Zp(t)));class Hf extends $p{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qf.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{Dp(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){const e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Lp;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?Lp:"dirty"===n.status||"dirty"===t.value?Ip(n.value):n}));{if("aborted"===t.value)return Lp;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?Lp:"dirty"===n.status||"dirty"===t.value?Ip(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?Lp:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?Lp:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Up(e))return Lp;const s=n.transform(e.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>Up(e)?Promise.resolve(n.transform(e.value,a)).then((e=>({status:t.value,value:e}))):Lp))}vp.assertNever(n)}}Hf.create=(e,t,r)=>new Hf(qe({schema:e,typeName:Qf.ZodEffects,effect:t},Zp(r))),Hf.createWithPreprocess=(e,t,r)=>new Hf(qe({schema:t,effect:{type:"preprocess",transform:e},typeName:Qf.ZodEffects},Zp(r)));class qf extends $p{_parse(e){return this._getType(e)===Cp.undefined?Fp(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qf.create=(e,t)=>new qf(qe({innerType:e,typeName:Qf.ZodOptional},Zp(t)));class Zf extends $p{_parse(e){return this._getType(e)===Cp.null?Fp(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zf.create=(e,t)=>new Zf(qe({innerType:e,typeName:Qf.ZodNullable},Zp(t)));class $f extends $p{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Cp.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}$f.create=(e,t)=>new $f(qe({innerType:e,typeName:Qf.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},Zp(t)));class Gf extends $p{_parse(e){const{ctx:t}=this._processInputParams(e),r=qe(qe({},t),{},{common:qe(qe({},t.common),{},{issues:[]})}),n=this._def.innerType._parse({data:r.data,path:r.path,parent:qe({},r)});return Bp(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Tp(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new Tp(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gf.create=(e,t)=>new Gf(qe({innerType:e,typeName:Qf.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},Zp(t)));class Xf extends $p{_parse(e){if(this._getType(e)!==Cp.nan){const t=this._getOrReturnCtx(e);return Dp(t,{code:_p.invalid_type,expected:Cp.nan,received:t.parsedType}),Lp}return{status:"valid",value:e.data}}}Xf.create=e=>new Xf(qe({typeName:Qf.ZodNaN},Zp(e)));Symbol("zod_brand");class Kf extends $p{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Yf extends $p{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Lp:"dirty"===e.status?(t.dirty(),Ip(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})()}{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Lp:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new Yf({in:e,out:t,typeName:Qf.ZodPipeline})}}class Jf extends $p{_parse(e){const t=this._def.innerType._parse(e),r=e=>(Up(e)&&(e.value=Object.freeze(e.value)),e);return Bp(t)?t.then((e=>r(e))):r(t)}unwrap(){return this._def.innerType}}Jf.create=(e,t)=>new Jf(qe({innerType:e,typeName:Qf.ZodReadonly},Zp(t)));Af.lazycreate;var Qf;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Qf||(Qf={}));const ex=xf.create,tx=(gf.create,Xf.create,vf.create,bf.create),rx=(wf.create,jf.create,Nf.create,kf.create,Sf.create,Cf.create,Ef.create,_f.create,Tf.create,Af.create),nx=(Af.strictCreate,Mf.create,Df.create,Rf.create,Lf.create,If.create,Ff.create,zf.create,Uf.create);Bf.create,Wf.create,Hf.create,qf.create,Zf.create,Hf.createWithPreprocess,Yf.create;var ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sx=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],ix=(e,t)=>{const r=(0,s.forwardRef)(((r,n)=>{let{color:a="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d}=r,u=$i(r,sx);return(0,s.createElement)("svg",qe(qe({ref:n},ax),{},{width:i,height:i,stroke:a,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map((e=>{let[t,r]=e;return(0,s.createElement)(t,r)})),...Array.isArray(d)?d:[d]]);var m}));return r.displayName="".concat(e),r},ox=ix("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),lx=ix("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),cx=ix("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),dx=ix("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ux=ix("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),mx=ix("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),hx=rx({email:ex().min(1,"L'email est requis").email("Format d'email invalide"),password:ex().min(6,"Le mot de passe doit contenir au moins 6 caract\xe8res")}),px=()=>{const[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(null),[a,i]=(0,s.useState)(!1),{login:o,isLoading:l,isAuthenticated:c}=Ds(),{register:d,handleSubmit:u,formState:{errors:m,isValid:h}}=gp({resolver:Sp(hx),mode:"onSubmit",reValidateMode:"onChange"});console.log("Form errors:",m),console.log("Form isValid:",h),(0,s.useEffect)((()=>{c&&i(!1)}),[c]);const p=async e=>{if(console.log("Form submitted with data:",e),!a)try{i(!0),n(null),await o(e)}catch(s){var t,r;const e=(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message||"Une erreur est survenue lors de la connexion";n(e),i(!1),console.error("Login error:",s)}},f=()=>{r&&n(null)};return(0,Ps.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-100 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[(0,Ps.jsxs)(Um.div,{className:"absolute inset-0 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[(0,Ps.jsx)(Um.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-200 to-primary-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-blue-200 to-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{x:[0,-100,0],y:[0,100,0],scale:[1,1.1,1],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.div,{className:"absolute top-1/2 left-1/2 w-60 h-60 bg-gradient-to-br from-yellow-200 to-orange-300 rounded-full mix-blend-multiply filter blur-xl opacity-50",animate:{x:[-100,100,-100],y:[-50,50,-50],scale:[.8,1.3,.8]},transition:{duration:30,repeat:1/0,ease:"linear"}})]}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative z-10 w-full max-w-md",children:[(0,Ps.jsxs)(Um.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.6},className:"text-center mb-8",children:[(0,Ps.jsx)(Um.div,{className:"flex justify-center -mb-10",whileHover:{scale:1.05},transition:{duration:.3,ease:"easeInOut"},children:(0,Ps.jsx)("img",{src:"/assets/logo.png",alt:"ISI Archive Logo",className:"w-40 h-40 object-contain drop-shadow-2xl"})}),(0,Ps.jsxs)(Um.h1,{className:"text-3xl font-bold text-secondary-900 mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:["Bienvenue sur"," ",(0,Ps.jsx)(Um.span,{className:"bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0},children:"ISI Archive"})]}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.6},children:"Connectez-vous pour acc\xe9der \xe0 vos documents acad\xe9miques"})]}),(0,Ps.jsxs)(Um.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl shadow-primary-500/10 p-8 border border-white/20",children:[(0,Ps.jsxs)("form",{onSubmit:e=>{console.log("Form submit event triggered"),e.preventDefault(),console.log("Current form errors:",m),console.log("Form is valid:",h),u(p)(e)},className:"space-y-6",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Adresse email"}),(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:(0,Ps.jsx)(ox,{className:"w-5 h-5 text-secondary-400"})}),(0,Ps.jsx)("input",qe(qe({},d("email")),{},{type:"email",className:"w-full pl-12 pr-4 py-4 border-2 border-secondary-200 rounded-xl bg-white/80 backdrop-blur-sm text-secondary-900 placeholder-secondary-400 focus:outline-none focus:ring-0 focus:border-primary-500 transition-all duration-200 shadow-sm focus:shadow-lg focus:shadow-primary-500/10",placeholder:"votre@email.com",onInput:f}))]}),m.email&&(0,Ps.jsxs)(Um.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,Ps.jsx)("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center mr-2 text-xs",children:"!"}),m.email.message]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Mot de passe"}),(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:(0,Ps.jsx)(lx,{className:"w-5 h-5 text-secondary-400"})}),(0,Ps.jsx)("input",qe(qe({},d("password")),{},{type:e?"text":"password",className:"w-full pl-12 pr-12 py-4 border-2 border-secondary-200 rounded-xl bg-white/80 backdrop-blur-sm text-secondary-900 placeholder-secondary-400 focus:outline-none focus:ring-0 focus:border-primary-500 transition-all duration-200 shadow-sm focus:shadow-lg focus:shadow-primary-500/10",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onInput:f})),(0,Ps.jsx)("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 transition-colors z-10",children:e?(0,Ps.jsx)(cx,{className:"w-5 h-5"}):(0,Ps.jsx)(dx,{className:"w-5 h-5"})})]}),m.password&&(0,Ps.jsxs)(Um.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,Ps.jsx)("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center mr-2 text-xs",children:"!"}),m.password.message]})]}),(0,Ps.jsx)(Xm,{children:r&&(0,Ps.jsx)(Um.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3},className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(ux,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-red-800",children:"Erreur de connexion"}),(0,Ps.jsx)("p",{className:"text-sm text-red-700 mt-1",children:r})]})]})})}),(0,Ps.jsx)("div",{className:"text-right",children:(0,Ps.jsx)(Um.a,{href:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-500 transition-colors",whileHover:{scale:1.05},transition:{duration:.2},children:"Mot de passe oubli\xe9 ?"})}),(0,Ps.jsx)(Um.div,{variants:{hidden:{opacity:0,y:20,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}},hover:{scale:1.02,transition:{duration:.2,ease:"easeInOut"}},tap:{scale:.98,transition:{duration:.1}}},initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",children:(0,Ps.jsx)(Um.button,{type:"submit",disabled:a||l,className:"\n                  group relative w-full flex justify-center items-center py-4 px-4 border border-transparent \n                  text-sm font-medium rounded-xl text-white transition-all duration-300\n                  ".concat(a||l?"bg-secondary-400 cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 shadow-lg hover:shadow-xl shadow-primary-500/25","\n                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\n                "),children:(0,Ps.jsx)(Xm,{mode:"wait",children:a||l?(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center",children:[(0,Ps.jsx)(Um.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Connexion en cours..."]},"loading"):(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center",children:["Se connecter",(0,Ps.jsx)(Um.div,{className:"ml-2",animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0},children:(0,Ps.jsx)(mx,{className:"h-5 w-5"})})]},"submit")})})})]}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},className:"mt-6 p-4 bg-secondary-50 rounded-xl border border-secondary-200",children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-secondary-900 mb-3",children:"Comptes de d\xe9monstration :"}),(0,Ps.jsxs)("div",{className:"space-y-2 text-xs text-secondary-600",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"font-semibold text-secondary-800 mb-1",children:"\ud83d\udc64 Admin:"}),(0,Ps.jsx)("p",{className:"ml-4",children:"admin@isi.tn / admin123"})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"font-semibold text-secondary-800 mb-1",children:"\ud83d\udc68\u200d\ud83c\udfeb Professeurs:"}),(0,Ps.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,Ps.jsx)("p",{children:"prof.cs@isi.tn / prof123"}),(0,Ps.jsx)("p",{children:"prof.irs@isi.tn / prof123"}),(0,Ps.jsx)("p",{children:"prof.se@isi.tn / prof123"})]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"font-semibold text-secondary-800 mb-1",children:"\ud83d\udc68\u200d\ud83c\udf93 \xc9tudiants:"}),(0,Ps.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,Ps.jsx)("p",{children:"etudiant.l1@isi.tn / etudiant123"}),(0,Ps.jsx)("p",{children:"etudiant.l2@isi.tn / etudiant123"}),(0,Ps.jsx)("p",{children:"etudiant.l3@isi.tn / etudiant123"})]})]})]})]})]}),(0,Ps.jsx)(Um.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},className:"text-center mt-8",children:(0,Ps.jsx)("p",{className:"text-sm text-secondary-500",children:"\xa9 2024 ISI Archive. Plateforme de gestion de documents acad\xe9miques."})})]})]})},fx=ix("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),xx=ix("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),yx=rx({email:ex().min(1,"L'email est requis").email("Format d'email invalide")}),gx=()=>{const[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),{register:a,handleSubmit:i,formState:{errors:o},getValues:l}=gp({resolver:Sp(yx)});return r?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-100 px-4 sm:px-6 lg:px-8",children:(0,Ps.jsx)(Um.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:(0,Ps.jsxs)("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl shadow-primary-500/10 p-8 border border-white/20 text-center",children:[(0,Ps.jsx)(Um.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,duration:.5},className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:(0,Ps.jsx)(fx,{className:"w-8 h-8 text-green-600"})}),(0,Ps.jsx)(Um.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-secondary-900 mb-4",children:"Email envoy\xe9 !"}),(0,Ps.jsxs)(Um.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-secondary-600 mb-6",children:["Si l'adresse ",(0,Ps.jsx)("strong",{children:l("email")})," existe dans notre syst\xe8me, vous recevrez un email avec les instructions pour r\xe9initialiser votre mot de passe."]}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"space-y-4",children:[(0,Ps.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Ps.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Ps.jsx)("strong",{children:"V\xe9rifiez votre bo\xeete de r\xe9ception"}),(0,Ps.jsx)("br",{}),"Le lien de r\xe9initialisation est valide pendant 1 heure seulement."]})}),(0,Ps.jsxs)(De,{to:"/login",className:"inline-flex items-center justify-center w-full px-4 py-3 border border-transparent text-sm font-medium rounded-xl text-primary-600 bg-primary-50 hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-2"}),"Retour \xe0 la connexion"]})]})]})})}):(0,Ps.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-100 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[(0,Ps.jsxs)(Um.div,{className:"absolute inset-0 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[(0,Ps.jsx)(Um.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-200 to-primary-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-blue-200 to-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{x:[0,-100,0],y:[0,100,0],scale:[1,1.1,1],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"}})]}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative z-10 w-full max-w-md",children:[(0,Ps.jsxs)(Um.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.6},className:"text-center mb-8",children:[(0,Ps.jsx)(Um.div,{className:"flex justify-center -mb-10",whileHover:{scale:1.05},transition:{duration:.3,ease:"easeInOut"},children:(0,Ps.jsx)("img",{src:"/assets/logo.png",alt:"ISI Archive Logo",className:"w-40 h-40 object-contain drop-shadow-2xl"})}),(0,Ps.jsx)(Um.h1,{className:"text-3xl font-bold text-secondary-900 mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:"Mot de passe oubli\xe9 ?"}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.6},children:"Entrez votre email pour recevoir un lien de r\xe9initialisation"})]}),(0,Ps.jsx)(Um.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl shadow-primary-500/10 p-8 border border-white/20",children:(0,Ps.jsxs)("form",{onSubmit:i((async e=>{t(!0);try{const t=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();t.ok?(n(!0),sr.success("Email de r\xe9initialisation envoy\xe9 !")):sr.error(r.message||"Erreur lors de l'envoi de l'email")}catch(r){console.error("Forgot password error:",r),sr.error("Erreur de connexion au serveur")}finally{t(!1)}})),className:"space-y-6",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Adresse email"}),(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:(0,Ps.jsx)(ox,{className:"w-5 h-5 text-secondary-400"})}),(0,Ps.jsx)("input",qe(qe({},a("email")),{},{type:"email",className:"w-full pl-12 pr-4 py-4 border-2 border-secondary-200 rounded-xl bg-white/80 backdrop-blur-sm text-secondary-900 placeholder-secondary-400 focus:outline-none focus:ring-0 focus:border-primary-500 transition-all duration-200 shadow-sm focus:shadow-lg focus:shadow-primary-500/10",placeholder:"votre@email.com"}))]}),o.email&&(0,Ps.jsxs)(Um.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,Ps.jsx)("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center mr-2 text-xs",children:"!"}),o.email.message]})]}),(0,Ps.jsx)(Um.button,{type:"submit",disabled:e,className:"\n                group relative w-full flex justify-center items-center py-4 px-4 border border-transparent \n                text-sm font-medium rounded-xl text-white transition-all duration-300\n                ".concat(e?"bg-secondary-400 cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 shadow-lg hover:shadow-xl shadow-primary-500/25","\n                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\n              "),whileHover:e?{}:{scale:1.02},whileTap:e?{}:{scale:.98},children:e?(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Um.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Envoi en cours..."]}):"Envoyer le lien de r\xe9initialisation"}),(0,Ps.jsx)("div",{className:"text-center",children:(0,Ps.jsxs)(De,{to:"/login",className:"inline-flex items-center text-sm text-primary-600 hover:text-primary-500 transition-colors",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-1"}),"Retour \xe0 la connexion"]})})]})}),(0,Ps.jsx)(Um.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},className:"text-center mt-8",children:(0,Ps.jsx)("p",{className:"text-sm text-secondary-500",children:"\xa9 2024 ISI Archive. Plateforme de gestion de documents acad\xe9miques."})})]})]})},vx=rx({password:ex().min(6,"Le mot de passe doit contenir au moins 6 caract\xe8res"),confirmPassword:ex().min(1,"Veuillez confirmer votre mot de passe")}).refine((e=>e.password===e.confirmPassword),{message:"Les mots de passe ne correspondent pas",path:["confirmPassword"]}),bx=()=>{const[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),u=ne(),[m]=ze(),h=m.get("token"),{register:p,handleSubmit:f,formState:{errors:x}}=gp({resolver:Sp(vx)});(0,s.useEffect)((()=>{h?d(!0):(d(!1),sr.error("Token de r\xe9initialisation manquant"))}),[h]);return!1===c?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-100 px-4 sm:px-6 lg:px-8",children:(0,Ps.jsx)(Um.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:(0,Ps.jsxs)("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl shadow-primary-500/10 p-8 border border-white/20 text-center",children:[(0,Ps.jsx)(Um.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,duration:.5},className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-6",children:(0,Ps.jsx)(ux,{className:"w-8 h-8 text-red-600"})}),(0,Ps.jsx)(Um.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-secondary-900 mb-4",children:"Lien invalide"}),(0,Ps.jsx)(Um.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-secondary-600 mb-6",children:"Ce lien de r\xe9initialisation est invalide ou a expir\xe9. Veuillez demander un nouveau lien de r\xe9initialisation."}),(0,Ps.jsx)(Um.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},onClick:()=>u("/forgot-password"),className:"w-full px-4 py-3 border border-transparent text-sm font-medium rounded-xl text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:"Demander un nouveau lien"})]})})}):o?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-100 px-4 sm:px-6 lg:px-8",children:(0,Ps.jsx)(Um.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:(0,Ps.jsxs)("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl shadow-primary-500/10 p-8 border border-white/20 text-center",children:[(0,Ps.jsx)(Um.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,duration:.5},className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6",children:(0,Ps.jsx)(fx,{className:"w-8 h-8 text-green-600"})}),(0,Ps.jsx)(Um.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-secondary-900 mb-4",children:"Mot de passe r\xe9initialis\xe9 !"}),(0,Ps.jsx)(Um.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-secondary-600 mb-6",children:"Votre mot de passe a \xe9t\xe9 r\xe9initialis\xe9 avec succ\xe8s. Vous allez \xeatre redirig\xe9 vers la page de connexion."}),(0,Ps.jsx)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Ps.jsx)("p",{className:"text-sm text-green-800",children:"Redirection automatique dans 3 secondes..."})})]})})}):(0,Ps.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-100 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[(0,Ps.jsxs)(Um.div,{className:"absolute inset-0 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[(0,Ps.jsx)(Um.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-200 to-primary-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{x:[0,100,0],y:[0,-100,0],scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-blue-200 to-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70",animate:{x:[0,-100,0],y:[0,100,0],scale:[1,1.1,1],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"}})]}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative z-10 w-full max-w-md",children:[(0,Ps.jsxs)(Um.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.6},className:"text-center mb-8",children:[(0,Ps.jsx)(Um.div,{className:"flex justify-center -mb-10",whileHover:{scale:1.05},transition:{duration:.3,ease:"easeInOut"},children:(0,Ps.jsx)("img",{src:"/assets/logo.png",alt:"ISI Archive Logo",className:"w-40 h-40 object-contain drop-shadow-2xl"})}),(0,Ps.jsx)(Um.h1,{className:"text-3xl font-bold text-secondary-900 mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:"Nouveau mot de passe"}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.6},children:"Choisissez un nouveau mot de passe s\xe9curis\xe9"})]}),(0,Ps.jsx)(Um.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl shadow-primary-500/10 p-8 border border-white/20",children:(0,Ps.jsxs)("form",{onSubmit:f((async e=>{if(h){t(!0);try{const t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:h,password:e.password})}),a=await t.json();var r,n;if(t.ok)l(!0),sr.success("Mot de passe r\xe9initialis\xe9 avec succ\xe8s !"),setTimeout((()=>{u("/login")}),3e3);else sr.error(a.message||"Erreur lors de la r\xe9initialisation"),(null!==(r=a.message)&&void 0!==r&&r.includes("invalide")||null!==(n=a.message)&&void 0!==n&&n.includes("expir\xe9"))&&d(!1)}catch(a){console.error("Reset password error:",a),sr.error("Erreur de connexion au serveur")}finally{t(!1)}}else sr.error("Token de r\xe9initialisation manquant")})),className:"space-y-6",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Nouveau mot de passe"}),(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:(0,Ps.jsx)(lx,{className:"w-5 h-5 text-secondary-400"})}),(0,Ps.jsx)("input",qe(qe({},p("password")),{},{type:r?"text":"password",className:"w-full pl-12 pr-12 py-4 border-2 border-secondary-200 rounded-xl bg-white/80 backdrop-blur-sm text-secondary-900 placeholder-secondary-400 focus:outline-none focus:ring-0 focus:border-primary-500 transition-all duration-200 shadow-sm focus:shadow-lg focus:shadow-primary-500/10",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})),(0,Ps.jsx)("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 transition-colors z-10",children:r?(0,Ps.jsx)(cx,{className:"w-5 h-5"}):(0,Ps.jsx)(dx,{className:"w-5 h-5"})})]}),x.password&&(0,Ps.jsxs)(Um.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,Ps.jsx)("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center mr-2 text-xs",children:"!"}),x.password.message]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Confirmer le mot de passe"}),(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:(0,Ps.jsx)(lx,{className:"w-5 h-5 text-secondary-400"})}),(0,Ps.jsx)("input",qe(qe({},p("confirmPassword")),{},{type:a?"text":"password",className:"w-full pl-12 pr-12 py-4 border-2 border-secondary-200 rounded-xl bg-white/80 backdrop-blur-sm text-secondary-900 placeholder-secondary-400 focus:outline-none focus:ring-0 focus:border-primary-500 transition-all duration-200 shadow-sm focus:shadow-lg focus:shadow-primary-500/10",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})),(0,Ps.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-secondary-400 hover:text-secondary-600 transition-colors z-10",children:a?(0,Ps.jsx)(cx,{className:"w-5 h-5"}):(0,Ps.jsx)(dx,{className:"w-5 h-5"})})]}),x.confirmPassword&&(0,Ps.jsxs)(Um.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,Ps.jsx)("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center mr-2 text-xs",children:"!"}),x.confirmPassword.message]})]}),(0,Ps.jsx)(Um.button,{type:"submit",disabled:e,className:"\n                group relative w-full flex justify-center items-center py-4 px-4 border border-transparent \n                text-sm font-medium rounded-xl text-white transition-all duration-300\n                ".concat(e?"bg-secondary-400 cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 shadow-lg hover:shadow-xl shadow-primary-500/25","\n                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\n              "),whileHover:e?{}:{scale:1.02},whileTap:e?{}:{scale:.98},children:e?(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Um.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"R\xe9initialisation..."]}):"R\xe9initialiser le mot de passe"})]})}),(0,Ps.jsx)(Um.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},className:"text-center mt-8",children:(0,Ps.jsx)("p",{className:"text-sm text-secondary-500",children:"\xa9 2024 ISI Archive. Plateforme de gestion de documents acad\xe9miques."})})]})]})},wx=ix("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),jx=ix("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Nx=ix("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),kx=ix("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Sx=ix("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Cx=ix("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ex=ix("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_x=ix("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Tx=ix("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Px=ix("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ax=ix("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),Mx=ix("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ox=ix("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Dx=ix("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rx=ix("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Lx=ix("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ix=[{name:"Tableau de bord",href:"/dashboard",icon:Sx,description:"Vue d'ensemble de votre activit\xe9"},{name:"Documents",href:"/documents",icon:Cx,description:"Parcourir les documents acad\xe9miques"},{name:"Corbeille",href:"/trash",icon:Ex,roles:["professeur","admin"],description:"Documents supprim\xe9s - R\xe9cup\xe9ration 30 jours"},{name:"Administration",href:"/admin",icon:_x,roles:["admin"],description:"Gestion du syst\xe8me",children:[{name:"Utilisateurs",href:"/admin/users",icon:Tx,roles:["admin"],description:"G\xe9rer les comptes utilisateurs"},{name:"Fili\xe8res",href:"/admin/filieres",icon:Px,roles:["admin"],description:"G\xe9rer les fili\xe8res d'\xe9tudes"},{name:"Mati\xe8res",href:"/admin/matieres",icon:Ax,roles:["admin"],description:"G\xe9rer les mati\xe8res enseign\xe9es"},{name:"Activit\xe9",href:"/admin/activity",icon:Mx,roles:["admin"],description:"Journal d'audit du syst\xe8me"}]},{name:"Mes Mati\xe8res",href:"/professor/subjects",icon:Ox,roles:["professeur"],description:"G\xe9rer vos mati\xe8res enseign\xe9es"},{name:"Mes Mati\xe8res",href:"/student/subjects",icon:Px,roles:["etudiant"],description:"Consulter vos mati\xe8res d'\xe9tudes"}],Fx=e=>{let{isOpen:t,onToggle:r}=e;const{user:n,logout:a}=Ds(),i=te(),[o,l]=(0,s.useState)(["Administration"]),[c,d]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=()=>{d(window.innerWidth>=1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const u=Ix.filter((e=>!e.roles||n&&e.roles.includes(n.role))),m={open:{x:0,transition:{type:"spring",stiffness:300,damping:30,staggerChildren:.05,delayChildren:.1}},closed:{x:c?0:"-100%",transition:{type:"spring",stiffness:300,damping:30}}},h={open:{opacity:1,x:0,transition:{duration:.3,ease:[.25,.46,.45,.94]}},closed:{opacity:0,x:-20}},p=e=>{switch(e){case"orange":default:return"bg-orange-100 text-orange-600 border-orange-200";case"blue":return"bg-blue-100 text-blue-600 border-blue-200";case"green":return"bg-green-100 text-green-600 border-green-200";case"red":return"bg-red-100 text-red-600 border-red-200"}},f=e=>{var t,r;let{item:a,level:c=0}=e;const[d,u]=(0,s.useState)(!1),m=a.children&&a.children.length>0,x=o.includes(a.name),y=i.pathname===a.href||m&&(null===(t=a.children)||void 0===t?void 0:t.some((e=>i.pathname===e.href))),g=null===(r=a.children)||void 0===r?void 0:r.filter((e=>!e.roles||n&&e.roles.includes(n.role)));return m?(0,Ps.jsxs)(Um.div,{variants:h,children:[(0,Ps.jsxs)(Um.button,{onClick:()=>{return e=a.name,void l((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 group ".concat(y?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-secondary-600 hover:bg-primary-50 hover:text-primary-700"),style:{paddingLeft:"".concat(1+.5*c,"rem")},whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(a.icon,{className:"h-5 w-5 mr-3"}),(0,Ps.jsx)("span",{className:"font-medium",children:a.name}),a.badge&&(0,Ps.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full border ".concat(p(a.badgeColor)),children:a.badge})]}),(0,Ps.jsx)(Um.div,{animate:{rotate:x?180:0},transition:{duration:.2},children:(0,Ps.jsx)(Nx,{className:"h-4 w-4"})})]}),(0,Ps.jsx)(Xm,{children:x&&g&&(0,Ps.jsx)(Um.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-4 mt-2 space-y-1 border-l-2 border-primary-100 pl-4",children:g.map((e=>(0,Ps.jsx)(f,{item:e,level:c+1},e.name)))})})]}):(0,Ps.jsx)(Um.div,{variants:h,children:(0,Ps.jsx)(Re,{to:a.href,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:e=>{let{isActive:t}=e;return"flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 group ".concat(t?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-secondary-600 hover:bg-primary-50 hover:text-primary-700")},style:{paddingLeft:"".concat(1+.5*c,"rem")},children:e=>{let{isActive:t}=e;return(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(a.icon,{className:"h-5 w-5 mr-3"}),(0,Ps.jsx)("span",{className:"font-medium",children:a.name}),a.badge&&(0,Ps.jsx)("span",{className:"ml-auto px-2 py-1 text-xs rounded-full border ".concat(p(a.badgeColor)),children:a.badge}),t&&(0,Ps.jsx)(Um.div,{className:"absolute right-0 top-1/2 w-1 h-8 bg-white rounded-l-full",initial:{scale:0},animate:{scale:1},transition:{duration:.2}})]})}})})};return(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(Xm,{children:t&&(0,Ps.jsx)(Um.div,{variants:{open:{opacity:1,transition:{duration:.3}},closed:{opacity:0,transition:{duration:.3}}},initial:"closed",animate:"open",exit:"closed",className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:r})}),(0,Ps.jsx)(Um.aside,{variants:m,initial:c?"open":"closed",animate:t?"open":"closed",className:"\n          w-80 bg-white/95 backdrop-blur-xl shadow-lg border-r border-secondary-200\n          ".concat(c?"relative flex flex-col":"fixed inset-y-0 left-0 z-50 ".concat(t?"flex flex-col":"hidden"),"\n        "),children:(0,Ps.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Ps.jsxs)(Um.div,{className:"flex items-center justify-between p-6 border-b border-secondary-100",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("img",{src:"/assets/logo.png",alt:"ISI Archive Logo",className:"h-10 w-10 object-contain"}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent",children:"ISI Archive"}),(0,Ps.jsx)("p",{className:"text-xs text-secondary-500",children:"Gestion documentaire"})]})]}),(0,Ps.jsx)(Um.button,{onClick:r,className:"lg:hidden p-2 rounded-xl text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,Ps.jsx)(Dx,{className:"h-5 w-5"})})]}),(0,Ps.jsx)(Um.nav,{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",variants:m,children:u.map((e=>(0,Ps.jsx)(f,{item:e},e.name)))}),(0,Ps.jsx)(Um.div,{className:"p-4 border-t border-secondary-100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:(0,Ps.jsxs)(Um.button,{onClick:async()=>{try{await a()}catch(e){console.error("Logout error:",e)}},className:"w-full flex items-center px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200 group",whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,Ps.jsx)(Rx,{className:"h-5 w-5 mr-3"}),(0,Ps.jsx)("span",{children:"Se d\xe9connecter"}),(0,Ps.jsx)(Lx,{className:"h-4 w-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})})]})},zx=e=>{let{children:t}=e;const[r,n]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1),{user:o}=Ds();(0,s.useEffect)((()=>{const e=()=>{window.innerWidth>=1024?n(!0):n(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const l=()=>{n(!r)};return(0,Ps.jsxs)("div",{className:"h-screen flex bg-gradient-to-br from-secondary-50 to-primary-50/30",children:[(0,Ps.jsx)(Fx,{isOpen:r,onToggle:l}),(0,Ps.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Ps.jsx)(Um.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.25,.46,.45,.94]},className:"bg-white/80 backdrop-blur-lg shadow-lg border-b border-white/20 px-4 py-4 relative z-50",children:(0,Ps.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ps.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ps.jsx)(Um.button,{onClick:l,className:"lg:hidden p-2 rounded-xl text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100/50 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,Ps.jsx)(wx,{className:"h-5 w-5"})})}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ps.jsxs)(Um.button,{className:"p-2.5 text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100/50 rounded-xl transition-all duration-300 relative",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Ps.jsx)(jx,{className:"h-5 w-5"}),(0,Ps.jsx)(Um.span,{className:"absolute top-1.5 right-1.5 block h-2 w-2 rounded-full bg-red-400",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),o&&(0,Ps.jsxs)("div",{className:"relative z-50",children:[(0,Ps.jsxs)(Um.button,{onClick:()=>i(!a),className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-secondary-100/50 transition-all duration-300 group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Ps.jsxs)("div",{className:"hidden md:block text-right",children:[(0,Ps.jsxs)("p",{className:"text-sm font-medium text-secondary-900 group-hover:text-primary-700 transition-colors",children:[o.prenom||""," ",o.nom||""]}),(0,Ps.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,Ps.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs font-medium rounded-full ".concat((e=>{switch(e){case"admin":return"bg-red-100 text-red-700";case"professeur":return"bg-blue-100 text-blue-700";case"etudiant":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}})(o.role)),children:o.role})})]}),(0,Ps.jsx)(Um.div,{className:"h-10 w-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",whileHover:{scale:1.1},transition:{duration:.2},children:(0,Ps.jsxs)("span",{className:"text-white font-medium text-sm",children:[(o.prenom||"").charAt(0),(o.nom||"").charAt(0)]})}),(0,Ps.jsx)(Um.div,{animate:{rotate:a?180:0},transition:{duration:.3},className:"hidden md:block",children:(0,Ps.jsx)(Nx,{className:"h-4 w-4 text-secondary-400"})})]}),(0,Ps.jsx)(Xm,{children:a&&(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-secondary-100 py-2 z-[100]",onBlur:()=>i(!1),children:[(0,Ps.jsxs)("div",{className:"px-4 py-3 border-b border-secondary-100",children:[(0,Ps.jsxs)("p",{className:"text-sm font-medium text-secondary-900",children:[o.prenom||""," ",o.nom||""]}),(0,Ps.jsx)("p",{className:"text-xs text-secondary-500",children:o.email})]}),(0,Ps.jsxs)(Um.a,{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-50 transition-colors",whileHover:{x:4},transition:{duration:.2},children:[(0,Ps.jsx)(kx,{className:"h-4 w-4 mr-3"}),"Mon Profil"]})]})})]})]})]})}),(0,Ps.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,Ps.jsx)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1,ease:[.25,.46,.45,.94]},className:"p-6",children:(0,Ps.jsx)(Um.div,{className:"max-w-7xl mx-auto",layout:!0,transition:{duration:.3},children:t})})})]})]})},Vx=ix("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ux=ix("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Bx=ix("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Wx=ix("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Hx=ix("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qx=ix("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Zx=ix("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),$x=ix("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Gx=ix("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Xx=ix("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Kx=ix("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Yx=ix("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Jx=ix("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Qx=ix("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ey=()=>{const{user:e}=Ds(),[t,r]=(ne(),(0,s.useState)(null)),[n,a]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null);(0,s.useEffect)((()=>{e&&(async()=>{try{let t;switch(a(!0),o(null),null===e||void 0===e?void 0:e.role){case"admin":t=await Cs();break;case"professeur":t=await Es();break;case"etudiant":t=await _s();break;default:throw new Error("R\xf4le utilisateur non reconnu")}r(t.data)}catch(i){var t,n;console.error("Error fetching dashboard data:",i),o((null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Erreur lors du chargement du dashboard")}finally{a(!1)}})()}),[e]);const d=(()=>{return t?"admin"===(null===e||void 0===e?void 0:e.role)?[{title:"Total Utilisateurs",value:t.stats.totalUsers||0,icon:Tx,color:"text-blue-600",bgColor:"bg-blue-500",change:t.stats.userGrowth||"0%",changeType:null!==(r=t.stats.userGrowth)&&void 0!==r&&r.startsWith("-")?"decrease":"increase",description:"Utilisateurs actifs",trend:[65,78,82,95,88,92,100]},{title:"Documents",value:t.stats.totalDocuments||0,icon:Cx,color:"text-green-600",bgColor:"bg-green-500",change:t.stats.documentGrowth||"0%",changeType:null!==(n=t.stats.documentGrowth)&&void 0!==n&&n.startsWith("-")?"decrease":"increase",description:"Documents disponibles",trend:[45,52,48,61,70,75,82]},{title:"Fili\xe8res",value:t.stats.totalFilieres||0,icon:Px,color:"text-purple-600",bgColor:"bg-purple-500",description:"Fili\xe8res disponibles",trend:[10,11,12,13,14,14,15]},{title:"Activit\xe9 Syst\xe8me",value:t.stats.systemActivity||0,icon:Vx,color:"text-orange-600",bgColor:"bg-orange-500",description:"Actions ce mois",trend:[75,78,82,85,87,88,89]}]:"professeur"===(null===e||void 0===e?void 0:e.role)?[{title:"Mes Documents",value:t.stats.myDocuments||0,icon:Cx,color:"text-blue-600",bgColor:"bg-blue-500",change:t.stats.documentGrowth||"0%",changeType:null!==(a=t.stats.documentGrowth)&&void 0!==a&&a.startsWith("-")?"decrease":"increase",description:"Documents publi\xe9s",trend:[35,38,40,42,43,44,45]},{title:"T\xe9l\xe9chargements",value:t.stats.totalDownloads||0,icon:Ux,color:"text-green-600",bgColor:"bg-green-500",change:t.stats.downloadGrowth||"0%",changeType:null!==(s=t.stats.downloadGrowth)&&void 0!==s&&s.startsWith("-")?"decrease":"increase",description:"Total t\xe9l\xe9chargements",trend:[180,195,210,220,225,230,234]},{title:"Vues",value:t.stats.totalViews||0,icon:dx,color:"text-purple-600",bgColor:"bg-purple-500",description:"Vues de documents",trend:[120,135,150,165,170,175,180]},{title:"Commentaires",value:t.stats.recentComments||0,icon:Bx,color:"text-orange-600",bgColor:"bg-orange-500",description:"Nouveaux ce mois",trend:[8,9,10,10,11,11,12]}]:[{title:"Documents Consult\xe9s",value:t.stats.documentsViewed||0,icon:dx,color:"text-blue-600",bgColor:"bg-blue-500",change:t.stats.viewGrowth||"0%",changeType:null!==(i=t.stats.viewGrowth)&&void 0!==i&&i.startsWith("-")?"decrease":"increase",description:"Total consult\xe9s",trend:[55,58,62,64,65,66,67]},{title:"T\xe9l\xe9chargements",value:t.stats.documentsDownloaded||0,icon:Ux,color:"text-green-600",bgColor:"bg-green-500",change:t.stats.downloadGrowth||"0%",changeType:null!==(o=t.stats.downloadGrowth)&&void 0!==o&&o.startsWith("-")?"decrease":"increase",description:"Fichiers t\xe9l\xe9charg\xe9s",trend:[18,19,20,21,22,22,23]},{title:"S\xe9rie d'Apprentissage",value:"".concat(t.stats.learningStreak||0," jours"),icon:Wx,color:"text-red-600",bgColor:"bg-red-500",description:"Jours cons\xe9cutifs",trend:[1,2,3,4,5,6,7]},{title:"Activit\xe9 ce Mois",value:t.stats.viewsThisMonth+t.stats.downloadsThisMonth||0,icon:Vx,color:"text-orange-600",bgColor:"bg-orange-500",description:"Actions ce mois",trend:[78,82,85,88,90,91,92]}]:[];var r,n,a,s,i,o})(),u="admin"===(null===e||void 0===e?void 0:e.role)?[{title:"G\xe9rer les utilisateurs",description:"Cr\xe9er et g\xe9rer les comptes utilisateurs",icon:Tx,href:"/admin/users",color:"text-blue-600",bgColor:"bg-blue-500"},{title:"G\xe9rer les fili\xe8res",description:"Organiser les fili\xe8res d'\xe9tudes",icon:Px,href:"/admin/filieres",color:"text-green-600",bgColor:"bg-green-500"},{title:"G\xe9rer les mati\xe8res",description:"Configurer les mati\xe8res enseign\xe9es",icon:Ax,href:"/admin/matieres",color:"text-purple-600",bgColor:"bg-purple-500"},{title:"Voir l'activit\xe9",description:"Analyser l'utilisation de la plateforme",icon:Hx,href:"/admin/activity",color:"text-orange-600",bgColor:"bg-orange-500"}]:"professeur"===(null===e||void 0===e?void 0:e.role)?[{title:"T\xe9l\xe9charger un document",description:"Ajouter un nouveau document",icon:qx,href:"/documents/upload",color:"text-blue-600",bgColor:"bg-blue-500"},{title:"Mes documents",description:"Voir tous vos documents",icon:Cx,href:"/documents",color:"text-green-600",bgColor:"bg-green-500"},{title:"Corbeille",description:"G\xe9rer les documents supprim\xe9s",icon:Zx,href:"/trash",color:"text-purple-600",bgColor:"bg-purple-500"},{title:"Mon profil",description:"G\xe9rer vos informations",icon:kx,href:"/profile",color:"text-orange-600",bgColor:"bg-orange-500"}]:[{title:"Parcourir les documents",description:"Explorer les ressources disponibles",icon:Cx,href:"/documents",color:"text-blue-600",bgColor:"bg-blue-500"},{title:"Mes favoris",description:"Acc\xe9der \xe0 vos documents favoris",icon:$x,href:"/favorites",color:"text-green-600",bgColor:"bg-green-500"},{title:"Recherche avanc\xe9e",description:"Trouver des documents sp\xe9cifiques",icon:Gx,href:"/search",color:"text-purple-600",bgColor:"bg-purple-500"},{title:"Mon profil",description:"G\xe9rer vos informations",icon:kx,href:"/profile",color:"text-orange-600",bgColor:"bg-orange-500"}],m={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},h={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}},p=e=>{let{data:t,color:r}=e;const n=Math.max(...t),a=Math.min(...t),s=n-a;return(0,Ps.jsx)("div",{className:"flex items-end space-x-1 h-8",children:t.map(((e,t)=>{const n=0===s?50:(e-a)/s*100;return(0,Ps.jsx)(Um.div,{className:"w-1 ".concat(r," rounded-full"),initial:{height:0},animate:{height:"".concat(Math.max(n,10),"%")},transition:{delay:.1*t,duration:.5}},t)}))})};if(n)return(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement de votre tableau de bord..."})]})});const f=(()=>{switch(null===e||void 0===e?void 0:e.role){case"admin":return _x;case"professeur":return Ax;default:return Px}})();return(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-8",children:[(0,Ps.jsxs)(Um.div,{variants:m,className:"relative overflow-hidden bg-gradient-to-br from-primary-50 via-white to-primary-100 rounded-2xl p-8 border border-primary-100",children:[(0,Ps.jsx)(Um.div,{className:"absolute top-0 right-0 w-64 h-64 opacity-10",animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},children:(0,Ps.jsx)(f,{className:"w-full h-full text-primary-600"})}),(0,Ps.jsxs)("div",{className:"relative z-10",children:[(0,Ps.jsxs)(Um.div,{className:"flex items-center space-x-4 mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[(0,Ps.jsx)(Um.div,{className:"h-16 w-16 bg-gradient-to-br ".concat((()=>{switch(null===e||void 0===e?void 0:e.role){case"admin":return"from-red-500 to-red-600";case"professeur":return"from-blue-500 to-blue-600";default:return"from-green-500 to-green-600"}})()," rounded-2xl flex items-center justify-center shadow-lg"),whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:(0,Ps.jsx)(f,{className:"h-8 w-8 text-white"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)(Um.h1,{className:"text-3xl font-bold text-secondary-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:(()=>{const t=(new Date).getHours();let r="Bonsoir";return t<12?r="Bonjour":t<18&&(r="Bon apr\xe8s-midi"),"".concat(r,", ").concat(null===e||void 0===e?void 0:e.prenom,"!")})()}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 text-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:"Voici un aper\xe7u de votre activit\xe9 sur ISI Archive"})]})]}),(0,Ps.jsxs)(Um.div,{className:"flex items-center space-x-2 text-sm text-secondary-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},children:[(0,Ps.jsx)(Xx,{className:"h-4 w-4"}),(0,Ps.jsx)("span",{children:(new Date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]}),(0,Ps.jsxs)(Um.div,{variants:m,children:[(0,Ps.jsxs)(Um.h2,{className:"text-2xl font-bold text-secondary-900 mb-6 flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.6},children:[(0,Ps.jsx)(Hx,{className:"h-6 w-6 mr-3 text-primary-600"}),"Statistiques"]}),(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(((e,t)=>{const r=e.icon;return(0,Ps.jsxs)(Um.div,{variants:h,whileHover:"hover",onMouseEnter:()=>c(e.title),onMouseLeave:()=>c(null),className:"relative overflow-hidden bg-white rounded-2xl p-6 shadow-lg border border-secondary-100 cursor-pointer",style:{boxShadow:l===e.title?"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)":void 0},children:[(0,Ps.jsx)(Um.div,{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ".concat(e.bgColor,"/10 rounded-full -mr-12 -mt-12"),animate:{scale:l===e.title?1.2:1,opacity:l===e.title?1:.5},transition:{duration:.3}}),(0,Ps.jsxs)("div",{className:"relative z-10",children:[(0,Ps.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ps.jsx)(Um.div,{className:"h-12 w-12 bg-gradient-to-br ".concat(e.bgColor," rounded-xl flex items-center justify-center shadow-lg"),whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:(0,Ps.jsx)(r,{className:"h-6 w-6 text-white"})}),e.trend&&(0,Ps.jsx)(p,{data:e.trend,color:e.bgColor})]}),(0,Ps.jsxs)(Um.div,{className:"space-y-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t+.3,duration:.5},children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-secondary-600",children:e.title}),(0,Ps.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,Ps.jsx)(Um.span,{className:"text-3xl font-bold text-secondary-900",initial:{scale:0},animate:{scale:1},transition:{delay:.1*t+.5,duration:.5,type:"spring",stiffness:200},children:e.value}),e.change&&(0,Ps.jsxs)(Um.div,{className:"flex items-center text-sm font-medium ".concat("increase"===e.changeType?"text-green-600":"text-red-600"),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t+.7,duration:.5},children:["increase"===e.changeType?(0,Ps.jsx)(Kx,{className:"h-4 w-4 mr-1"}):(0,Ps.jsx)(Yx,{className:"h-4 w-4 mr-1"}),e.change]})]}),e.description&&(0,Ps.jsx)(Um.p,{className:"text-xs text-secondary-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1*t+.9,duration:.5},children:e.description})]})]})]},e.title)}))})]}),(0,Ps.jsxs)(Um.div,{variants:m,children:[(0,Ps.jsxs)(Um.h2,{className:"text-2xl font-bold text-secondary-900 mb-6 flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[(0,Ps.jsx)(Jx,{className:"h-6 w-6 mr-3 text-primary-600"}),"Actions rapides"]}),(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(((e,t)=>{const r=e.icon;return(0,Ps.jsxs)(Um.a,{href:e.href,variants:h,whileHover:"hover",className:"group relative overflow-hidden bg-white rounded-2xl p-6 shadow-lg border border-secondary-100 transition-all duration-300 hover:shadow-xl",children:[(0,Ps.jsx)(Um.div,{className:"absolute inset-0 bg-gradient-to-br ".concat(e.bgColor,"/5 opacity-0 group-hover:opacity-100"),transition:{duration:.3}}),(0,Ps.jsxs)("div",{className:"relative z-10",children:[(0,Ps.jsx)(Um.div,{className:"h-12 w-12 bg-gradient-to-br ".concat(e.bgColor," rounded-xl flex items-center justify-center shadow-lg mb-4"),whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:(0,Ps.jsx)(r,{className:"h-6 w-6 text-white"})}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t+.5,duration:.5},children:[(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-2 group-hover:text-primary-700 transition-colors",children:e.title}),(0,Ps.jsx)("p",{className:"text-sm text-secondary-600 group-hover:text-secondary-700 transition-colors",children:e.description})]}),(0,Ps.jsx)(Um.div,{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100",initial:{scale:0,rotate:-90},whileHover:{scale:1,rotate:0},transition:{duration:.3},children:(0,Ps.jsx)(Kx,{className:"h-5 w-5 text-primary-600"})})]})]},e.title)}))})]}),(0,Ps.jsxs)(Um.div,{variants:m,children:[(0,Ps.jsxs)(Um.h2,{className:"text-2xl font-bold text-secondary-900 mb-6 flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6,duration:.6},children:[(0,Ps.jsx)(Mx,{className:"h-6 w-6 mr-3 text-primary-600"}),"Activit\xe9 r\xe9cente"]}),(0,Ps.jsx)(Um.div,{className:"bg-white rounded-2xl p-6 shadow-lg border border-secondary-100",variants:h,children:(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Um.div,{className:"mx-auto w-16 h-16 bg-secondary-100 rounded-full flex items-center justify-center mb-4",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:(0,Ps.jsx)(Qx,{className:"w-8 h-8 text-secondary-400"})}),(0,Ps.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"Aucune activit\xe9 r\xe9cente"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"Votre activit\xe9 r\xe9cente appara\xeetra ici une fois que vous commencerez \xe0 utiliser la plateforme."})]})})]})]})},ty=ix("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),ry=ix("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),ny=ix("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ay=ix("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),sy=ix("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),iy=e=>{var t;let{isOpen:r,onClose:n,onSuccess:a,preselectedMatiereId:i}=e;const{user:o}=Ds(),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)("document"),[m,h]=(0,s.useState)([]),[p,f]=(0,s.useState)([]),[x,y]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[b,w]=(0,s.useState)([]),[j,N]=(0,s.useState)(null),[k,S]=(0,s.useState)({titre:"",description:"",categorie:"",matiereId:"",selectedMatiereIds:[],niveauId:"",filiereId:"",semestreId:"",anneeDiplome:(new Date).getFullYear(),resume:"",motsCles:"",file:null}),[C,E]=(0,s.useState)({}),[_,T]=(0,s.useState)(!1),P=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"],A=52428800;(0,s.useEffect)((()=>{r&&(M(),"professeur"===(null===o||void 0===o?void 0:o.role)&&R(),i&&(S((e=>qe(qe({},e),{},{matiereId:i}))),L(i)))}),[r,o,i]),(0,s.useEffect)((()=>{if(k.niveauId){O(k.niveauId);const r=m.find((e=>e.id===k.niveauId));if("pfe"===d){const n=null===r||void 0===r?void 0:r.nom;let a="";if("L3"===n||"3ING"===n){var e;const t=null===r||void 0===r||null===(e=r.semestres)||void 0===e?void 0:e.find((e=>"S6"===e.nom));a=(null===t||void 0===t?void 0:t.id)||""}else if("M2"===n){var t;const e=null===r||void 0===r||null===(t=r.semestres)||void 0===t?void 0:t.find((e=>"S4"===e.nom));a=(null===e||void 0===e?void 0:e.id)||""}S((e=>qe(qe({},e),{},{semestreId:a}))),y((null===r||void 0===r?void 0:r.semestres)||[])}else y((null===r||void 0===r?void 0:r.semestres)||[])}}),[k.niveauId,m,d]),(0,s.useEffect)((()=>{k.filiereId&&k.semestreId&&D(k.filiereId,k.semestreId)}),[k.filiereId,k.semestreId]);const M=async()=>{try{const e=await Qa();h(e.data)}catch(e){console.error("Error fetching niveaux:",e)}},O=async e=>{try{const t=await es({niveauId:e});f(t.data)}catch(t){console.error("Error fetching filieres:",t)}},D=async(e,t)=>{try{const r=await ss({filiereId:e,semestreId:t});v(r.data)}catch(r){console.error("Error fetching matieres:",r)}},R=async()=>{try{if(null!==o&&void 0!==o&&o.id){const e=await us(o.id);w(e.data)}}catch(e){console.error("Error fetching professor matieres:",e)}},L=async e=>{try{const t=await is(e);N(t.data)}catch(t){console.error("Error fetching preselected matiere:",t)}},I=()=>{S({titre:"",description:"",categorie:"",matiereId:"",selectedMatiereIds:[],niveauId:"",filiereId:"",semestreId:"",anneeDiplome:(new Date).getFullYear(),resume:"",motsCles:"",file:null}),E({}),u("document"),N(null)},F=()=>{I(),n()},z=(e,t)=>{S((r=>qe(qe({},r),{},{[e]:t}))),C[e]&&E((t=>qe(qe({},t),{},{[e]:""})))},V="admin"===(null===o||void 0===o?void 0:o.role),U=e=>{S((t=>{const r=t.selectedMatiereIds.includes(e)?t.selectedMatiereIds.filter((t=>t!==e)):[...t.selectedMatiereIds,e];return qe(qe({},t),{},{selectedMatiereIds:r})})),C.matiereId&&E((e=>qe(qe({},e),{},{matiereId:""})))};return(0,Ps.jsx)(Xm,{children:r&&(0,Ps.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Ps.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,Ps.jsx)(Um.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 z-40",onClick:F}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg z-50",children:[(0,Ps.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,Ps.jsx)(qx,{className:"w-6 h-6 text-primary-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Ajouter un document"}),(0,Ps.jsx)("p",{className:"text-sm text-gray-500",children:"Ajoutez un nouveau document \xe0 la biblioth\xe8que"})]})]}),(0,Ps.jsx)("button",{onClick:F,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Ps.jsx)(Dx,{className:"w-5 h-5"})})]}),V&&(0,Ps.jsx)("div",{className:"mb-6",children:(0,Ps.jsxs)("div",{className:"flex space-x-4",children:[(0,Ps.jsx)("button",{type:"button",onClick:()=>u("document"),className:"flex-1 p-4 border-2 rounded-lg transition-colors ".concat("document"===d?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Ps.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Ps.jsx)(Px,{className:"w-5 h-5"}),(0,Ps.jsx)("span",{className:"font-medium",children:"Document acad\xe9mique"})]})}),(0,Ps.jsx)("button",{type:"button",onClick:()=>u("pfe"),className:"flex-1 p-4 border-2 rounded-lg transition-colors ".concat("pfe"===d?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Ps.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Ps.jsx)(Ax,{className:"w-5 h-5"}),(0,Ps.jsx)("span",{className:"font-medium",children:"Document PFE"})]})})]})}),(0,Ps.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return k.titre.trim()||(e.titre="Le titre est requis"),k.file?(P.includes(k.file.type)||(e.file="Type de fichier non autoris\xe9. Utilisez PDF, DOC, DOCX, PPT ou PPTX"),k.file.size>A&&(e.file="Le fichier est trop volumineux (max 50MB)")):e.file="Un fichier est requis","document"===d?(k.categorie||(e.categorie="La cat\xe9gorie est requise"),"professeur"===(null===o||void 0===o?void 0:o.role)?i||0!==k.selectedMatiereIds.length||k.matiereId||(e.matiereId="Au moins une mati\xe8re est requise"):(k.niveauId||(e.niveauId="Le niveau est requis"),k.filiereId||(e.filiereId="La fili\xe8re est requise"),k.semestreId||(e.semestreId="Le semestre est requis"),k.matiereId||(e.matiereId="La mati\xe8re est requise"))):((!k.anneeDiplome||k.anneeDiplome<2e3||k.anneeDiplome>(new Date).getFullYear())&&(e.anneeDiplome="Ann\xe9e de dipl\xf4me invalide"),k.niveauId||(e.niveauId="Le niveau est requis"),k.filiereId||(e.filiereId="La fili\xe8re est requise")),E(e),0===Object.keys(e).length})()){c(!0);try{const e=new FormData;if(e.append("document",k.file),e.append("titre",k.titre),k.description&&e.append("description",k.description),"document"===d){if(e.append("categorie",k.categorie),"professeur"===(null===o||void 0===o?void 0:o.role))if(i)e.append("matiereId",i);else if(k.selectedMatiereIds.length>0){e.append("matiereIds",JSON.stringify(k.selectedMatiereIds));const a=b.find((e=>e.id===k.selectedMatiereIds[0]));if(a){var t,r,n,s;const i=(null===(t=a.filiere)||void 0===t||null===(r=t.niveau)||void 0===r?void 0:r.nom)||"",o=(null===(n=a.filiere)||void 0===n?void 0:n.nom)||"",l=(null===(s=a.semestre)||void 0===s?void 0:s.nom)||"",c=a.nom||"";e.append("niveau",i),e.append("filiere",o),e.append("semestre",l),e.append("matiere",c)}}else{e.append("matiereId",k.matiereId);const t=b.find((e=>e.id===k.matiereId));if(t){var l,u,h,f;const r=(null===(l=t.filiere)||void 0===l||null===(u=l.niveau)||void 0===u?void 0:u.nom)||"",n=(null===(h=t.filiere)||void 0===h?void 0:h.nom)||"",a=(null===(f=t.semestre)||void 0===f?void 0:f.nom)||"",s=t.nom||"";e.append("niveau",r),e.append("filiere",n),e.append("semestre",a),e.append("matiere",s)}}else{e.append("matiereId",k.matiereId);const t=g.find((e=>e.id===k.matiereId));if(!t)throw new Error("Mati\xe8re non trouv\xe9e");const r=m.find((e=>e.id===k.niveauId)),n=p.find((e=>e.id===k.filiereId)),a=x.find((e=>e.id===k.semestreId)),s=(null===r||void 0===r?void 0:r.nom)||"",i=(null===n||void 0===n?void 0:n.nom)||"",o=(null===a||void 0===a?void 0:a.nom)||"",l=t.nom||"";e.append("niveau",s),e.append("filiere",i),e.append("semestre",o),e.append("matiere",l)}await fs(e),sr.success("Document ajout\xe9 avec succ\xe8s")}else{const t=m.find((e=>e.id===k.niveauId)),r=p.find((e=>e.id===k.filiereId)),n=x.find((e=>e.id===k.semestreId));e.append("niveau",(null===t||void 0===t?void 0:t.nom)||""),e.append("filiere",(null===r||void 0===r?void 0:r.nom)||""),e.append("semestre",(null===n||void 0===n?void 0:n.nom)||""),e.append("categorie","pfe"),e.append("anneeDiplome",k.anneeDiplome.toString()),e.append("filiereDiplome",(null===r||void 0===r?void 0:r.nom)||""),e.append("titreProjet",k.titre),k.description&&e.append("resume",k.description),k.motsCles&&e.append("motsCles",k.motsCles),await xs(e),sr.success("Document PFE ajout\xe9 avec succ\xe8s")}a(),I()}catch(w){var y,v;console.error("Error uploading document:",w),sr.error((null===(y=w.response)||void 0===y||null===(v=y.data)||void 0===v?void 0:v.message)||"Erreur lors de l'ajout du document")}finally{c(!1)}}},className:"space-y-6",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fichier *"}),(0,Ps.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors ".concat(_?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),T(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),T(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),T(!1);const t=e.dataTransfer.files;if(t&&t.length>0){const e=t[0];if(!P.includes(e.type))return void E((e=>qe(qe({},e),{},{file:"Type de fichier non autoris\xe9. Utilisez PDF, DOC, DOCX, PPT ou PPTX"})));if(e.size>A)return void E((e=>qe(qe({},e),{},{file:"Le fichier est trop volumineux (max 50MB)"})));S((t=>qe(qe({},t),{},{file:e}))),C.file&&E((e=>qe(qe({},e),{},{file:""})))}},children:(0,Ps.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Ps.jsx)(Cx,{className:"mx-auto h-12 w-12 ".concat(_?"text-primary-500":"text-gray-400")}),(0,Ps.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,Ps.jsxs)("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[(0,Ps.jsx)("span",{children:"T\xe9l\xe9charger un fichier"}),(0,Ps.jsx)("input",{type:"file",className:"sr-only",accept:".pdf,.doc,.docx,.ppt,.pptx",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&(S((e=>qe(qe({},e),{},{file:r}))),C.file&&E((e=>qe(qe({},e),{},{file:""}))))}})]}),(0,Ps.jsx)("p",{className:"pl-1",children:"ou glisser-d\xe9poser"})]}),(0,Ps.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, PPT, PPTX jusqu'\xe0 50MB"}),k.file&&(0,Ps.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[(0,Ps.jsx)(fx,{className:"inline w-4 h-4 mr-1"}),k.file.name]})]})}),C.file&&(0,Ps.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,Ps.jsx)(ux,{className:"w-4 h-4 mr-1"}),C.file]})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"pfe"===d?"Titre du projet *":"Titre *"}),(0,Ps.jsx)("input",{type:"text",value:k.titre,onChange:e=>z("titre",e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"pfe"===d?"Titre du projet de fin d'\xe9tudes":"Titre du document"}),C.titre&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.titre})]}),"document"===d&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cat\xe9gorie *"}),(0,Ps.jsxs)("select",{value:k.categorie,onChange:e=>z("categorie",e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),[{value:"cours",label:"Cours"},{value:"td",label:"TD"},{value:"tp",label:"TP"},{value:"examen",label:"Examen"}].map((e=>(0,Ps.jsx)("option",{value:e.value,children:e.label},e.value)))]}),C.categorie&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.categorie})]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"pfe"===d?"R\xe9sum\xe9 du projet":"Description"}),(0,Ps.jsx)("textarea",{value:k.description,onChange:e=>z("description",e.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"pfe"===d?"R\xe9sum\xe9 du projet de fin d'\xe9tudes (optionnel)":"Description du document (optionnel)"})]}),"pfe"===d&&(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ann\xe9e de dipl\xf4me *"}),(0,Ps.jsx)("input",{type:"number",value:k.anneeDiplome,onChange:e=>z("anneeDiplome",parseInt(e.target.value)),min:"2000",max:(new Date).getFullYear(),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),C.anneeDiplome&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.anneeDiplome})]})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mots-cl\xe9s"}),(0,Ps.jsx)("input",{type:"text",value:k.motsCles,onChange:e=>z("motsCles",e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Mots-cl\xe9s s\xe9par\xe9s par des virgules"})]})]}),"admin"===(null===o||void 0===o?void 0:o.role)||"pfe"===d?(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Organisation acad\xe9mique *"}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 gap-4 ".concat("pfe"===d?"md:grid-cols-2":"md:grid-cols-3"),children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau *"}),(0,Ps.jsxs)("select",{value:k.niveauId,onChange:e=>z("niveauId",e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un niveau"}),("pfe"===d?m.filter((e=>["L3","3ING","M2"].includes(e.nom))):m).map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]}),C.niveauId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.niveauId})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fili\xe8re *"}),(0,Ps.jsxs)("select",{value:k.filiereId,onChange:e=>z("filiereId",e.target.value),disabled:!k.niveauId,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:bg-gray-100",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner une fili\xe8re"}),p.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]}),C.filiereId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.filiereId})]}),"document"===d&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semestre *"}),(0,Ps.jsxs)("select",{value:k.semestreId,onChange:e=>z("semestreId",e.target.value),disabled:!k.niveauId,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:bg-gray-100",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un semestre"}),x.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]}),C.semestreId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.semestreId})]})]}),"pfe"===d&&k.niveauId&&k.semestreId&&(0,Ps.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Ps.jsx)("span",{className:"text-blue-600 text-xs font-medium",children:"i"})}),(0,Ps.jsxs)("span",{className:"text-sm text-blue-800",children:["Semestre automatique: ",(0,Ps.jsx)("strong",{children:null===(t=x.find((e=>e.id===k.semestreId)))||void 0===t?void 0:t.nom})," (semestre final)"]})]})}),"document"===d&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mati\xe8res *"}),i?(0,Ps.jsx)("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:(()=>{const e=j||b.find((e=>e.id===i));return e?"".concat(e.nom," (").concat(e.code,")"):"Mati\xe8re s\xe9lectionn\xe9e"})()}):(0,Ps.jsxs)("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-300 rounded-md p-3",children:[b.map((e=>(0,Ps.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,Ps.jsx)("input",{type:"checkbox",checked:k.selectedMatiereIds.includes(e.id),onChange:()=>U(e.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Ps.jsxs)("span",{className:"text-sm text-gray-900",children:[e.nom," (",e.code,")"]})]},e.id))),0===b.length&&(0,Ps.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"Aucune mati\xe8re assign\xe9e"})]}),k.selectedMatiereIds.length>0&&!i&&(0,Ps.jsx)("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,Ps.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Ps.jsx)("strong",{children:k.selectedMatiereIds.length})," mati\xe8re(s) s\xe9lectionn\xe9e(s)"]})}),C.matiereId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.matiereId})]})]}):"professeur"===(null===o||void 0===o?void 0:o.role)&&"document"===d?(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mati\xe8res *"}),i?(0,Ps.jsx)("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:(()=>{const e=b.find((e=>e.id===i));return e?"".concat(e.nom," (").concat(e.code,")"):"Mati\xe8re s\xe9lectionn\xe9e"})()}):(0,Ps.jsxs)("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-300 rounded-md p-3",children:[b.map((e=>(0,Ps.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,Ps.jsx)("input",{type:"checkbox",checked:k.selectedMatiereIds.includes(e.id),onChange:()=>U(e.id),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Ps.jsxs)("span",{className:"text-sm text-gray-900",children:[e.nom," (",e.code,")"]})]},e.id))),0===b.length&&(0,Ps.jsx)("p",{className:"text-sm text-gray-500 text-center py-2",children:"Aucune mati\xe8re assign\xe9e"})]}),k.selectedMatiereIds.length>0&&!i&&(0,Ps.jsx)("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,Ps.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Ps.jsx)("strong",{children:k.selectedMatiereIds.length})," mati\xe8re(s) s\xe9lectionn\xe9e(s)"]})}),C.matiereId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.matiereId})]}):null,(0,Ps.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ps.jsx)("button",{type:"button",onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Annuler"}),(0,Ps.jsx)("button",{type:"submit",disabled:l,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(sy,{className:"w-4 h-4 mr-2 animate-spin"}),"Ajout en cours..."]}):(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(qx,{className:"w-4 h-4 mr-2"}),"Ajouter"]})})]})]})]})]})})})},oy=e=>{let{isOpen:t,onClose:r,parentDocumentId:n,parentDocumentTitle:a,onSuccess:i}=e;const[o,l]=(0,s.useState)({titre:"",description:"",document:null}),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1),f=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"],x=()=>{c||(l({titre:"",description:"",document:null}),m({}),r())},y=(e,t)=>{l((r=>qe(qe({},r),{},{[e]:t}))),u[e]&&m((t=>qe(qe({},t),{},{[e]:""})))},g=e=>{f.includes(e.type)?e.size>52428800?m((e=>qe(qe({},e),{},{file:"Le fichier ne peut pas d\xe9passer 50MB."}))):(l((t=>qe(qe({},t),{},{document:e}))),u.file&&m((e=>qe(qe({},e),{},{file:""})))):m((e=>qe(qe({},e),{},{file:"Type de fichier non support\xe9. Utilisez PDF, DOC, DOCX, PPT ou PPTX."})))};return(0,Ps.jsx)(Xm,{children:t&&(0,Ps.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Ps.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,Ps.jsx)(Um.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 z-40",onClick:x}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl z-50",children:[(0,Ps.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Ajouter une correction"}),(0,Ps.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Pour: ",a]})]}),(0,Ps.jsx)("button",{onClick:x,disabled:c,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:(0,Ps.jsx)(Dx,{className:"w-5 h-5"})})]}),(0,Ps.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return o.titre.trim()||(e.titre="Le titre est requis"),o.document||(e.file="Un fichier est requis"),m(e),0===Object.keys(e).length})()){d(!0);try{const e=new FormData;e.append("document",o.document),e.append("titre",o.titre),o.description&&e.append("description",o.description),await ys(n,e),x(),i&&i()}catch(t){console.error("Error uploading correction:",t),m({submit:"Erreur lors du t\xe9l\xe9chargement de la correction"})}finally{d(!1)}}},className:"space-y-6",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la correction *"}),(0,Ps.jsx)("input",{type:"text",value:o.titre,onChange:e=>y("titre",e.target.value),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ".concat(u.titre?"border-red-300":"border-gray-300"),placeholder:"Ex: Correction TP1 - Algorithmes de tri",disabled:c}),u.titre&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.titre})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Ps.jsx)("textarea",{value:o.description,onChange:e=>y("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Description optionnelle de la correction...",disabled:c})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fichier de correction *"}),(0,Ps.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors ".concat(h?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),p(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),p(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),p(!1);const t=e.dataTransfer.files;t&&t.length>0&&g(t[0])},children:(0,Ps.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Ps.jsx)(Cx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,Ps.jsxs)("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[(0,Ps.jsx)("span",{children:"T\xe9l\xe9charger un fichier"}),(0,Ps.jsx)("input",{type:"file",className:"sr-only",accept:".pdf,.doc,.docx,.ppt,.pptx",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&g(r)},disabled:c})]}),(0,Ps.jsx)("p",{className:"pl-1",children:"ou glisser-d\xe9poser"})]}),(0,Ps.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, PPT, PPTX jusqu'\xe0 50MB"}),o.document&&(0,Ps.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:["\u2713 ",o.document.name]})]})}),u.file&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.file})]}),u.submit&&(0,Ps.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,Ps.jsx)("p",{className:"text-sm text-red-600",children:u.submit})}),(0,Ps.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Ps.jsx)("button",{type:"button",onClick:x,disabled:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Annuler"}),(0,Ps.jsx)("button",{type:"submit",disabled:c,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(sy,{className:"w-4 h-4 mr-2 animate-spin"}),"Ajout en cours..."]}):(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(qx,{className:"w-4 h-4 mr-2"}),"Ajouter la correction"]})})]})]})]})]})})})},ly=e=>{let{isOpen:t,onClose:r,title:n,children:a,size:s="md",showCloseButton:i=!0}=e;return t?(0,l.createPortal)((0,Ps.jsx)(Xm,{children:(0,Ps.jsx)(Um.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{opacity:0},visible:{opacity:1}},className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Ps.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,Ps.jsx)(Um.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},className:"relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[s]," bg-white rounded-lg shadow-xl"),children:[(n||i)&&(0,Ps.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[n&&(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:n}),i&&(0,Ps.jsx)("button",{onClick:r,className:"p-2 text-secondary-400 hover:text-secondary-600 hover:bg-secondary-100 rounded-lg transition-colors",children:(0,Ps.jsx)(Dx,{className:"h-5 w-5"})})]}),(0,Ps.jsx)("div",{className:"p-6",children:a})]})]})})}),document.body):null};function cy(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=cy(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const dy=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=cy(e))&&(n&&(n+=" "),n+=t);return n},uy=(0,s.forwardRef)(((e,t)=>{let{children:r,variant:n="primary",size:a="md",isLoading:s=!1,leftIcon:i,rightIcon:o,fullWidth:l=!1,className:c,disabled:d,type:u="button",onClick:m}=e;const h=dy("inline-flex items-center justify-center font-medium rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group",{primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white hover:from-primary-700 hover:to-primary-800 focus:ring-primary-500 shadow-lg hover:shadow-xl",secondary:"bg-gradient-to-r from-secondary-100 to-secondary-200 text-secondary-900 hover:from-secondary-200 hover:to-secondary-300 focus:ring-secondary-500 shadow-md hover:shadow-lg",outline:"border-2 border-primary-300 text-primary-700 hover:bg-primary-50 hover:border-primary-400 focus:ring-primary-500 shadow-sm hover:shadow-md",ghost:"text-secondary-700 hover:bg-secondary-100 focus:ring-secondary-500 hover:shadow-md",danger:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus:ring-red-500 shadow-lg hover:shadow-xl"}[n],{sm:"px-4 py-2 text-sm",md:"px-6 py-2.5 text-sm",lg:"px-8 py-3 text-base"}[a],l&&"w-full",c),p={initial:{scale:1},hover:{scale:d||s?1:1.02,transition:{duration:.2,ease:"easeOut"}},tap:{scale:d||s?1:.98,transition:{duration:.1}}};return(0,Ps.jsxs)(Um.button,{ref:t,className:h,disabled:d||s,type:u,onClick:m,variants:p,initial:"initial",whileHover:"hover",whileTap:"tap",children:[!d&&!s&&"primary"===n&&(0,Ps.jsx)(Um.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",variants:{initial:{x:"-100%"},hover:{x:"100%",transition:{duration:.6,ease:"easeInOut"}}},initial:"initial"}),(0,Ps.jsx)(Um.div,{className:"absolute inset-0 bg-white/10 rounded-xl opacity-0 group-hover:opacity-100",transition:{duration:.3}}),(0,Ps.jsx)("div",{className:"relative z-10 flex items-center justify-center",children:(0,Ps.jsx)(Xm,{mode:"wait",children:s?(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"flex items-center",children:[(0,Ps.jsx)(Um.div,{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full mr-2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)("span",{children:"Chargement..."})]},"loading"):(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"flex items-center",children:[i&&(0,Ps.jsx)(Um.span,{className:"mr-2",whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:i}),(0,Ps.jsx)("span",{children:r}),o&&(0,Ps.jsx)(Um.span,{className:"ml-2",whileHover:{scale:1.1,rotate:-5},transition:{duration:.2},children:o})]},"content")})})]})}));uy.displayName="Button";const my=uy,hy=()=>{var e,t,r;const{user:n}=Ds(),a=ne(),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!0),[m,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)("grid"),[x,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[b,w]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null),[C,E]=(0,s.useState)({page:1,limit:20,total:0,pages:0}),[_,T]=(0,s.useState)({search:"",categorie:"",matiereId:"",page:1,limit:20}),P=[{value:"",label:"Toutes les cat\xe9gories"},{value:"cours",label:"Cours"},{value:"td",label:"TD"},{value:"tp",label:"TP"},{value:"examen",label:"Examens"},..."etudiant"!==(null===n||void 0===n?void 0:n.role)||"L3"!==(null===n||void 0===n||null===(e=n.niveau)||void 0===e?void 0:e.nom)&&"3ING"!==(null===n||void 0===n||null===(t=n.niveau)||void 0===t?void 0:t.nom)&&"M2"!==(null===n||void 0===n||null===(r=n.niveau)||void 0===r?void 0:r.nom)?[]:[{value:"pfe",label:"PFE"}]],A={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},M={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,s.useEffect)((()=>{O(),D()}),[_]);const O=async()=>{try{u(!0);const e=await ps({page:_.page,limit:_.limit,search:_.search||void 0,categorie:_.categorie||void 0,matiereId:_.matiereId||void 0});o(e.data),E(e.pagination||{page:1,limit:20,total:0,pages:0})}catch(e){console.error("Error fetching documents:",e),sr.error("Erreur lors du chargement des documents")}finally{u(!1)}},D=async()=>{try{const e=await ss();c(e.data)}catch(e){console.error("Error fetching matieres:",e)}},R=(e,t)=>{T((r=>qe(qe({},r),{},{[e]:t,page:1})))},L=async e=>{try{const t=await bs(e.id),r=window.URL.createObjectURL(t),n=window.document.createElement("a");n.href=r,n.download=e.nomFichier,window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n),window.URL.revokeObjectURL(r),sr.success("Document t\xe9l\xe9charg\xe9 avec succ\xe8s")}catch(t){console.error("Error downloading document:",t),sr.error("Erreur lors du t\xe9l\xe9chargement")}},I=e=>{a("/documents/".concat(e.id))},F=e=>{w(e),v(!0)},z=e=>{S(e),N(!0)},V=e=>"admin"===(null===n||void 0===n?void 0:n.role)||e.uploader.id===(null===n||void 0===n?void 0:n.id),U=e=>("professeur"===(null===n||void 0===n?void 0:n.role)||"admin"===(null===n||void 0===n?void 0:n.role))&&("pfe"!==e.categorie&&!e.correction&&!e.correctionId),B=e=>{const t=parseInt(e);if(0===t)return"0 B";const r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(2))+" "+["B","KB","MB","GB"][r]},W=e=>{switch(e){case"cours":return Px;case"td":default:return Cx;case"tp":return ty;case"examen":return Xx;case"correction":return $x;case"pfe":return Ax}},H=e=>{switch(e){case"cours":return"bg-blue-100 text-blue-800";case"td":return"bg-green-100 text-green-800";case"tp":return"bg-purple-100 text-purple-800";case"examen":return"bg-red-100 text-red-800";case"correction":return"bg-yellow-100 text-yellow-800";case"pfe":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},q="professeur"===(null===n||void 0===n?void 0:n.role)||"admin"===(null===n||void 0===n?void 0:n.role);return d?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement des documents..."})]})}):(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsxs)(Um.div,{variants:A,className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)(Um.h1,{className:"text-2xl font-bold text-gray-900",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:"Documents"}),(0,Ps.jsx)(Um.p,{className:"mt-1 text-sm text-gray-500",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:"G\xe9rez et consultez les documents acad\xe9miques"})]}),q&&(0,Ps.jsxs)(Um.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(!0),className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[(0,Ps.jsx)(qx,{className:"w-4 h-4 mr-2"}),"Ajouter un document"]})]}),(0,Ps.jsx)(Um.div,{variants:A,className:"bg-white rounded-lg shadow p-6",children:(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Ps.jsx)("input",{type:"text",placeholder:"Rechercher des documents...",value:_.search,onChange:e=>{return t=e.target.value,void T((e=>qe(qe({},e),{},{search:t,page:1})));var t},className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Ps.jsx)("select",{value:_.categorie,onChange:e=>R("categorie",e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:P.map((e=>(0,Ps.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Ps.jsxs)("select",{value:_.matiereId,onChange:e=>R("matiereId",e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"Toutes les mati\xe8res"}),l.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.nom," (",e.code,")"]},e.id)))]}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)("button",{onClick:()=>f("grid"),className:"p-2 rounded-md ".concat("grid"===p?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"),children:(0,Ps.jsx)(ry,{className:"w-4 h-4"})}),(0,Ps.jsx)("button",{onClick:()=>f("list"),className:"p-2 rounded-md ".concat("list"===p?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"),children:(0,Ps.jsx)(ny,{className:"w-4 h-4"})})]})]})}),0===i.length?(0,Ps.jsxs)(Um.div,{variants:A,className:"text-center py-12",children:[(0,Ps.jsx)(Cx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucun document"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:_.search||_.categorie||_.matiereId?"Aucun document ne correspond \xe0 vos crit\xe8res de recherche.":"Aucun document disponible pour le moment."})]}):(0,Ps.jsxs)(Um.div,{variants:A,children:["grid"===p?(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,Ps.jsx)(Xm,{children:i.map(((e,t)=>{const r=W(e.categorie);return(0,Ps.jsxs)(Um.div,{variants:M,whileHover:"hover",className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow p-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.5},children:[(0,Ps.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,Ps.jsx)(r,{className:"w-5 h-5 text-gray-600"})}),(0,Ps.jsx)("div",{children:(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(H(e.categorie)),children:e.categorie.toUpperCase()})})]})}),(0,Ps.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2 line-clamp-2",children:e.titre}),e.description&&(0,Ps.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:e.description}),(0,Ps.jsxs)("div",{className:"space-y-2 mb-4",children:[e.matiere&&(0,Ps.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Ps.jsx)(Px,{className:"w-4 h-4 mr-2"}),e.matiere.nom]}),(0,Ps.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Ps.jsx)(kx,{className:"w-4 h-4 mr-2"}),e.uploader.prenom," ",e.uploader.nom]}),(0,Ps.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Ps.jsx)(Xx,{className:"w-4 h-4 mr-2"}),new Date(e.createdAt).toLocaleDateString("fr-FR")]})]}),(0,Ps.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)("span",{className:"text-sm text-gray-500",children:B(e.tailleFichier)}),e.correction&&(0,Ps.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Ps.jsx)(fx,{className:"w-3 h-3 mr-1"}),"Corrig\xe9"]}),e.correctionId&&(0,Ps.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,Ps.jsx)(ay,{className:"w-3 h-3 mr-1"}),"Correction"]})]}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)("button",{onClick:()=>I(e),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Voir les d\xe9tails",children:(0,Ps.jsx)(dx,{className:"w-4 h-4"})}),U(e)&&(0,Ps.jsx)("button",{onClick:()=>F(e),className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Ajouter une correction",children:(0,Ps.jsx)(ay,{className:"w-4 h-4"})}),(0,Ps.jsx)("button",{onClick:()=>L(e),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"T\xe9l\xe9charger",children:(0,Ps.jsx)(Ux,{className:"w-4 h-4"})}),V(e)&&(0,Ps.jsx)("button",{onClick:()=>z(e),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Supprimer",children:(0,Ps.jsx)(Ex,{className:"w-4 h-4"})})]})]})]},e.id)}))})}):(0,Ps.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ps.jsx)("thead",{className:"bg-gray-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cat\xe9gorie"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mati\xe8re"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Auteur"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(0,Ps.jsx)(Xm,{children:i.map(((e,t)=>{var r;const n=W(e.categorie);return(0,Ps.jsxs)(Um.tr,{className:"hover:bg-gray-50",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.5},children:[(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg mr-3",children:(0,Ps.jsx)(n,{className:"w-4 h-4 text-gray-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.titre}),e.description&&(0,Ps.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})]})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(H(e.categorie)),children:e.categorie.toUpperCase()})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=e.matiere)||void 0===r?void 0:r.nom)||"N/A"}),(0,Ps.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.uploader.prenom," ",e.uploader.nom]}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("fr-FR")}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Ps.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Ps.jsx)("button",{onClick:()=>I(e),className:"text-primary-600 hover:text-primary-900",title:"Voir les d\xe9tails",children:(0,Ps.jsx)(dx,{className:"w-4 h-4"})}),U(e)&&(0,Ps.jsx)("button",{onClick:()=>F(e),className:"text-green-600 hover:text-green-900",title:"Ajouter une correction",children:(0,Ps.jsx)(ay,{className:"w-4 h-4"})}),(0,Ps.jsx)("button",{onClick:()=>L(e),className:"text-primary-600 hover:text-primary-900",title:"T\xe9l\xe9charger",children:(0,Ps.jsx)(Ux,{className:"w-4 h-4"})}),V(e)&&(0,Ps.jsx)("button",{onClick:()=>z(e),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:(0,Ps.jsx)(Ex,{className:"w-4 h-4"})})]})})]},e.id)}))})})]})}),C.pages>1&&(0,Ps.jsxs)(Um.div,{className:"flex items-center justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:[(0,Ps.jsxs)("div",{className:"text-sm text-gray-700",children:["Affichage de ",(C.page-1)*C.limit+1," \xe0"," ",Math.min(C.page*C.limit,C.total)," sur"," ",C.total," r\xe9sultats"]}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)("button",{onClick:()=>R("page",C.page-1),disabled:1===C.page,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Pr\xe9c\xe9dent"}),(0,Ps.jsxs)("span",{className:"px-3 py-2 text-sm font-medium text-gray-700",children:["Page ",C.page," sur ",C.pages]}),(0,Ps.jsx)("button",{onClick:()=>R("page",C.page+1),disabled:C.page===C.pages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]})]})]}),(0,Ps.jsx)(iy,{isOpen:x,onClose:()=>y(!1),onSuccess:()=>{y(!1),O()}}),b&&(0,Ps.jsx)(oy,{isOpen:g,onClose:()=>{v(!1),w(null)},parentDocumentId:b.id,parentDocumentTitle:b.titre,onSuccess:()=>{v(!1),w(null),O(),sr.success("Correction ajout\xe9e avec succ\xe8s")}}),(0,Ps.jsx)(ly,{isOpen:j,onClose:()=>{N(!1),S(null)},title:"Confirmer la suppression",children:k&&(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("p",{className:"text-secondary-600",children:["\xcates-vous s\xfbr de vouloir supprimer le document"," ",(0,Ps.jsx)("strong",{children:k.titre})," ?"]}),(0,Ps.jsx)("p",{className:"text-sm text-amber-600",children:"Le document sera d\xe9plac\xe9 vers la corbeille et pourra \xeatre r\xe9cup\xe9r\xe9 pendant 30 jours."}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>{N(!1),S(null)},children:"Annuler"}),(0,Ps.jsx)(my,{variant:"danger",onClick:async()=>{if(k)try{await vs(k.id),sr.success("Document supprim\xe9 avec succ\xe8s"),N(!1),S(null),O()}catch(e){console.error("Error deleting document:",e),sr.error("Erreur lors de la suppression du document")}},children:"Supprimer"})]})]})})]})},py=ix("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fy=ix("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xy=ix("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),yy=ix("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),gy=ix("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),vy=ix("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var by={};function wy(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function jy(e){wy(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ue(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ny(e,t){wy(2,arguments);var r=jy(e),n=jy(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function ky(e){wy(1,arguments);var t=jy(e);return function(e){wy(1,arguments);var t=jy(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){wy(1,arguments);var t=jy(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function Sy(e,t){wy(2,arguments);var r,n=jy(e),a=jy(t),s=Ny(n,a),i=Math.abs(function(e,t){wy(2,arguments);var r=jy(e),n=jy(t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}(n,a));if(i<1)r=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var o=Ny(n,a)===-s;ky(jy(e))&&1===i&&1===Ny(e,a)&&(o=!1),r=s*(i-Number(o))}return 0===r?0:r}var Cy={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function Ey(e,t,r){wy(2,arguments);var n,a=function(e,t){return wy(2,arguments),jy(e).getTime()-jy(t).getTime()}(e,t)/1e3;return((n=null===r||void 0===r?void 0:r.roundingMethod)?Cy[n]:Cy.trunc)(a)}var _y={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Ty=function(e,t,r){var n,a=_y[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Py(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ay={date:Py({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Py({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Py({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var My={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Oy=function(e,t,r,n){return My[e]};function Dy(e){return function(t,r){var n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):a;n=e.formattingValues[s]||e.formattingValues[a]}else{var i=e.defaultWidth,o=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[o]||e.values[i]}return n[e.argumentCallback?e.argumentCallback(t):t]}}var Ry={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Dy({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Dy({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Dy({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Dy({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Dy({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Ly(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var i,o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(l,(function(e){return e.test(o)})):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(l,(function(e){return e.test(o)}));return i=e.valueCallback?e.valueCallback(c):c,{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(o.length)}}}function Iy(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var i=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(a.length)}}}const Fy={code:"en-US",formatDistance:Ty,formatLong:Ay,formatRelative:Oy,localize:Ry,match:{ordinalNumber:Iy({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Ly({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ly({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ly({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ly({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ly({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function zy(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Vy(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Uy=43200;function By(e,t,r){var n,a;wy(2,arguments);var s=by,i=null!==(n=null!==(a=null===r||void 0===r?void 0:r.locale)&&void 0!==a?a:s.locale)&&void 0!==n?n:Fy;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Ny(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l,c,d=zy(zy({},r),{addSuffix:Boolean(null===r||void 0===r?void 0:r.addSuffix),comparison:o});o>0?(l=jy(t),c=jy(e)):(l=jy(e),c=jy(t));var u,m=Ey(c,l),h=(Vy(c)-Vy(l))/1e3,p=Math.round((m-h)/60);if(p<2)return null!==r&&void 0!==r&&r.includeSeconds?m<5?i.formatDistance("lessThanXSeconds",5,d):m<10?i.formatDistance("lessThanXSeconds",10,d):m<20?i.formatDistance("lessThanXSeconds",20,d):m<40?i.formatDistance("halfAMinute",0,d):m<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):0===p?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",p,d);if(p<45)return i.formatDistance("xMinutes",p,d);if(p<90)return i.formatDistance("aboutXHours",1,d);if(p<1440){var f=Math.round(p/60);return i.formatDistance("aboutXHours",f,d)}if(p<2520)return i.formatDistance("xDays",1,d);if(p<Uy){var x=Math.round(p/1440);return i.formatDistance("xDays",x,d)}if(p<86400)return u=Math.round(p/Uy),i.formatDistance("aboutXMonths",u,d);if((u=Sy(c,l))<12){var y=Math.round(p/Uy);return i.formatDistance("xMonths",y,d)}var g=u%12,v=Math.floor(u/12);return g<3?i.formatDistance("aboutXYears",v,d):g<9?i.formatDistance("overXYears",v,d):i.formatDistance("almostXYears",v+1,d)}function Wy(e,t){return wy(1,arguments),By(e,Date.now(),t)}var Hy={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}};const qy=function(e,t,r){var n,a=Hy[e];return n="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n};const Zy={date:Py({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Py({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Py({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var $y={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"};const Gy=function(e,t,r,n){return $y[e]};var Xy={ordinalNumber:function(e,t){var r=Number(e),n=null===t||void 0===t?void 0:t.unit;if(0===r)return"0";return r+(1===r?n&&["year","week","hour","minute","second"].includes(n)?"\xe8re":"er":"\xe8me")},era:Dy({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:Dy({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Dy({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:Dy({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:Dy({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})};const Ky={code:"fr",formatDistance:qy,formatLong:Zy,formatRelative:Gy,localize:Xy,match:{ordinalNumber:Iy({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e)}}),era:Ly({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:Ly({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ly({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ly({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ly({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},Yy=e=>{let{comment:t,currentUser:r,canModerate:n=!1,onReply:a,onEdit:i,onDelete:o,onSubmitReply:l,replyingTo:c,submittingReply:d,depth:u=0}=e;const[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(!0),[x,y]=(0,s.useState)(""),g=t.userId===r.id,v="professeur"===t.user.role,b="admin"===t.user.role,w=g||n,j=c===t.id;if((0,s.useEffect)((()=>{(async()=>{if("professeur"!==r.role&&"admin"!==r.role){if("etudiant"===r.role)try{const e=await Ss(t.id);f(e.data.canReply),y(e.data.reason||"")}catch(e){console.error("Error checking reply permissions:",e),f(!1),y("Erreur lors de la v\xe9rification des permissions")}}else f(!0)})()}),[t.id,r.role]),t.isDeleted)return(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"".concat(u>0?"ml-".concat(Math.min(8*u,32)," pl-4 border-l-2 border-gray-200"):""," mb-4"),children:[(0,Ps.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,Ps.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,Ps.jsx)(fy,{className:"w-4 h-4"}),(0,Ps.jsxs)("span",{className:"text-sm italic",children:["Ce commentaire a \xe9t\xe9 supprim\xe9",t.deletedBy===t.userId?" par l'utilisateur":" par un mod\xe9rateur",t.deletedAt&&(0,Ps.jsxs)("span",{className:"ml-1",children:["il y a ",Wy(new Date(t.deletedAt),{addSuffix:!1,locale:Ky})]})]})]})}),t.replies&&t.replies.length>0&&(0,Ps.jsx)("div",{className:"mt-2",children:t.replies.map((e=>(0,Ps.jsx)(Yy,{comment:e,currentUser:r,canModerate:n,onReply:a,onEdit:i,onDelete:o,onSubmitReply:l,replyingTo:c,submittingReply:d,depth:u+1},e.id)))})]});return(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"".concat(u>0?"ml-".concat(Math.min(8*u,32)," pl-4 border-l-2 border-gray-300"):""," mb-4"),children:[(0,Ps.jsxs)("div",{className:"bg-white border rounded-lg p-4 shadow-sm ".concat(v?"border-blue-200 bg-blue-50/30":b?"border-yellow-200 bg-yellow-50/30":"border-gray-200"," ").concat(u>0?"bg-gray-50/50":""),children:[(0,Ps.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Ps.jsx)("div",{className:"flex items-center gap-2",children:(0,Ps.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ps.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ".concat(v?"bg-blue-500":b?"bg-yellow-500":"bg-gray-500"),children:(0,Ps.jsxs)("span",{className:"text-white font-medium text-xs",children:[(t.user.prenom||"").charAt(0),(t.user.nom||"").charAt(0)]})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ps.jsxs)("span",{className:"font-medium text-gray-900",children:[t.user.prenom," ",t.user.nom]}),v&&(0,Ps.jsx)("div",{title:"Professeur",children:(0,Ps.jsx)(_x,{className:"w-4 h-4 text-blue-600"})}),b&&(0,Ps.jsx)("div",{title:"Administrateur",children:(0,Ps.jsx)(xy,{className:"w-4 h-4 text-yellow-600"})}),u>0&&(0,Ps.jsx)("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:"R\xe9ponse"})]}),(0,Ps.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,Ps.jsx)(Qx,{className:"w-3 h-3"}),(0,Ps.jsx)("span",{children:Wy(new Date(t.createdAt),{addSuffix:!0,locale:Ky})}),t.isEdited&&(0,Ps.jsx)("span",{className:"text-gray-400 italic",children:"(modifi\xe9)"})]})]})]})})}),(0,Ps.jsx)("div",{className:"mb-3",children:(0,Ps.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t.contenu})}),(0,Ps.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[p?(0,Ps.jsxs)("button",{onClick:()=>a(t.id),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 transition-colors",children:[(0,Ps.jsx)(yy,{className:"w-4 h-4"}),"R\xe9pondre"]}):(0,Ps.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ps.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[(0,Ps.jsx)(yy,{className:"w-4 h-4"}),(0,Ps.jsx)("span",{children:"R\xe9pondre"})]}),x&&(0,Ps.jsxs)("div",{className:"group relative",children:[(0,Ps.jsx)("div",{className:"w-4 h-4 rounded-full bg-orange-100 flex items-center justify-center cursor-help",children:(0,Ps.jsx)("span",{className:"text-orange-600 text-xs",children:"!"})}),(0,Ps.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:[x,(0,Ps.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]})]}),w&&(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsxs)("button",{onClick:()=>i(t),className:"flex items-center gap-1 text-gray-600 hover:text-gray-700 transition-colors",children:[(0,Ps.jsx)(gy,{className:"w-4 h-4"}),"Modifier"]}),(0,Ps.jsxs)("button",{onClick:()=>o(t.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700 transition-colors",children:[(0,Ps.jsx)(Ex,{className:"w-4 h-4"}),"Supprimer"]})]})]})]}),j&&(0,Ps.jsx)(Um.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 ml-4 pl-4 border-l-2 border-blue-300",children:(0,Ps.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m.trim())try{await l(t.id,m),h("")}catch(r){console.error("Error submitting reply:",r)}},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Ps.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 text-sm mb-3",children:[(0,Ps.jsx)(yy,{className:"w-4 h-4"}),(0,Ps.jsxs)("span",{className:"font-medium",children:["R\xe9ponse \xe0 ",t.user.prenom," ",t.user.nom]})]}),(0,Ps.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"\xc9crivez votre r\xe9ponse...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 resize-none mb-3",rows:3,disabled:d,autoFocus:!0}),(0,Ps.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ps.jsxs)("button",{type:"submit",disabled:!m.trim()||d,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm",children:[d?(0,Ps.jsx)(sy,{className:"w-4 h-4 animate-spin"}):(0,Ps.jsx)(vy,{className:"w-4 h-4"}),d?"Envoi...":"R\xe9pondre"]}),(0,Ps.jsx)("button",{type:"button",onClick:()=>{a(""),h("")},className:"px-3 py-2 text-sm bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Annuler"})]})]})}),t.replies&&t.replies.length>0&&(0,Ps.jsx)("div",{className:"mt-2",children:t.replies.map((e=>(0,Ps.jsx)(Yy,{comment:e,currentUser:r,canModerate:n,onReply:a,onEdit:i,onDelete:o,onSubmitReply:l,replyingTo:c,submittingReply:d,depth:u+1},e.id)))})]})},Jy=e=>{let{documentId:t,className:r=""}=e;const{user:n}=Ds(),[a,i]=(0,s.useState)([]),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),[h,p]=(0,s.useState)(null),[f,x]=(0,s.useState)(null),[y,g]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),w=e=>{let t=0;for(const r of e)r.isDeleted||(t+=1,r.replies&&r.replies.length>0&&(t+=w(r.replies)));return t},j=w(a),N=(0,s.useCallback)((async()=>{if(t){l(!0);try{const e=await ws(t);i(e.data||[]),b(e.canModerate||!1)}catch(e){console.error("Error fetching comments:",e),sr.error("Erreur lors du chargement des commentaires")}finally{l(!1)}}}),[t]);(0,s.useEffect)((()=>{N()}),[N]);const k=async(e,r)=>{if(r.trim()&&n){d(!0);try{await js(t,{contenu:r,parentId:e}),p(null),await N(),sr.success("R\xe9ponse ajout\xe9e avec succ\xe8s")}catch(a){throw console.error("Error creating reply:",a),sr.error("Erreur lors de l'ajout de la r\xe9ponse"),a}finally{d(!1)}}},S=()=>{x(null),g("")};return n?(0,Ps.jsx)("div",{className:"bg-white rounded-lg shadow-sm border ".concat(r),children:(0,Ps.jsxs)("div",{className:"p-6",children:[(0,Ps.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,Ps.jsx)(Bx,{className:"w-5 h-5 text-gray-600"}),(0,Ps.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Commentaires (",j,")"]})]}),"etudiant"===n.role&&(0,Ps.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Ps.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ps.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,Ps.jsx)("span",{className:"text-blue-600 text-sm font-medium",children:"i"})}),(0,Ps.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Ps.jsx)("p",{className:"font-medium mb-1",children:"R\xe8gles de conversation :"}),(0,Ps.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,Ps.jsx)("li",{children:"\u2022 Vous pouvez commenter librement sur les documents"}),(0,Ps.jsx)("li",{children:"\u2022 Vous pouvez r\xe9pondre aux professeurs et administrateurs"}),(0,Ps.jsx)("li",{children:"\u2022 Attendez une r\xe9ponse du professeur avant de r\xe9pondre \xe0 nouveau"}),(0,Ps.jsx)("li",{children:"\u2022 Vous ne pouvez pas r\xe9pondre aux autres \xe9tudiants"})]})]})]})}),(0,Ps.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u.trim()&&n){d(!0);try{await js(t,{contenu:u,parentId:void 0}),m(""),await N(),sr.success("Commentaire ajout\xe9 avec succ\xe8s")}catch(r){console.error("Error creating comment:",r),sr.error("Erreur lors de l'ajout du commentaire")}finally{d(!1)}}},className:"mb-6",children:[(0,Ps.jsx)("div",{className:"mb-4",children:(0,Ps.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:"\xc9crivez votre commentaire...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 resize-none",rows:3,disabled:c})}),(0,Ps.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ps.jsx)("div",{className:"flex items-center gap-2",children:v&&(0,Ps.jsxs)("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[(0,Ps.jsx)(_x,{className:"w-4 h-4"}),(0,Ps.jsx)("span",{children:"Mod\xe9rateur"})]})}),(0,Ps.jsxs)("button",{type:"submit",disabled:!u.trim()||c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c?(0,Ps.jsx)(sy,{className:"w-4 h-4 animate-spin"}):(0,Ps.jsx)(vy,{className:"w-4 h-4"}),c?"Envoi...":"Publier"]})]})]}),o?(0,Ps.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Ps.jsx)(sy,{className:"w-6 h-6 animate-spin text-gray-400"}),(0,Ps.jsx)("span",{className:"ml-2 text-gray-500",children:"Chargement des commentaires..."})]}):0===a.length?(0,Ps.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Ps.jsx)(Bx,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Ps.jsx)("p",{children:"Aucun commentaire pour le moment"}),(0,Ps.jsx)("p",{className:"text-sm",children:"Soyez le premier \xe0 commenter !"})]}):(0,Ps.jsx)("div",{className:"space-y-6",children:(0,Ps.jsx)(Xm,{children:a.filter((e=>!e.parentId)).map((e=>(0,Ps.jsx)("div",{children:(null===f||void 0===f?void 0:f.id)===e.id?(0,Ps.jsx)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,Ps.jsxs)("div",{className:"space-y-3",children:[(0,Ps.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,Ps.jsx)(gy,{className:"w-4 h-4"}),(0,Ps.jsx)("span",{children:"Modification du commentaire"})]}),(0,Ps.jsx)("textarea",{value:y,onChange:e=>g(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 resize-none",rows:3,placeholder:"Modifiez votre commentaire..."}),(0,Ps.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ps.jsx)("button",{onClick:()=>(async e=>{if(y.trim())try{await Ns(e.id,{contenu:y}),x(null),g(""),await N(),sr.success("Commentaire modifi\xe9 avec succ\xe8s")}catch(t){console.error("Error updating comment:",t),sr.error("Erreur lors de la modification du commentaire")}})(e),disabled:!y.trim(),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sauvegarder"}),(0,Ps.jsx)("button",{onClick:S,className:"px-3 py-1 text-sm bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Annuler"})]})]})}):(0,Ps.jsx)(Yy,{comment:e,currentUser:n,canModerate:v,onReply:e=>p(e),onEdit:e=>(e=>{x(e),g(e.contenu)})(e),onDelete:e=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce commentaire ?"))try{await ks(e),await N(),sr.success("Commentaire supprim\xe9 avec succ\xe8s")}catch(t){console.error("Error deleting comment:",t),sr.error("Erreur lors de la suppression du commentaire")}})(e),onSubmitReply:k,replyingTo:h,submittingReply:c})},e.id)))})})]})}):(0,Ps.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 ".concat(r),children:(0,Ps.jsxs)("div",{className:"text-center text-gray-500",children:[(0,Ps.jsx)(Bx,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Ps.jsx)("p",{children:"Connectez-vous pour voir et ajouter des commentaires"})]})})},Qy=()=>{var e;const{id:t}=ae(),r=ne(),{user:n}=Ds(),[a,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),h=(0,s.useRef)(!1);(0,s.useEffect)((()=>{t&&!h.current&&p()}),[t]);const p=async()=>{if(!h.current)try{h.current=!0,l(!0);const e=await gs(t),r=qe(qe({},e.data),{},{pfeData:e.data.documentPFE});i(r)}catch(e){console.error("Error fetching document:",e),sr.error("Erreur lors du chargement du document"),r("/documents")}finally{l(!1),h.current=!1}},f=async e=>{try{const t=await bs(e.id),r=window.URL.createObjectURL(t),n=window.document.createElement("a");n.href=r,n.download=e.nomFichier,window.document.body.appendChild(n),n.click(),window.document.body.removeChild(n),window.URL.revokeObjectURL(r),sr.success("Document t\xe9l\xe9charg\xe9 avec succ\xe8s")}catch(t){console.error("Error downloading document:",t),sr.error("Erreur lors du t\xe9l\xe9chargement")}},x=e=>{const t=parseInt(e);if(0===t)return"0 B";const r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(2))+" "+["B","KB","MB","GB"][r]};if(o)return(0,Ps.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement du document..."})]})});if(!a)return(0,Ps.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ps.jsxs)("div",{className:"text-center",children:[(0,Ps.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Document non trouv\xe9"}),(0,Ps.jsx)("p",{className:"text-gray-600 mb-4",children:"Le document demand\xe9 n'existe pas ou vous n'avez pas les permissions pour y acc\xe9der."}),(0,Ps.jsxs)("button",{onClick:()=>r("/documents"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-2"}),"Retour aux documents"]})]})});const y=(e=>{switch(e){case"cours":return Px;case"td":default:return Cx;case"tp":return ty;case"examen":return Xx;case"correction":return $x;case"pfe":return Ax}})(a.categorie);return console.log("Rendering DocumentDetails with document:",null===a||void 0===a?void 0:a.titre),(0,Ps.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ps.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ps.jsxs)("div",{className:"mb-8",children:[(0,Ps.jsxs)("button",{onClick:()=>r("/documents"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-1"}),"Retour aux documents"]}),(0,Ps.jsx)("div",{className:"flex items-start justify-between",children:(0,Ps.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Ps.jsx)("div",{className:"p-3 bg-white rounded-lg shadow-sm border",children:(0,Ps.jsx)(y,{className:"w-8 h-8 text-gray-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.titre}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ".concat((e=>{switch(e){case"cours":return"bg-blue-100 text-blue-800 border-blue-200";case"td":return"bg-green-100 text-green-800 border-green-200";case"tp":return"bg-purple-100 text-purple-800 border-purple-200";case"examen":return"bg-red-100 text-red-800 border-red-200";case"correction":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"pfe":return"bg-indigo-100 text-indigo-800 border-indigo-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.categorie)),children:a.categorie.toUpperCase()}),(0,Ps.jsxs)("span",{className:"text-sm text-gray-500",children:["Ajout\xe9 le ",new Date(a.createdAt).toLocaleDateString("fr-FR")]})]})]})]})})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ps.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,Ps.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ps.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informations du document"}),(0,Ps.jsxs)("div",{className:"space-y-4",children:[a.description&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ps.jsx)("p",{className:"text-gray-600",children:a.description})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Auteur"}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)(kx,{className:"w-4 h-4 text-gray-400"}),(0,Ps.jsxs)("span",{className:"text-gray-600",children:[a.uploader.prenom," ",a.uploader.nom]})]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Taille du fichier"}),(0,Ps.jsx)("span",{className:"text-gray-600",children:x(a.tailleFichier)})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Type de fichier"}),(0,Ps.jsx)("span",{className:"text-gray-600",children:a.typeMime})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Date d'ajout"}),(0,Ps.jsx)("span",{className:"text-gray-600",children:new Date(a.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.matiere&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Mati\xe8re"}),(0,Ps.jsxs)("span",{className:"text-gray-600",children:[a.matiere.nom," (",a.matiere.code,")"]})]}),a.pfeData&&(0,Ps.jsxs)("div",{className:"border-t pt-4",children:[(0,Ps.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Informations PFE"}),(0,Ps.jsxs)("div",{className:"space-y-3",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Titre du projet"}),(0,Ps.jsx)("p",{className:"text-gray-600",children:a.pfeData.titreProjet})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Ann\xe9e de dipl\xf4me"}),(0,Ps.jsx)("span",{className:"text-gray-600",children:a.pfeData.anneeDiplome})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Fili\xe8re de dipl\xf4me"}),(0,Ps.jsx)("span",{className:"text-gray-600",children:a.pfeData.filiereDiplome})]})]}),a.pfeData.resume&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"R\xe9sum\xe9"}),(0,Ps.jsx)("p",{className:"text-gray-600",children:a.pfeData.resume})]}),a.pfeData.motsCles.length>0&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Mots-cl\xe9s"}),(0,Ps.jsx)("div",{className:"flex flex-wrap gap-2",children:a.pfeData.motsCles.map(((e,t)=>(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e},t)))})]})]})]})]})]}),a.correction&&(0,Ps.jsxs)("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Ps.jsx)(fx,{className:"w-5 h-5 text-blue-600"}),(0,Ps.jsx)("h2",{className:"text-xl font-semibold text-blue-900",children:"Correction disponible"})]}),(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:"Titre"}),(0,Ps.jsx)("p",{className:"text-blue-800",children:a.correction.titre})]}),a.correction.description&&(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:"Description"}),(0,Ps.jsx)("p",{className:"text-blue-800",children:a.correction.description})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:"Taille"}),(0,Ps.jsx)("span",{className:"text-blue-800",children:x(a.correction.tailleFichier)})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:"Ajout\xe9e le"}),(0,Ps.jsx)("span",{className:"text-blue-800",children:new Date(a.correction.createdAt).toLocaleDateString("fr-FR")})]})]}),(0,Ps.jsxs)("button",{onClick:()=>f(a.correction),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded-md hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Ps.jsx)(Ux,{className:"w-4 h-4 mr-2"}),"T\xe9l\xe9charger la correction"]})]})]}),(0,Ps.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Ps.jsx)(Jy,{documentId:a.id})})]}),(0,Ps.jsxs)("div",{className:"space-y-6",children:[(0,Ps.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),(0,Ps.jsxs)("div",{className:"space-y-3",children:[(0,Ps.jsxs)("button",{onClick:()=>f(a),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ps.jsx)(Ux,{className:"w-4 h-4 mr-2"}),"T\xe9l\xe9charger le document"]}),a.correction&&(0,Ps.jsxs)("button",{onClick:()=>f(a.correction),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-blue-300 text-sm font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:[(0,Ps.jsx)(Ux,{className:"w-4 h-4 mr-2"}),"T\xe9l\xe9charger la correction"]}),(g=a,("professeur"===(null===n||void 0===n?void 0:n.role)||"admin"===(null===n||void 0===n?void 0:n.role))&&"pfe"!==g.categorie&&!g.correction&&!g.correctionId&&(0,Ps.jsxs)("button",{onClick:()=>d(!0),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-green-300 text-sm font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100",children:[(0,Ps.jsx)(py,{className:"w-4 h-4 mr-2"}),"Ajouter une correction"]})),(e=>"admin"===(null===n||void 0===n?void 0:n.role)||e.uploader.id===(null===n||void 0===n?void 0:n.id))(a)&&(0,Ps.jsxs)("button",{onClick:()=>m(!0),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100",children:[(0,Ps.jsx)(Ex,{className:"w-4 h-4 mr-2"}),"Supprimer le document"]})]})]}),(0,Ps.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),(0,Ps.jsxs)("div",{className:"space-y-3",children:[(0,Ps.jsxs)("div",{className:"flex justify-between",children:[(0,Ps.jsx)("span",{className:"text-sm text-gray-600",children:"T\xe9l\xe9chargements"}),(0,Ps.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.downloadCount||0})]}),(0,Ps.jsxs)("div",{className:"flex justify-between",children:[(0,Ps.jsx)("span",{className:"text-sm text-gray-600",children:"Commentaires"}),(0,Ps.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null===(e=a._count)||void 0===e?void 0:e.commentaires)||0})]}),(0,Ps.jsxs)("div",{className:"flex justify-between",children:[(0,Ps.jsx)("span",{className:"text-sm text-gray-600",children:"Vues"}),(0,Ps.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.viewCount||0})]})]})]})]})]})]}),c&&a&&(0,Ps.jsx)(oy,{isOpen:c,onClose:()=>d(!1),parentDocumentId:a.id,parentDocumentTitle:a.titre,onSuccess:()=>{d(!1),p(),sr.success("Correction ajout\xe9e avec succ\xe8s")}}),(0,Ps.jsx)(ly,{isOpen:u,onClose:()=>m(!1),title:"Confirmer la suppression",children:a&&(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("p",{className:"text-secondary-600",children:["\xcates-vous s\xfbr de vouloir supprimer le document"," ",(0,Ps.jsx)("strong",{children:a.titre})," ?"]}),(0,Ps.jsx)("p",{className:"text-sm text-amber-600",children:"Le document sera d\xe9plac\xe9 vers la corbeille et pourra \xeatre r\xe9cup\xe9r\xe9 pendant 30 jours."}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>m(!1),children:"Annuler"}),(0,Ps.jsx)(my,{variant:"danger",onClick:async()=>{if(a)try{await vs(a.id),sr.success("Document supprim\xe9 avec succ\xe8s"),r("/documents")}catch(e){console.error("Error deleting document:",e),sr.error("Erreur lors de la suppression du document")}},children:"Supprimer"})]})]})})]});var g},eg=ix("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),tg=()=>{const{user:e}=Ds(),[t,r]=(0,s.useState)([]),[n,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(1),[x,y]=(0,s.useState)(1),[g,v]=(0,s.useState)(!1),[b,w]=(0,s.useState)(null),j={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},N={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,s.useEffect)((()=>{k(),S()}),[p,d,m]);const k=async()=>{try{o(!0);const e=await Ts.get("/trash/documents",{params:{page:p,limit:10,search:d||void 0,category:m||void 0}});r(e.data.documents),y(e.data.pagination.pages)}catch(e){console.error("Error fetching deleted documents:",e)}finally{o(!1)}},S=async()=>{try{const e=await Ts.get("/trash/stats");a(e.data)}catch(e){console.error("Error fetching trash stats:",e)}};return i&&0===t.length?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement de la corbeille..."})]})}):(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsx)(Um.div,{variants:j,className:"flex items-center justify-between",children:(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)(Um.h1,{className:"text-2xl font-bold text-gray-900 flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[(0,Ps.jsx)(Ex,{className:"mr-3 h-8 w-8 text-red-600"}),"Corbeille"]}),(0,Ps.jsx)(Um.p,{className:"text-gray-600 mt-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:"Documents supprim\xe9s - R\xe9cup\xe9ration possible pendant 30 jours"})]})}),n&&(0,Ps.jsxs)(Um.div,{variants:j,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ps.jsx)(Um.div,{variants:N,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Ex,{className:"h-8 w-8 text-gray-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total supprim\xe9s"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.totalDeleted})]})]})}),(0,Ps.jsx)(Um.div,{variants:N,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(fy,{className:"h-8 w-8 text-orange-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Expirent bient\xf4t"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:n.expiringSoon})]})]})}),(0,Ps.jsx)(Um.div,{variants:N,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Qx,{className:"h-8 w-8 text-blue-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"R\xe9cents (7j)"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:n.recentDeletions})]})]})}),(0,Ps.jsx)(Um.div,{variants:N,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Cx,{className:"h-8 w-8 text-green-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cat\xe9gories"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-green-600",children:Object.keys(n.byCategory).length})]})]})})]}),(0,Ps.jsx)(Um.div,{variants:j,className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Ps.jsx)("div",{className:"flex-1",children:(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,Ps.jsx)("input",{type:"text",placeholder:"Rechercher dans la corbeille...",value:d,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Ps.jsx)("div",{className:"sm:w-48",children:(0,Ps.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ps.jsx)("option",{value:"",children:"Toutes les cat\xe9gories"}),(0,Ps.jsx)("option",{value:"cours",children:"Cours"}),(0,Ps.jsx)("option",{value:"td",children:"TD"}),(0,Ps.jsx)("option",{value:"tp",children:"TP"}),(0,Ps.jsx)("option",{value:"examen",children:"Examen"}),(0,Ps.jsx)("option",{value:"pfe",children:"PFE"})]})})]})}),(0,Ps.jsx)(Um.div,{variants:j,className:"bg-white shadow rounded-lg",children:0===t.length?(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Ex,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucun document supprim\xe9"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Vos documents supprim\xe9s appara\xeetront ici."})]}):(0,Ps.jsx)("div",{className:"overflow-hidden",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ps.jsx)("thead",{className:"bg-gray-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cat\xe9gorie"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supprim\xe9 le"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expire dans"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(((e,t)=>{const r=(e=>{const t=new Date(e),r=new Date(t.getTime()+2592e6),n=new Date,a=Math.ceil((r.getTime()-n.getTime())/864e5);return Math.max(0,a)})(e.deletedAt),n=r<=7;return(0,Ps.jsxs)(Um.tr,{className:"hover:bg-gray-50",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.5},children:[(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Cx,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.titre}),(0,Ps.jsx)("div",{className:"text-sm text-gray-500",children:e.nomFichier}),e.matiere&&(0,Ps.jsxs)("div",{className:"text-xs text-gray-400",children:[e.matiere.filiere.niveau.nom," - ",e.matiere.filiere.nom," - ",e.matiere.nom]})]})]})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((s=e.categorie,{cours:"bg-blue-100 text-blue-800",td:"bg-green-100 text-green-800",tp:"bg-purple-100 text-purple-800",examen:"bg-red-100 text-red-800",pfe:"bg-yellow-100 text-yellow-800"}[s]||"bg-gray-100 text-gray-800")),children:e.categorie.toUpperCase()})}),(0,Ps.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Xx,{className:"h-4 w-4 mr-1"}),(a=e.deletedAt,new Date(a).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))]}),e.deleter&&(0,Ps.jsxs)("div",{className:"text-xs text-gray-400 flex items-center mt-1",children:[(0,Ps.jsx)(kx,{className:"h-3 w-3 mr-1"}),"par ",e.deleter.prenom," ",e.deleter.nom]})]}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center text-sm ".concat(n?"text-red-600":"text-gray-500"),children:[(0,Ps.jsx)(Qx,{className:"h-4 w-4 mr-1"}),r," jour",1!==r?"s":"",n&&(0,Ps.jsx)(fy,{className:"h-4 w-4 ml-2 text-orange-500"})]})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ps.jsxs)("button",{onClick:()=>(e=>{w(e),v(!0)})(e),disabled:l===e.id||0===r,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[l===e.id?(0,Ps.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Ps.jsx)(eg,{className:"h-4 w-4 mr-2"}),0===r?"Expir\xe9":"Restaurer"]})})]},e.id);var a,s}))})]})})}),x>1&&(0,Ps.jsxs)(Um.div,{variants:j,className:"flex items-center justify-between",children:[(0,Ps.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Ps.jsx)("button",{onClick:()=>f(Math.max(1,p-1)),disabled:1===p,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Pr\xe9c\xe9dent"}),(0,Ps.jsx)("button",{onClick:()=>f(Math.min(x,p+1)),disabled:p===x,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),(0,Ps.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Ps.jsx)("div",{children:(0,Ps.jsxs)("p",{className:"text-sm text-gray-700",children:["Page ",(0,Ps.jsx)("span",{className:"font-medium",children:p})," sur"," ",(0,Ps.jsx)("span",{className:"font-medium",children:x})]})}),(0,Ps.jsx)("div",{children:(0,Ps.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Ps.jsx)("button",{onClick:()=>f(Math.max(1,p-1)),disabled:1===p,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Pr\xe9c\xe9dent"}),(0,Ps.jsx)("button",{onClick:()=>f(Math.min(x,p+1)),disabled:p===x,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]})})]})]}),(0,Ps.jsx)(ly,{isOpen:g,onClose:()=>{v(!1),w(null)},title:"Confirmer la restauration",children:b&&(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("p",{className:"text-secondary-600",children:["\xcates-vous s\xfbr de vouloir restaurer le document"," ",(0,Ps.jsx)("strong",{children:b.titre})," ?"]}),(0,Ps.jsx)("p",{className:"text-sm text-blue-600",children:"Le document sera restaur\xe9 et redeviendra accessible \xe0 tous les utilisateurs autoris\xe9s."}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>{v(!1),w(null)},disabled:l===b.id,children:"Annuler"}),(0,Ps.jsx)(my,{variant:"primary",onClick:async()=>{if(b)try{c(b.id),await Ts.post("/trash/documents/".concat(b.id,"/restore")),r((e=>e.filter((e=>e.id!==b.id)))),S(),sr.success("Document restaur\xe9 avec succ\xe8s!"),v(!1),w(null)}catch(n){var e,t;console.error("Error restoring document:",n),sr.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la restauration")}finally{c(null)}},disabled:l===b.id,children:l===b.id?(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Restauration..."]}):(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(eg,{className:"h-4 w-4 mr-2"}),"Restaurer"]})})]})]})})]})},rg=ix("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ng=ix("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ag=ix("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),sg=ix("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ig=ix("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),og=ix("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),lg=rx({prenom:ex().min(1,"Le pr\xe9nom est requis"),nom:ex().min(1,"Le nom est requis")}),cg=rx({currentPassword:ex().min(1,"Le mot de passe actuel est requis"),newPassword:ex().min(8,"Le nouveau mot de passe doit contenir au moins 8 caract\xe8res"),confirmPassword:ex().min(1,"Confirmez le nouveau mot de passe")}).refine((e=>e.newPassword===e.confirmPassword),{message:"Les mots de passe ne correspondent pas",path:["confirmPassword"]}),dg=()=>{var e,t;const{user:r,updateProfile:n}=Ds(),[a,i]=(0,s.useState)("profile"),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),[f,x]=(0,s.useState)(!1),[y,g]=(0,s.useState)(null),v=gp({resolver:Sp(lg),defaultValues:{prenom:(null===r||void 0===r?void 0:r.prenom)||"",nom:(null===r||void 0===r?void 0:r.nom)||""}}),b=gp({resolver:Sp(cg)});(0,s.useEffect)((()=>{r&&v.reset({prenom:r.prenom||"",nom:r.nom||""})}),[r,v]);const w=e=>{let{label:t,type:r,error:n,register:a,name:s,rightIcon:i,disabled:o=!1}=e;const l=y===s;return(0,Ps.jsxs)("div",{className:"space-y-2",children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700",children:t}),(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)("input",qe(qe({},a),{},{type:r,disabled:o,onFocus:()=>g(s),onBlur:()=>g(null),className:"\n              w-full px-4 py-4 border-2 rounded-xl bg-white/80 backdrop-blur-sm\n              transition-all duration-200\n              focus:outline-none focus:ring-0\n              ".concat(o?"bg-gray-50 cursor-not-allowed":"","\n              ").concat(n?"border-red-300 focus:border-red-500":"border-secondary-200 focus:border-primary-500","\n              ").concat(l?"shadow-lg shadow-primary-500/10":"shadow-sm","\n            "),placeholder:o?t:"Entrez votre ".concat(t.toLowerCase())})),i&&(0,Ps.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i})]}),n&&(0,Ps.jsxs)("div",{className:"text-sm text-red-600 flex items-center",children:[(0,Ps.jsx)("span",{className:"w-4 h-4 rounded-full bg-red-100 flex items-center justify-center mr-2 text-xs",children:"!"}),n.message]})]})};if(!r)return(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement du profil..."})]})});const j="admin"===r.role?_x:kx;return(0,Ps.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,Ps.jsx)("div",{children:(0,Ps.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br ".concat((e=>{switch(e){case"admin":return"from-red-500 to-red-600";case"professeur":return"from-blue-500 to-blue-600";case"etudiant":return"from-green-500 to-green-600";default:return"from-gray-500 to-gray-600"}})(r.role)," rounded-2xl p-8 text-white shadow-2xl"),children:[(0,Ps.jsx)(Um.div,{className:"absolute top-0 right-0 w-64 h-64 opacity-10",animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},children:(0,Ps.jsx)(j,{className:"w-full h-full"})}),(0,Ps.jsx)("div",{className:"relative z-10",children:(0,Ps.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Ps.jsxs)(Um.div,{className:"relative",whileHover:{scale:1.05},transition:{duration:.3},children:[(0,Ps.jsx)(Um.div,{className:"h-24 w-24 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-lg border border-white/30",whileHover:{rotate:360},transition:{duration:.8},children:(0,Ps.jsxs)("span",{className:"text-white font-medium text-lg",children:[(r.prenom||"").charAt(0),(r.nom||"").charAt(0)]})}),(0,Ps.jsx)(Um.button,{className:"absolute -bottom-2 -right-2 h-8 w-8 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 hover:bg-white/30 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Ps.jsx)(rg,{className:"h-4 w-4"})})]}),(0,Ps.jsxs)("div",{className:"flex-1",children:[(0,Ps.jsxs)(Um.h1,{className:"text-3xl font-bold mb-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[r.prenom," ",r.nom]}),(0,Ps.jsxs)(Um.div,{className:"flex items-center space-x-4 mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:[(0,Ps.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ".concat((e=>{switch(e){case"admin":return"bg-red-100 text-red-800 border-red-200";case"professeur":return"bg-blue-100 text-blue-800 border-blue-200";case"etudiant":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(r.role)),children:[(0,Ps.jsx)(j,{className:"h-4 w-4 mr-2"}),(r.role||"").charAt(0).toUpperCase()+(r.role||"").slice(1)]}),(0,Ps.jsxs)("div",{className:"flex items-center text-white/80 text-sm",children:[(0,Ps.jsx)(ox,{className:"h-4 w-4 mr-2"}),r.email]})]}),(0,Ps.jsxs)(Um.div,{className:"flex items-center text-white/70 text-sm",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[(0,Ps.jsx)(Xx,{className:"h-4 w-4 mr-2"}),"Membre depuis ",new Date(r.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})]})})]})}),(0,Ps.jsx)("div",{children:(0,Ps.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-100 p-2",children:(0,Ps.jsx)("nav",{className:"flex space-x-2",children:[{id:"profile",label:"Informations personnelles",icon:kx},{id:"password",label:"S\xe9curit\xe9",icon:lx},{id:"preferences",label:"Pr\xe9f\xe9rences",icon:ng}].map((e=>{const t=e.icon;return(0,Ps.jsxs)("button",{onClick:()=>i(e.id),className:"flex-1 flex items-center justify-center px-4 py-3 rounded-xl font-medium text-sm transition-all duration-300 ".concat(a===e.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-secondary-600 hover:bg-secondary-50 hover:text-primary-600"),children:[(0,Ps.jsx)(t,{className:"h-4 w-4 mr-2"}),e.label]},e.id)}))})})}),(0,Ps.jsxs)("div",{className:"space-y-8",children:["profile"===a&&(0,Ps.jsxs)(Um.div,{className:"bg-white rounded-2xl shadow-lg border border-secondary-100 p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,Ps.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ps.jsx)(Um.div,{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg mr-4",whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:(0,Ps.jsx)(ag,{className:"h-6 w-6 text-white"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-2xl font-bold text-secondary-900",children:"Informations personnelles"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"Modifiez vos informations de profil"})]})]}),(0,Ps.jsxs)("form",{onSubmit:v.handleSubmit((async e=>{try{l(!0),await n(e),v.reset({prenom:e.prenom,nom:e.nom})}catch(t){}finally{l(!1)}})),className:"space-y-6",children:[(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ps.jsx)(w,{label:"Pr\xe9nom",type:"text",error:v.formState.errors.prenom,register:v.register("prenom"),name:"prenom"}),(0,Ps.jsx)(w,{label:"Nom",type:"text",error:v.formState.errors.nom,register:v.register("nom"),name:"nom"})]}),(0,Ps.jsx)(w,{label:"Adresse email",type:"email",register:()=>({value:r.email}),name:"email",disabled:!0}),r.filiere&&(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium leading-6 text-secondary-900 mb-2",children:"Niveau"}),(0,Ps.jsx)("div",{className:"px-3 py-2.5 bg-secondary-50 border border-secondary-200 rounded-lg text-sm text-secondary-700",children:(null===(e=r.niveau)||void 0===e?void 0:e.nom)||"Non d\xe9fini"})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium leading-6 text-secondary-900 mb-2",children:"Fili\xe8re"}),(0,Ps.jsx)("div",{className:"px-3 py-2.5 bg-secondary-50 border border-secondary-200 rounded-lg text-sm text-secondary-700",children:(null===(t=r.filiere)||void 0===t?void 0:t.nom)||"Non d\xe9finie"})]})]}),(0,Ps.jsx)(Um.div,{className:"flex justify-end",whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Ps.jsx)(Um.button,{type:"submit",disabled:o,className:"\n                    flex items-center px-6 py-3 rounded-xl font-medium text-white transition-all duration-300\n                    ".concat(o?"bg-secondary-400 cursor-not-allowed":"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 shadow-lg hover:shadow-xl shadow-primary-500/25","\n                  "),whileHover:o?{}:{scale:1.05},children:(0,Ps.jsx)(Xm,{mode:"wait",children:o?(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center",children:[(0,Ps.jsx)(Um.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Mise \xe0 jour..."]},"loading"):(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center",children:[(0,Ps.jsx)(sg,{className:"h-5 w-5 mr-2"}),"Sauvegarder"]},"save")})})})]})]}),"password"===a&&(0,Ps.jsxs)(Um.div,{className:"bg-white rounded-2xl shadow-lg border border-secondary-100 p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,Ps.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ps.jsx)(Um.div,{className:"h-12 w-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg mr-4",whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:(0,Ps.jsx)(lx,{className:"h-6 w-6 text-white"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-2xl font-bold text-secondary-900",children:"Changer le mot de passe"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"Assurez-vous d'utiliser un mot de passe s\xe9curis\xe9"})]})]}),(0,Ps.jsxs)("form",{onSubmit:b.handleSubmit((async e=>{try{d(!0),await qa({currentPassword:e.currentPassword,newPassword:e.newPassword}),sr.success("Mot de passe chang\xe9 avec succ\xe8s"),b.reset()}catch(n){var t,r;const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors du changement de mot de passe";sr.error(e)}finally{d(!1)}})),className:"space-y-6",children:[(0,Ps.jsx)(w,{label:"Mot de passe actuel",type:u?"text":"password",error:b.formState.errors.currentPassword,register:b.register("currentPassword"),name:"currentPassword",rightIcon:(0,Ps.jsx)("button",{type:"button",onClick:()=>m(!u),className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:u?(0,Ps.jsx)(cx,{className:"h-5 w-5"}):(0,Ps.jsx)(dx,{className:"h-5 w-5"})})}),(0,Ps.jsx)(w,{label:"Nouveau mot de passe",type:h?"text":"password",error:b.formState.errors.newPassword,register:b.register("newPassword"),name:"newPassword",rightIcon:(0,Ps.jsx)("button",{type:"button",onClick:()=>p(!h),className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:h?(0,Ps.jsx)(cx,{className:"h-5 w-5"}):(0,Ps.jsx)(dx,{className:"h-5 w-5"})})}),(0,Ps.jsx)(w,{label:"Confirmer le nouveau mot de passe",type:f?"text":"password",error:b.formState.errors.confirmPassword,register:b.register("confirmPassword"),name:"confirmPassword",rightIcon:(0,Ps.jsx)("button",{type:"button",onClick:()=>x(!f),className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:f?(0,Ps.jsx)(cx,{className:"h-5 w-5"}):(0,Ps.jsx)(dx,{className:"h-5 w-5"})})}),(0,Ps.jsx)(Um.div,{className:"flex justify-end",whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Ps.jsx)(Um.button,{type:"submit",disabled:c,className:"\n                    flex items-center px-6 py-3 rounded-xl font-medium text-white transition-all duration-300\n                    ".concat(c?"bg-secondary-400 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-lg hover:shadow-xl shadow-red-500/25","\n                  "),whileHover:c?{}:{scale:1.05},children:(0,Ps.jsx)(Xm,{mode:"wait",children:c?(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center",children:[(0,Ps.jsx)(Um.div,{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Changement..."]},"loading"):(0,Ps.jsxs)(Um.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center",children:[(0,Ps.jsx)(fx,{className:"h-5 w-5 mr-2"}),"Changer le mot de passe"]},"change")})})})]})]}),"preferences"===a&&(0,Ps.jsxs)(Um.div,{className:"bg-white rounded-2xl shadow-lg border border-secondary-100 p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,Ps.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ps.jsx)(Um.div,{className:"h-12 w-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg mr-4",whileHover:{scale:1.1,rotate:360},transition:{duration:.6},children:(0,Ps.jsx)(ng,{className:"h-6 w-6 text-white"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-2xl font-bold text-secondary-900",children:"Pr\xe9f\xe9rences"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"Personnalisez votre exp\xe9rience"})]})]}),(0,Ps.jsxs)("div",{className:"space-y-6",children:[(0,Ps.jsxs)("div",{className:"p-6 bg-secondary-50 rounded-xl border border-secondary-200",children:[(0,Ps.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ps.jsx)(jx,{className:"h-5 w-5 text-secondary-600 mr-3"}),(0,Ps.jsx)("h4",{className:"text-lg font-semibold text-secondary-900",children:"Notifications"})]}),(0,Ps.jsxs)("div",{className:"space-y-3",children:[(0,Ps.jsxs)("label",{className:"flex items-center",children:[(0,Ps.jsx)("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",defaultChecked:!0}),(0,Ps.jsx)("span",{className:"ml-3 text-secondary-700",children:"Notifications par email"})]}),(0,Ps.jsxs)("label",{className:"flex items-center",children:[(0,Ps.jsx)("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",defaultChecked:!0}),(0,Ps.jsx)("span",{className:"ml-3 text-secondary-700",children:"Notifications push"})]})]})]}),(0,Ps.jsxs)("div",{className:"p-6 bg-secondary-50 rounded-xl border border-secondary-200",children:[(0,Ps.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ps.jsx)(ig,{className:"h-5 w-5 text-secondary-600 mr-3"}),(0,Ps.jsx)("h4",{className:"text-lg font-semibold text-secondary-900",children:"Langue"})]}),(0,Ps.jsxs)("select",{className:"w-full px-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,Ps.jsx)("option",{value:"en",children:"English"}),(0,Ps.jsx)("option",{value:"ar",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"})]})]}),(0,Ps.jsxs)("div",{className:"p-6 bg-secondary-50 rounded-xl border border-secondary-200",children:[(0,Ps.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ps.jsx)(og,{className:"h-5 w-5 text-secondary-600 mr-3"}),(0,Ps.jsx)("h4",{className:"text-lg font-semibold text-secondary-900",children:"Th\xe8me"})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Ps.jsxs)("button",{className:"p-3 border-2 border-primary-500 rounded-lg bg-white text-center",children:[(0,Ps.jsx)("div",{className:"w-full h-8 bg-white border rounded mb-2"}),(0,Ps.jsx)("span",{className:"text-sm font-medium",children:"Clair"})]}),(0,Ps.jsxs)("button",{className:"p-3 border-2 border-secondary-300 rounded-lg bg-white text-center",children:[(0,Ps.jsx)("div",{className:"w-full h-8 bg-gray-800 rounded mb-2"}),(0,Ps.jsx)("span",{className:"text-sm font-medium",children:"Sombre"})]}),(0,Ps.jsxs)("button",{className:"p-3 border-2 border-secondary-300 rounded-lg bg-white text-center",children:[(0,Ps.jsx)("div",{className:"w-full h-8 bg-gradient-to-r from-white to-gray-800 rounded mb-2"}),(0,Ps.jsx)("span",{className:"text-sm font-medium",children:"Auto"})]})]})]})]})]})]})]})},ug=ix("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),mg=ix("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),hg=e=>{let{children:t,variant:r="default",padding:n="md",hover:a=!1,className:s,onClick:i,id:o,style:l}=e;const c={className:dy("bg-white rounded-lg transition-all duration-200",{default:"shadow-sm border border-secondary-200",elevated:"shadow-lg border border-secondary-100",outlined:"border-2 border-secondary-200"}[r],{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[n],s),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:i,id:o,style:l},d=a?{whileHover:{y:-2,boxShadow:"0 10px 25px -3px rgba(0, 0, 0, 0.1)"},transition:{type:"spring",stiffness:300,damping:20}}:{};return(0,Ps.jsx)(Um.div,qe(qe(qe({},c),d),{},{children:t}))},pg=["label","error","helperText","leftIcon","rightIcon","fullWidth","className","id"],fg=(0,s.forwardRef)(((e,t)=>{let{label:r,error:n,helperText:a,leftIcon:s,rightIcon:i,fullWidth:o=!1,className:l,id:c}=e,d=$i(e,pg);const u=c||"input-".concat(Math.random().toString(36).substr(2,9)),m=dy("block w-full rounded-lg border-0 py-2.5 shadow-sm ring-1 ring-inset transition-all duration-200 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",n?"ring-red-300 placeholder:text-red-400 focus:ring-red-600 text-red-900":"ring-secondary-300 placeholder:text-secondary-400 focus:ring-primary-600 text-secondary-900",s&&i?"pl-10 pr-10":s?"pl-10 pr-3":i?"pl-3 pr-10":"px-3",l);return(0,Ps.jsxs)(Um.div,{className:dy("relative",o&&"w-full"),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[r&&(0,Ps.jsx)("label",{htmlFor:u,className:"block text-sm font-medium leading-6 text-secondary-900 mb-2",children:r}),(0,Ps.jsxs)("div",{className:"relative",children:[s&&(0,Ps.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,Ps.jsx)("span",{className:dy("h-5 w-5",n?"text-red-400":"text-secondary-400"),children:s})}),(0,Ps.jsx)("input",qe({ref:t,id:u,className:m},d)),i&&(0,Ps.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,Ps.jsx)("span",{className:dy("h-5 w-5",n?"text-red-400":"text-secondary-400"),children:i})})]}),(n||a)&&(0,Ps.jsx)(Um.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-2",children:n?(0,Ps.jsx)("p",{className:"text-sm text-red-600",children:n}):(0,Ps.jsx)("p",{className:"text-sm text-secondary-500",children:a})})]})}));fg.displayName="Input";const xg=fg,yg=rx({email:ex().min(1,"L'email est requis").email("Format d'email invalide"),password:ex().min(8,"Le mot de passe doit contenir au moins 8 caract\xe8res").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Le mot de passe doit contenir au moins une minuscule, une majuscule et un chiffre"),prenom:ex().min(1,"Le pr\xe9nom est requis").min(2,"Le pr\xe9nom doit contenir au moins 2 caract\xe8res"),nom:ex().min(1,"Le nom est requis").min(2,"Le nom doit contenir au moins 2 caract\xe8res"),role:nx(["etudiant","professeur","admin"],{required_error:"Le r\xf4le est requis"}),filiereId:ex().optional(),niveauId:ex().optional()}).refine((e=>"etudiant"!==e.role||e.filiereId&&e.niveauId),{message:"La fili\xe8re et le niveau sont requis pour les \xe9tudiants",path:["filiereId"]}),gg=rx({prenom:ex().min(1,"Le pr\xe9nom est requis").min(2,"Le pr\xe9nom doit contenir au moins 2 caract\xe8res"),nom:ex().min(1,"Le nom est requis").min(2,"Le nom doit contenir au moins 2 caract\xe8res"),role:nx(["etudiant","professeur","admin"],{required_error:"Le r\xf4le est requis"}),isActive:tx(),filiereId:ex().optional(),niveauId:ex().optional()}).refine((e=>"etudiant"!==e.role||e.filiereId&&e.niveauId),{message:"La fili\xe8re et le niveau sont requis pour les \xe9tudiants",path:["filiereId"]}),vg=e=>{var t,r,n,a;let{onSubmit:i,onCancel:o,niveaux:l,filieres:c}=e;const[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)("etudiant"),[x,y]=(0,s.useState)(""),{register:g,handleSubmit:v,formState:{errors:b},watch:w,setValue:j}=gp({resolver:Sp(yg),defaultValues:{role:"etudiant",filiereId:"",niveauId:""}}),N=w("role"),k=w("niveauId");(0,s.useEffect)((()=>{f(N)}),[N]),(0,s.useEffect)((()=>{void 0!==k&&y(k)}),[k]);const S=c.filter((e=>!x||e.niveauId===x)),C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return(0,Ps.jsxs)(Um.form,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",onSubmit:v((async e=>{try{h(!0);const t=qe({},e);"etudiant"!==e.role&&(delete t.filiereId,delete t.niveauId),await i(t)}catch(t){console.error("Form submission error:",t)}finally{h(!1)}})),className:"space-y-6",children:[(0,Ps.jsx)(Um.div,{variants:C,children:(0,Ps.jsx)(xg,qe(qe({},g("email")),{},{type:"email",label:"Adresse email",placeholder:"utilisateur@isi.tn",error:null===(t=b.email)||void 0===t?void 0:t.message,leftIcon:(0,Ps.jsx)(ox,{}),fullWidth:!0,required:!0}))}),(0,Ps.jsxs)(Um.div,{variants:C,children:[(0,Ps.jsx)(xg,qe(qe({},g("password")),{},{type:d?"text":"password",label:"Mot de passe",placeholder:"Mot de passe s\xe9curis\xe9",error:null===(r=b.password)||void 0===r?void 0:r.message,leftIcon:(0,Ps.jsx)(lx,{}),rightIcon:(0,Ps.jsx)("button",{type:"button",onClick:()=>u(!d),className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:d?(0,Ps.jsx)(cx,{}):(0,Ps.jsx)(dx,{})}),fullWidth:!0,required:!0})),(0,Ps.jsx)("p",{className:"mt-1 text-xs text-secondary-500",children:"Le mot de passe doit contenir au moins 8 caract\xe8res avec une minuscule, une majuscule et un chiffre."})]}),(0,Ps.jsxs)(Um.div,{variants:C,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsx)(xg,qe(qe({},g("prenom")),{},{type:"text",label:"Pr\xe9nom",placeholder:"Pr\xe9nom",error:null===(n=b.prenom)||void 0===n?void 0:n.message,leftIcon:(0,Ps.jsx)(kx,{}),fullWidth:!0,required:!0})),(0,Ps.jsx)(xg,qe(qe({},g("nom")),{},{type:"text",label:"Nom",placeholder:"Nom de famille",error:null===(a=b.nom)||void 0===a?void 0:a.message,leftIcon:(0,Ps.jsx)(kx,{}),fullWidth:!0,required:!0}))]}),(0,Ps.jsxs)(Um.div,{variants:C,children:[(0,Ps.jsxs)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:["R\xf4le ",(0,Ps.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ps.jsxs)("select",qe(qe({},g("role")),{},{className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"etudiant",children:"\xc9tudiant"}),(0,Ps.jsx)("option",{value:"professeur",children:"Professeur"}),(0,Ps.jsx)("option",{value:"admin",children:"Administrateur"})]})),b.role&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.role.message})]}),"etudiant"===p&&(0,Ps.jsx)(Um.div,{variants:C,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:["Niveau ",(0,Ps.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ps.jsxs)("select",qe(qe({},g("niveauId")),{},{className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onChange:e=>{j("niveauId",e.target.value),j("filiereId","")},children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un niveau"}),l.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]})),b.niveauId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.niveauId.message})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:["Fili\xe8re ",(0,Ps.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ps.jsxs)("select",qe(qe({},g("filiereId")),{},{className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:!x,children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner une fili\xe8re"}),S.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.nom," (",e.code,")"]},e.id)))]})),b.filiereId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.filiereId.message})]})]})}),(0,Ps.jsxs)(Um.div,{variants:C,className:"flex justify-end gap-3 pt-6 border-t border-secondary-200",children:[(0,Ps.jsx)(my,{type:"button",variant:"outline",onClick:o,disabled:m,children:"Annuler"}),(0,Ps.jsx)(my,{type:"submit",isLoading:m,disabled:m,children:"Cr\xe9er l'utilisateur"})]})]})},bg=e=>{var t,r;let{user:n,onSubmit:a,onCancel:i,niveaux:o,filieres:l}=e;const[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(n.role),[h,p]=(0,s.useState)(n.niveauId||""),{register:f,handleSubmit:x,formState:{errors:y},watch:g,setValue:v}=gp({resolver:Sp(gg),defaultValues:{prenom:n.prenom,nom:n.nom,role:n.role,isActive:n.isActive,filiereId:n.filiereId||"",niveauId:n.niveauId||""}}),b=g("role"),w=g("niveauId");(0,s.useEffect)((()=>{m(b)}),[b]),(0,s.useEffect)((()=>{void 0!==w&&p(w)}),[w]);const j=l.filter((e=>!h||e.niveauId===h)),N={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return(0,Ps.jsxs)(Um.form,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",onSubmit:x((async e=>{try{d(!0);const t=qe({},e);"etudiant"!==e.role&&(delete t.filiereId,delete t.niveauId),await a(t)}catch(t){console.error("Form submission error:",t)}finally{d(!1)}})),className:"space-y-6",children:[(0,Ps.jsxs)(Um.div,{variants:N,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsx)(xg,qe(qe({},f("prenom")),{},{type:"text",label:"Pr\xe9nom",placeholder:"Pr\xe9nom",error:null===(t=y.prenom)||void 0===t?void 0:t.message,leftIcon:(0,Ps.jsx)(kx,{}),fullWidth:!0,required:!0})),(0,Ps.jsx)(xg,qe(qe({},f("nom")),{},{type:"text",label:"Nom",placeholder:"Nom de famille",error:null===(r=y.nom)||void 0===r?void 0:r.message,leftIcon:(0,Ps.jsx)(kx,{}),fullWidth:!0,required:!0}))]}),(0,Ps.jsxs)(Um.div,{variants:N,children:[(0,Ps.jsxs)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:["R\xf4le ",(0,Ps.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ps.jsxs)("select",qe(qe({},f("role")),{},{className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"etudiant",children:"\xc9tudiant"}),(0,Ps.jsx)("option",{value:"professeur",children:"Professeur"}),(0,Ps.jsx)("option",{value:"admin",children:"Administrateur"})]})),y.role&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.role.message})]}),"etudiant"===u&&(0,Ps.jsx)(Um.div,{variants:N,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:["Niveau ",(0,Ps.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ps.jsxs)("select",qe(qe({},f("niveauId")),{},{className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",onChange:e=>{v("niveauId",e.target.value),v("filiereId","")},children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un niveau"}),o.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]})),y.niveauId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.niveauId.message})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:["Fili\xe8re ",(0,Ps.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ps.jsxs)("select",qe(qe({},f("filiereId")),{},{className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:!h,children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner une fili\xe8re"}),j.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.nom," (",e.code,")"]},e.id)))]})),y.filiereId&&(0,Ps.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.filiereId.message})]})]})}),(0,Ps.jsx)(Um.div,{variants:N,children:(0,Ps.jsxs)("label",{className:"flex items-center",children:[(0,Ps.jsx)("input",qe(qe({},f("isActive")),{},{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"})),(0,Ps.jsx)("span",{className:"ml-2 text-sm font-medium text-secondary-700",children:"Compte actif"})]})}),(0,Ps.jsxs)(Um.div,{variants:N,className:"flex justify-end gap-3 pt-6 border-t border-secondary-200",children:[(0,Ps.jsx)(my,{type:"button",variant:"outline",onClick:i,disabled:c,children:"Annuler"}),(0,Ps.jsx)(my,{type:"submit",isLoading:c,disabled:c,children:"Mettre \xe0 jour"})]})]})},wg=e=>e.isEditing&&e.user?(0,Ps.jsx)(bg,qe(qe({},e),{},{user:e.user})):(0,Ps.jsx)(vg,qe({},e)),jg=()=>{const{user:e}=Ds(),[t,r]=(0,s.useState)([]),[n,a]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!0),[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[x,y]=(0,s.useState)(""),[g,v]=(0,s.useState)(1),[b,w]=(0,s.useState)(1),[j,N]=(0,s.useState)([]),[k,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)(!1),[_,T]=(0,s.useState)(null),[P,A]=(0,s.useState)(!1),[M,O]=(0,s.useState)(null),D={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},R={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,s.useEffect)((()=>{L(),I(),F()}),[g,m,p,x]);const L=async()=>{try{var e;u(!0);const t=await Za({page:g,limit:10,search:m||void 0,role:p||void 0,isActive:x?"active"===x:void 0}),n=Array.isArray(t.data.users)?t.data.users:[];r(n),w((null===(e=t.data.pagination)||void 0===e?void 0:e.totalPages)||1)}catch(t){console.error("Error fetching users:",t),sr.error("Erreur lors du chargement des utilisateurs"),r([])}finally{u(!1)}},I=async()=>{try{const e=await Ya();a(e.data.stats)}catch(e){console.error("Error fetching stats:",e),a(null)}},F=async()=>{try{const[e,t]=await Promise.all([Qa(),es()]);o(Array.isArray(e.data)?e.data:[]),c(Array.isArray(t.data)?t.data:[])}catch(e){console.error("Error fetching academic data:",e),o([]),c([])}},z=async e=>{if(0!==j.length)try{await Ja({userIds:j,updateData:e}),sr.success("".concat(j.length," utilisateur(s) mis \xe0 jour")),N([]),L(),I()}catch(n){var t,r;sr.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors de la mise \xe0 jour")}},V=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"professeur":return"bg-blue-100 text-blue-800";case"etudiant":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return d?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement des utilisateurs..."})]})}):(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsxs)(Um.div,{variants:D,className:"flex justify-between items-center",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)(Um.h1,{className:"text-2xl font-bold text-secondary-900",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:"Gestion des Utilisateurs"}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:"G\xe9rez les comptes utilisateurs de la plateforme"})]}),(0,Ps.jsx)(Um.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:(0,Ps.jsx)(my,{onClick:()=>S(!0),leftIcon:(0,Ps.jsx)(py,{}),className:"bg-primary-600 hover:bg-primary-700",children:"Nouvel Utilisateur"})})]}),n&&(0,Ps.jsxs)(Um.div,{variants:D,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ps.jsx)(Um.div,{variants:R,whileHover:"hover",children:(0,Ps.jsx)(hg,{className:"p-6",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-3 rounded-full bg-blue-100",children:(0,Ps.jsx)(Tx,{className:"h-6 w-6 text-blue-600"})}),(0,Ps.jsxs)("div",{className:"ml-4",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Total"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:n.totalUsers})]})]})})}),(0,Ps.jsx)(Um.div,{variants:R,whileHover:"hover",children:(0,Ps.jsx)(hg,{className:"p-6",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-3 rounded-full bg-green-100",children:(0,Ps.jsx)(Ox,{className:"h-6 w-6 text-green-600"})}),(0,Ps.jsxs)("div",{className:"ml-4",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Actifs"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:n.activeUsers})]})]})})}),(0,Ps.jsx)(Um.div,{variants:R,whileHover:"hover",children:(0,Ps.jsx)(hg,{className:"p-6",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-3 rounded-full bg-red-100",children:(0,Ps.jsx)(ug,{className:"h-6 w-6 text-red-600"})}),(0,Ps.jsxs)("div",{className:"ml-4",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Inactifs"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:n.inactiveUsers})]})]})})}),(0,Ps.jsx)(Um.div,{variants:R,whileHover:"hover",children:(0,Ps.jsx)(hg,{className:"p-6",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-3 rounded-full bg-purple-100",children:(0,Ps.jsx)(Tx,{className:"h-6 w-6 text-purple-600"})}),(0,Ps.jsxs)("div",{className:"ml-4",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Professeurs"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:n.roleDistribution.professeur})]})]})})})]}),(0,Ps.jsx)(Um.div,{variants:D,children:(0,Ps.jsx)(hg,{className:"p-6",children:(0,Ps.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Ps.jsx)("div",{className:"flex-1",children:(0,Ps.jsx)(xg,{placeholder:"Rechercher par email, pr\xe9nom ou nom...",value:m,onChange:e=>h(e.target.value),leftIcon:(0,Ps.jsx)(Gx,{})})}),(0,Ps.jsxs)("div",{className:"flex gap-4",children:[(0,Ps.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"Tous les r\xf4les"}),(0,Ps.jsx)("option",{value:"admin",children:"Admin"}),(0,Ps.jsx)("option",{value:"professeur",children:"Professeur"}),(0,Ps.jsx)("option",{value:"etudiant",children:"\xc9tudiant"})]}),(0,Ps.jsxs)("select",{value:x,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"Tous les statuts"}),(0,Ps.jsx)("option",{value:"active",children:"Actif"}),(0,Ps.jsx)("option",{value:"inactive",children:"Inactif"})]})]})]})})}),(0,Ps.jsx)(Xm,{children:j.length>0&&(0,Ps.jsx)(Um.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:(0,Ps.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ps.jsxs)("span",{className:"text-primary-700 font-medium",children:[j.length," utilisateur(s) s\xe9lectionn\xe9(s)"]}),(0,Ps.jsxs)("div",{className:"flex gap-2",children:[(0,Ps.jsx)(my,{size:"sm",variant:"outline",onClick:()=>z({isActive:!0}),children:"Activer"}),(0,Ps.jsx)(my,{size:"sm",variant:"outline",onClick:()=>z({isActive:!1}),children:"D\xe9sactiver"}),(0,Ps.jsx)(my,{size:"sm",variant:"outline",onClick:()=>N([]),children:"Annuler"})]})]})})}),(0,Ps.jsx)(Um.div,{variants:D,children:(0,Ps.jsxs)(hg,{children:[(0,Ps.jsx)("div",{className:"overflow-x-auto",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-secondary-200",children:[(0,Ps.jsx)("thead",{className:"bg-secondary-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-2 py-2 text-left w-8",children:(0,Ps.jsx)("input",{type:"checkbox",checked:j.length===t.length&&t.length>0,onChange:()=>{Array.isArray(t)&&(j.length===t.length?N([]):N(t.map((e=>e.id))))},className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"})}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-2/5",children:"Utilisateur"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"R\xf4le"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-1/5",children:"Fili\xe8re"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-16",children:"Statut"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Cr\xe9\xe9 le"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-secondary-500 uppercase tracking-wider w-24",children:"Actions"})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-secondary-200",children:(0,Ps.jsx)(Xm,{children:Array.isArray(t)&&t.length>0?t.map(((e,t)=>{var r,n;return(0,Ps.jsxs)(Um.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.05*t},className:"hover:bg-secondary-50",children:[(0,Ps.jsx)("td",{className:"px-2 py-2 whitespace-nowrap",children:(0,Ps.jsx)("input",{type:"checkbox",checked:j.includes(e.id),onChange:()=>{return t=e.id,void N((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500"})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"h-6 w-6 bg-primary-100 rounded-full flex items-center justify-center mr-2",children:(0,Ps.jsxs)("span",{className:"text-white font-medium text-xs",children:[(e.prenom||"").charAt(0),(e.nom||"").charAt(0)]})}),(0,Ps.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Ps.jsxs)("div",{className:"text-xs font-medium text-secondary-900 truncate",children:[e.prenom," ",e.nom]}),(0,Ps.jsx)("div",{className:"text-xs text-secondary-500 truncate",children:e.email})]})]})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsx)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded ".concat(V(e.role)),children:e.role})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-secondary-900",children:(0,Ps.jsx)("div",{className:"truncate",children:(null===(r=e.filiere)||void 0===r?void 0:r.nom)||"-"})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsxs)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded ".concat((n=e.isActive,n?"bg-green-100 text-green-800":"bg-red-100 text-red-800")),children:[(0,Ps.jsx)("span",{className:"hidden sm:inline",children:e.isActive?"Actif":"Inactif"}),(0,Ps.jsx)("span",{className:"sm:hidden",children:e.isActive?"OK":"KO"})]})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-secondary-500",children:new Date(e.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"2-digit"})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:(0,Ps.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,Ps.jsx)("div",{title:"Modifier",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>{T(e),E(!0)},className:"p-1 h-6 w-6",children:(0,Ps.jsx)(mg,{className:"h-3 w-3"})})}),(0,Ps.jsx)("div",{title:e.isActive?"D\xe9sactiver":"Activer",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>(async e=>{try{await Ka(e),sr.success("Statut modifi\xe9 avec succ\xe8s"),L(),I()}catch(n){var t,r;sr.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors de la modification")}})(e.id),className:"p-1 h-6 w-6 ".concat(e.isActive?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"),children:e.isActive?(0,Ps.jsx)(ug,{className:"h-3 w-3"}):(0,Ps.jsx)(Ox,{className:"h-3 w-3"})})}),(0,Ps.jsx)("div",{title:"Supprimer",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>{O(e),A(!0)},className:"p-1 h-6 w-6 text-red-600 hover:text-red-700",children:(0,Ps.jsx)(Ex,{className:"h-3 w-3"})})})]})})]},e.id)})):(0,Ps.jsx)("tr",{children:(0,Ps.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,Ps.jsx)("div",{className:"text-secondary-500",children:(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)(Tx,{className:"h-12 w-12 mx-auto text-secondary-300 mb-4"}),(0,Ps.jsx)("p",{className:"text-lg font-medium text-secondary-900 mb-2",children:"Aucun utilisateur trouv\xe9"}),(0,Ps.jsx)("p",{className:"text-secondary-500",children:m||p||x?"Aucun utilisateur ne correspond \xe0 vos crit\xe8res de recherche.":"Commencez par cr\xe9er votre premier utilisateur."})]})})})})})})]})}),b>1&&(0,Ps.jsx)(Um.div,{className:"px-6 py-4 border-t border-secondary-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:(0,Ps.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ps.jsxs)("div",{className:"text-sm text-secondary-700",children:["Page ",g," sur ",b]}),(0,Ps.jsxs)("div",{className:"flex gap-2",children:[(0,Ps.jsx)(my,{size:"sm",variant:"outline",onClick:()=>v((e=>Math.max(1,e-1))),disabled:1===g,children:"Pr\xe9c\xe9dent"}),(0,Ps.jsx)(my,{size:"sm",variant:"outline",onClick:()=>v((e=>Math.min(b,e+1))),disabled:g===b,children:"Suivant"})]})]})})]})}),(0,Ps.jsx)(ly,{isOpen:k,onClose:()=>S(!1),title:"Cr\xe9er un nouvel utilisateur",size:"lg",children:(0,Ps.jsx)(wg,{onSubmit:async e=>{try{await $a(e),sr.success("Utilisateur cr\xe9\xe9 avec succ\xe8s"),S(!1),L(),I()}catch(n){var t,r;sr.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors de la cr\xe9ation")}},onCancel:()=>S(!1),niveaux:i,filieres:l})}),(0,Ps.jsx)(ly,{isOpen:C,onClose:()=>{E(!1),T(null)},title:"Modifier l'utilisateur",size:"lg",children:_&&(0,Ps.jsx)(wg,{user:_,onSubmit:async e=>{if(_)try{await Ga(_.id,e),sr.success("Utilisateur mis \xe0 jour avec succ\xe8s"),E(!1),T(null),L(),I()}catch(n){var t,r;sr.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors de la mise \xe0 jour")}},onCancel:()=>{E(!1),T(null)},niveaux:i,filieres:l,isEditing:!0})}),(0,Ps.jsx)(ly,{isOpen:P,onClose:()=>{A(!1),O(null)},title:"Confirmer la suppression",children:M&&(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("p",{className:"text-secondary-600",children:["\xcates-vous s\xfbr de vouloir supprimer l'utilisateur"," ",(0,Ps.jsxs)("strong",{children:[M.prenom," ",M.nom]})," ?"]}),(0,Ps.jsx)("p",{className:"text-sm text-red-600",children:"Cette action est irr\xe9versible."}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>{A(!1),O(null)},children:"Annuler"}),(0,Ps.jsx)(my,{variant:"danger",onClick:async()=>{if(M)try{await Xa(M.id),sr.success("Utilisateur supprim\xe9 avec succ\xe8s"),A(!1),O(null),L(),I()}catch(r){var e,t;sr.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la suppression")}},children:"Supprimer"})]})]})})]})},Ng=e=>{let{view:t,onViewChange:r,className:n=""}=e;return(0,Ps.jsxs)("div",{className:"flex rounded-lg border border-secondary-300 ".concat(n),children:[(0,Ps.jsx)("button",{onClick:()=>r("grid"),className:"p-2 rounded-l-lg transition-colors ".concat("grid"===t?"bg-primary-600 text-white":"bg-white text-secondary-600 hover:bg-secondary-50"),title:"Vue grille",children:(0,Ps.jsx)(ry,{className:"h-4 w-4"})}),(0,Ps.jsx)("button",{onClick:()=>r("list"),className:"p-2 rounded-r-lg transition-colors ".concat("list"===t?"bg-primary-600 text-white":"bg-white text-secondary-600 hover:bg-secondary-50"),title:"Vue liste",children:(0,Ps.jsx)(ny,{className:"h-4 w-4"})})]})},kg=()=>{const{user:e}=Ds(),[t,r]=(0,s.useState)([]),[n,a]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[x,y]=(0,s.useState)(!1),[g,v]=(0,s.useState)(null),[b,w]=(0,s.useState)(null),[j,N]=(0,s.useState)({nom:"",code:"",niveauId:""}),[k,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)("grid"),_={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},T={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,s.useEffect)((()=>{P()}),[]),(0,s.useEffect)((()=>{A()}),[l,d]);const P=async()=>{try{o(!0);const[e,t]=await Promise.all([es({includeDeleted:!0}),Qa()]);r(e.data),a(t.data)}catch(e){sr.error("Erreur lors du chargement des donn\xe9es")}finally{o(!1)}},A=async()=>{try{const e={includeDeleted:!0};d&&(e.niveauId=d);const t=await es(e);r(t.data)}catch(e){console.error("Error fetching filieres:",e)}},M=async e=>{try{await as(e),sr.success("Fili\xe8re restaur\xe9e avec succ\xe8s"),A()}catch(n){var t,r;sr.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors de la restauration")}},O=e=>{v(e),N({nom:e.nom,code:e.code,niveauId:e.niveauId}),f(!0)},D=e=>{w(e),y(!0)},R=t.filter((e=>{const t=e.nom.toLowerCase().includes(l.toLowerCase())||e.code.toLowerCase().includes(l.toLowerCase()),r=!d||e.niveauId===d;return t&&r}));return i?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement des fili\xe8res..."})]})}):(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsxs)(Um.div,{variants:_,className:"flex justify-between items-center",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)(Um.h1,{className:"text-2xl font-bold text-secondary-900",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:"Gestion des Fili\xe8res"}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:"G\xe9rez les fili\xe8res acad\xe9miques de l'institut"})]}),(0,Ps.jsx)(Um.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:(0,Ps.jsx)(my,{onClick:()=>{N({nom:"",code:"",niveauId:""}),h(!0)},leftIcon:(0,Ps.jsx)(py,{}),className:"bg-primary-600 hover:bg-primary-700",children:"Nouvelle Fili\xe8re"})})]}),(0,Ps.jsx)(Um.div,{variants:_,children:(0,Ps.jsx)(hg,{className:"p-6",children:(0,Ps.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Ps.jsx)("div",{className:"flex-1",children:(0,Ps.jsx)(xg,{placeholder:"Rechercher par nom ou code...",value:l,onChange:e=>c(e.target.value),leftIcon:(0,Ps.jsx)(Gx,{})})}),(0,Ps.jsx)("div",{className:"w-full lg:w-64",children:(0,Ps.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"Tous les niveaux"}),n.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]})}),(0,Ps.jsx)("div",{className:"flex items-center",children:(0,Ps.jsx)(Ng,{view:C,onViewChange:e=>E(e)})})]})})}),"grid"===C&&(0,Ps.jsxs)(Um.div,{variants:_,children:[(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,Ps.jsx)(Xm,{children:R.map(((e,t)=>{var r,n;return(0,Ps.jsx)(Um.div,{variants:T,whileHover:"hover",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.5},children:(0,Ps.jsxs)(hg,{className:"p-6 ".concat(e.isDeleted?"opacity-60 border-red-200":""),children:[(0,Ps.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-2 rounded-lg bg-primary-100",children:(0,Ps.jsx)(Px,{className:"h-5 w-5 text-primary-600"})}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:e.nom}),(0,Ps.jsx)("p",{className:"text-sm text-secondary-500",children:e.code})]})]}),e.isDeleted&&(0,Ps.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Ps.jsx)(fy,{className:"h-4 w-4 mr-1"}),(0,Ps.jsx)("span",{className:"text-xs",children:"Supprim\xe9e"})]})]}),(0,Ps.jsxs)("div",{className:"mb-4",children:[(0,Ps.jsxs)("p",{className:"text-sm text-secondary-600",children:[(0,Ps.jsx)("strong",{children:"Niveau:"})," ",null===(r=e.niveau)||void 0===r?void 0:r.nom]}),(0,Ps.jsxs)("p",{className:"text-sm text-secondary-600",children:[(0,Ps.jsx)("strong",{children:"Type:"})," ",null===(n=e.niveau)||void 0===n?void 0:n.type]})]}),(0,Ps.jsx)("div",{className:"flex justify-end gap-2",children:e.isDeleted?(0,Ps.jsx)(my,{size:"sm",variant:"outline",onClick:()=>M(e.id),leftIcon:(0,Ps.jsx)(eg,{}),children:"Restaurer"}):(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>O(e),children:(0,Ps.jsx)(mg,{className:"h-4 w-4"})}),(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>D(e),className:"text-red-600 hover:text-red-700",children:(0,Ps.jsx)(Ex,{className:"h-4 w-4"})})]})})]})},e.id)}))})}),0===R.length&&(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Px,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,Ps.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"Aucune fili\xe8re trouv\xe9e"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:l||d?"Aucune fili\xe8re ne correspond \xe0 vos crit\xe8res de recherche.":"Commencez par cr\xe9er votre premi\xe8re fili\xe8re."})]})]}),"list"===C&&(0,Ps.jsx)(Um.div,{variants:_,children:(0,Ps.jsxs)(hg,{className:"overflow-hidden",children:[(0,Ps.jsx)("div",{className:"overflow-x-auto",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-secondary-200",children:[(0,Ps.jsx)("thead",{className:"bg-secondary-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-2/5",children:"Fili\xe8re"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Code"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-1/5",children:"Niveau"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Type"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Statut"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Actions"})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-secondary-200",children:(0,Ps.jsx)(Xm,{children:R.map(((e,t)=>{var r,n;return(0,Ps.jsxs)(Um.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:.05*t,duration:.5},className:"hover:bg-secondary-50 ".concat(e.isDeleted?"opacity-60":""),children:[(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-1 rounded bg-primary-100 mr-2",children:(0,Ps.jsx)(Px,{className:"h-3 w-3 text-primary-600"})}),(0,Ps.jsx)("div",{className:"min-w-0 flex-1",children:(0,Ps.jsx)("div",{className:"text-xs font-medium text-secondary-900 truncate",children:e.nom})})]})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsx)("div",{className:"text-xs text-secondary-900",children:e.code})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsx)("div",{className:"text-xs text-secondary-900",children:null===(r=e.niveau)||void 0===r?void 0:r.nom})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsx)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded bg-blue-100 text-blue-800",children:null===(n=e.niveau)||void 0===n?void 0:n.type})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:e.isDeleted?(0,Ps.jsxs)("span",{className:"inline-flex items-center px-1 py-0.5 text-xs font-semibold rounded bg-red-100 text-red-800",children:[(0,Ps.jsx)(fy,{className:"h-2 w-2 mr-1"}),(0,Ps.jsx)("span",{className:"hidden sm:inline",children:"Supprim\xe9e"}),(0,Ps.jsx)("span",{className:"sm:hidden",children:"Del"})]}):(0,Ps.jsxs)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded bg-green-100 text-green-800",children:[(0,Ps.jsx)("span",{className:"hidden sm:inline",children:"Active"}),(0,Ps.jsx)("span",{className:"sm:hidden",children:"OK"})]})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:(0,Ps.jsx)("div",{className:"flex justify-end gap-1",children:e.isDeleted?(0,Ps.jsx)("div",{title:"Restaurer",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>M(e.id),className:"p-1 h-6 w-6",children:(0,Ps.jsx)(eg,{className:"h-3 w-3"})})}):(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)("div",{title:"Modifier",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>O(e),className:"p-1 h-6 w-6",children:(0,Ps.jsx)(mg,{className:"h-3 w-3"})})}),(0,Ps.jsx)("div",{title:"Supprimer",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>D(e),className:"p-1 h-6 w-6 text-red-600 hover:text-red-700",children:(0,Ps.jsx)(Ex,{className:"h-3 w-3"})})})]})})})]},e.id)}))})})]})}),0===R.length&&(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Px,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,Ps.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"Aucune fili\xe8re trouv\xe9e"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:l||d?"Aucune fili\xe8re ne correspond \xe0 vos crit\xe8res de recherche.":"Commencez par cr\xe9er votre premi\xe8re fili\xe8re."})]})]})}),(0,Ps.jsx)(ly,{isOpen:m,onClose:()=>h(!1),title:"Cr\xe9er une nouvelle fili\xe8re",children:(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Nom de la fili\xe8re"}),(0,Ps.jsx)(xg,{value:j.nom,onChange:e=>N(qe(qe({},j),{},{nom:e.target.value})),placeholder:"Ex: Informatique et R\xe9seaux",fullWidth:!0})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Code de la fili\xe8re"}),(0,Ps.jsx)(xg,{value:j.code,onChange:e=>N(qe(qe({},j),{},{code:e.target.value})),placeholder:"Ex: L2-IRS",fullWidth:!0})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Niveau"}),(0,Ps.jsxs)("select",{value:j.niveauId,onChange:e=>N(qe(qe({},j),{},{niveauId:e.target.value})),className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un niveau"}),n.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.nom," (",e.type,")"]},e.id)))]})]}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>h(!1),disabled:k,children:"Annuler"}),(0,Ps.jsx)(my,{onClick:async()=>{if(j.nom&&j.code&&j.niveauId)try{S(!0),await ts(j),sr.success("Fili\xe8re cr\xe9\xe9e avec succ\xe8s"),h(!1),N({nom:"",code:"",niveauId:""}),A()}catch(r){var e,t;sr.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la cr\xe9ation")}finally{S(!1)}else sr.error("Tous les champs sont requis")},isLoading:k,disabled:k,children:"Cr\xe9er"})]})]})}),(0,Ps.jsx)(ly,{isOpen:p,onClose:()=>f(!1),title:"Modifier la fili\xe8re",children:(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Nom de la fili\xe8re"}),(0,Ps.jsx)(xg,{value:j.nom,onChange:e=>N(qe(qe({},j),{},{nom:e.target.value})),placeholder:"Ex: Informatique et R\xe9seaux",fullWidth:!0})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Code de la fili\xe8re"}),(0,Ps.jsx)(xg,{value:j.code,onChange:e=>N(qe(qe({},j),{},{code:e.target.value})),placeholder:"Ex: L2-IRS",fullWidth:!0})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Niveau"}),(0,Ps.jsxs)("select",{value:j.niveauId,onChange:e=>N(qe(qe({},j),{},{niveauId:e.target.value})),className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un niveau"}),n.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.nom," (",e.type,")"]},e.id)))]})]}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>f(!1),disabled:k,children:"Annuler"}),(0,Ps.jsx)(my,{onClick:async()=>{if(g&&j.nom&&j.code&&j.niveauId)try{S(!0),await rs(g.id,j),sr.success("Fili\xe8re mise \xe0 jour avec succ\xe8s"),f(!1),v(null),N({nom:"",code:"",niveauId:""}),A()}catch(r){var e,t;sr.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la mise \xe0 jour")}finally{S(!1)}else sr.error("Tous les champs sont requis")},isLoading:k,disabled:k,children:"Mettre \xe0 jour"})]})]})}),(0,Ps.jsx)(ly,{isOpen:x,onClose:()=>y(!1),title:"Confirmer la suppression",children:b&&(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("p",{className:"text-secondary-600",children:["\xcates-vous s\xfbr de vouloir supprimer la fili\xe8re"," ",(0,Ps.jsx)("strong",{children:b.nom})," ?"]}),(0,Ps.jsx)("p",{className:"text-sm text-red-600",children:"Cette action peut \xeatre annul\xe9e dans les 30 jours."}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>y(!1),children:"Annuler"}),(0,Ps.jsx)(my,{variant:"danger",onClick:async()=>{if(b)try{await ns(b.id),sr.success("Fili\xe8re supprim\xe9e avec succ\xe8s"),y(!1),w(null),A()}catch(r){var e,t;sr.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la suppression")}},children:"Supprimer"})]})]})})]})},Sg=e=>{let{isOpen:t,onClose:r,matiere:n,onUpdate:a}=e;const[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1);(0,s.useEffect)((()=>{t&&x()}),[t,n.id]);const x=async()=>{try{h(!0);const[e,t]=await Promise.all([Za({role:"professeur",limit:100}),ms(n.id)]);o(e.data.users||[]),c(t.data||[]);const r=(t.data||[]).map((e=>({professeurId:e.id,roles:e.roles})));u(r)}catch(e){console.error("Error fetching data:",e),sr.error("Erreur lors du chargement des donn\xe9es")}finally{h(!1)}},y=e=>{switch(e){case"cours":return"Cours";case"td":return"TD";case"tp":return"TP";default:return e}},g=e=>{switch(e){case"cours":return"bg-blue-100 text-blue-800";case"td":return"bg-green-100 text-green-800";case"tp":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return t?(0,Ps.jsx)(Xm,{children:(0,Ps.jsx)(Um.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:(0,Ps.jsxs)(Um.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Ps.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Ps.jsx)(Px,{className:"w-6 h-6 text-blue-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Assignation des Professeurs"}),(0,Ps.jsxs)("p",{className:"text-sm text-gray-500",children:[n.nom," (",n.code,")"]})]})]}),(0,Ps.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Ps.jsx)(Dx,{className:"w-5 h-5 text-gray-500"})})]}),(0,Ps.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:m?(0,Ps.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Ps.jsx)(sy,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,Ps.jsx)("span",{className:"ml-2 text-gray-600",children:"Chargement..."})]}):(0,Ps.jsx)("div",{className:"space-y-6",children:(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ps.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Assignations des Professeurs"}),(0,Ps.jsxs)(my,{onClick:()=>{u([...d,{professeurId:"",roles:[]}])},variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[(0,Ps.jsx)(py,{className:"w-4 h-4"}),(0,Ps.jsx)("span",{children:"Ajouter"})]})]}),0===d.length?(0,Ps.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Ps.jsx)(kx,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Ps.jsx)("p",{children:"Aucun professeur assign\xe9"}),(0,Ps.jsx)("p",{className:"text-sm",children:'Cliquez sur "Ajouter" pour commencer'})]}):(0,Ps.jsx)("div",{className:"space-y-4",children:d.map(((e,t)=>(0,Ps.jsx)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg",children:(0,Ps.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Ps.jsxs)("div",{className:"flex-1",children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Professeur"}),(0,Ps.jsxs)("select",{value:e.professeurId,onChange:e=>((e,t)=>{const r=[...d];r[e].professeurId=t,u(r)})(t,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un professeur"}),i.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.prenom," ",e.nom," (",e.email,")"]},e.id)))]})]}),(0,Ps.jsxs)("div",{className:"flex-1",children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"R\xf4les"}),(0,Ps.jsx)("div",{className:"flex space-x-4",children:["cours","td","tp"].map((r=>{const n=((e,t)=>d.some(((r,n)=>n!==e&&r.roles.includes(t))))(t,r),a=e.roles.includes(r);return(0,Ps.jsxs)("label",{className:"flex items-center ".concat(n&&!a?"opacity-50 cursor-not-allowed":"cursor-pointer"),children:[(0,Ps.jsx)("input",{type:"checkbox",checked:a,disabled:n&&!a,onChange:e=>((e,t,r)=>{const n=[...d];if(r){const r=d.some(((r,n)=>n!==e&&r.roles.includes(t)));if(r){const e=y(t);return void sr.error("Le r\xf4le ".concat(e," est d\xe9j\xe0 assign\xe9 \xe0 un autre professeur"))}n[e].roles.includes(t)||n[e].roles.push(t)}else n[e].roles=n[e].roles.filter((e=>e!==t));u(n)})(t,r,e.target.checked),className:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),(0,Ps.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g(r)," ").concat(n&&!a?"opacity-50":""),children:[y(r),n&&!a&&(0,Ps.jsx)("span",{className:"ml-1 text-xs",children:"\u2713"})]})]},r)}))}),(0,Ps.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:["cours","td","tp"].map((e=>{const r=d.find(((r,n)=>n!==t&&r.roles.includes(e)));if(r){const t=(e=>{const t=i.find((t=>t.id===e));return t?"".concat(t.prenom," ").concat(t.nom):""})(r.professeurId);return(0,Ps.jsxs)("div",{className:"text-orange-600",children:[y(e),": ",t]},e)}return null}))})]}),(0,Ps.jsx)("div",{className:"pt-6",children:(0,Ps.jsx)("button",{onClick:()=>(e=>{u(d.filter(((t,r)=>r!==e)))})(t),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,Ps.jsx)(Ex,{className:"w-4 h-4"})})})]})},t)))})]})})}),(0,Ps.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[(0,Ps.jsx)(my,{onClick:r,variant:"outline",disabled:p,children:"Annuler"}),(0,Ps.jsxs)(my,{onClick:async()=>{try{f(!0);for(const r of d){if(!r.professeurId)return void sr.error("Veuillez s\xe9lectionner un professeur pour toutes les assignations");if(0===r.roles.length)return void sr.error("Veuillez s\xe9lectionner au moins un r\xf4le pour chaque professeur")}const e=d.map((e=>e.professeurId)),t=new Set(e);if(e.length!==t.size)return void sr.error("Un professeur ne peut pas \xeatre assign\xe9 plusieurs fois");const s=[];for(const r of d)for(const e of r.roles){if(s.includes(e)){const t=y(e);return void sr.error("Le r\xf4le ".concat(t," ne peut \xeatre assign\xe9 qu'\xe0 un seul professeur"))}s.push(e)}await hs(n.id,{professeurs:d}),sr.success("Assignations mises \xe0 jour avec succ\xe8s"),a(),r()}catch(s){var e,t;console.error("Error saving assignments:",s),sr.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la sauvegarde")}finally{f(!1)}},disabled:p||m,className:"flex items-center space-x-2",children:[p?(0,Ps.jsx)(sy,{className:"w-4 h-4 animate-spin"}):(0,Ps.jsx)(sg,{className:"w-4 h-4"}),(0,Ps.jsx)("span",{children:p?"Sauvegarde...":"Sauvegarder"})]})]})]})})}):null},Cg=()=>{var e,t,r,n,a;const{user:i}=Ds(),[o,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)([]),[h,p]=(0,s.useState)(!0),[f,x]=(0,s.useState)(""),[y,g]=(0,s.useState)(""),[v,b]=(0,s.useState)(""),[w,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[S,C]=(0,s.useState)(!1),[E,_]=(0,s.useState)(!1),[T,P]=(0,s.useState)(null),[A,M]=(0,s.useState)(null),[O,D]=(0,s.useState)(null),[R,L]=(0,s.useState)({nom:"",code:"",filiereId:"",semestreId:""}),[I,F]=(0,s.useState)(!1),[z,V]=(0,s.useState)("grid"),U={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},B={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,s.useEffect)((()=>{W()}),[]),(0,s.useEffect)((()=>{H()}),[f,y,v]);const W=async()=>{try{p(!0);const[e,t,r]=await Promise.all([ss({includeDeleted:!0}),Qa(),es()]);l(e.data),d(t.data),m(r.data)}catch(e){sr.error("Erreur lors du chargement des donn\xe9es")}finally{p(!1)}},H=async()=>{try{const e={includeDeleted:!0};y&&(e.filiereId=y),v&&(e.semestreId=v);const t=await ss(e);l(t.data)}catch(e){console.error("Error fetching matieres:",e)}},q=async e=>{try{await ds(e),sr.success("Mati\xe8re restaur\xe9e avec succ\xe8s"),H()}catch(n){var t,r;sr.error((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Erreur lors de la restauration")}},Z=e=>{P(e),L({nom:e.nom,code:e.code,filiereId:e.filiereId,semestreId:e.semestreId}),k(!0)},$=e=>{M(e),C(!0)},G=e=>{D(e),_(!0)},X=o.filter((e=>{const t=e.nom.toLowerCase().includes(f.toLowerCase())||e.code.toLowerCase().includes(f.toLowerCase()),r=!y||e.filiereId===y,n=!v||e.semestreId===v;return t&&r&&n})),K=y&&(null===(e=c.find((e=>{var t;return null===(t=e.filieres)||void 0===t?void 0:t.some((e=>e.id===y))})))||void 0===e?void 0:e.semestres)||[];return h?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement des mati\xe8res..."})]})}):(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsxs)(Um.div,{variants:U,className:"flex justify-between items-center",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)(Um.h1,{className:"text-2xl font-bold text-secondary-900",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:"Gestion des Mati\xe8res"}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:"G\xe9rez les mati\xe8res acad\xe9miques et leurs assignations"})]}),(0,Ps.jsx)(Um.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:(0,Ps.jsx)(my,{onClick:()=>{L({nom:"",code:"",filiereId:"",semestreId:""}),j(!0)},leftIcon:(0,Ps.jsx)(py,{}),className:"bg-primary-600 hover:bg-primary-700",children:"Nouvelle Mati\xe8re"})})]}),(0,Ps.jsx)(Um.div,{variants:U,children:(0,Ps.jsx)(hg,{className:"p-6",children:(0,Ps.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Ps.jsx)("div",{className:"flex-1",children:(0,Ps.jsx)(xg,{placeholder:"Rechercher par nom ou code...",value:f,onChange:e=>x(e.target.value),leftIcon:(0,Ps.jsx)(Gx,{})})}),(0,Ps.jsx)("div",{className:"w-full lg:w-64",children:(0,Ps.jsxs)("select",{value:y,onChange:e=>{g(e.target.value),b("")},className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"Toutes les fili\xe8res"}),u.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]})}),(0,Ps.jsx)("div",{className:"w-full lg:w-64",children:(0,Ps.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:!y,children:[(0,Ps.jsx)("option",{value:"",children:"Tous les semestres"}),K.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]})}),(0,Ps.jsx)("div",{className:"flex items-center",children:(0,Ps.jsx)(Ng,{view:z,onViewChange:e=>V(e)})})]})})}),"grid"===z&&(0,Ps.jsxs)(Um.div,{variants:U,children:[(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,Ps.jsx)(Xm,{children:X.map(((e,t)=>{var r,n;return(0,Ps.jsx)(Um.div,{variants:B,whileHover:"hover",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.5},children:(0,Ps.jsxs)(hg,{className:"p-6 ".concat(e.isDeleted?"opacity-60 border-red-200":""),children:[(0,Ps.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-2 rounded-lg bg-green-100",children:(0,Ps.jsx)(Ax,{className:"h-5 w-5 text-green-600"})}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-secondary-900",children:e.nom}),(0,Ps.jsx)("p",{className:"text-sm text-secondary-500",children:e.code})]})]}),e.isDeleted&&(0,Ps.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Ps.jsx)(fy,{className:"h-4 w-4 mr-1"}),(0,Ps.jsx)("span",{className:"text-xs",children:"Supprim\xe9e"})]})]}),(0,Ps.jsxs)("div",{className:"mb-4 space-y-1",children:[(0,Ps.jsxs)("p",{className:"text-sm text-secondary-600",children:[(0,Ps.jsx)("strong",{children:"Fili\xe8re:"})," ",null===(r=e.filiere)||void 0===r?void 0:r.nom]}),(0,Ps.jsxs)("p",{className:"text-sm text-secondary-600",children:[(0,Ps.jsx)("strong",{children:"Semestre:"})," ",null===(n=e.semestre)||void 0===n?void 0:n.nom]})]}),(0,Ps.jsx)("div",{className:"flex justify-end gap-2",children:e.isDeleted?(0,Ps.jsx)(my,{size:"sm",variant:"outline",onClick:()=>q(e.id),leftIcon:(0,Ps.jsx)(eg,{}),children:"Restaurer"}):(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>G(e),leftIcon:(0,Ps.jsx)(Tx,{}),children:"Assigner"}),(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>Z(e),children:(0,Ps.jsx)(mg,{className:"h-4 w-4"})}),(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>$(e),className:"text-red-600 hover:text-red-700",children:(0,Ps.jsx)(Ex,{className:"h-4 w-4"})})]})})]})},e.id)}))})}),0===X.length&&(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Ax,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,Ps.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"Aucune mati\xe8re trouv\xe9e"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:f||y||v?"Aucune mati\xe8re ne correspond \xe0 vos crit\xe8res de recherche.":"Commencez par cr\xe9er votre premi\xe8re mati\xe8re."})]})]}),"list"===z&&(0,Ps.jsx)(Um.div,{variants:U,children:(0,Ps.jsxs)(hg,{className:"overflow-hidden",children:[(0,Ps.jsx)("div",{className:"overflow-x-auto",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-secondary-200",children:[(0,Ps.jsx)("thead",{className:"bg-secondary-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-2/5",children:"Mati\xe8re"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Code"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Semestre"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider w-20",children:"Statut"}),(0,Ps.jsx)("th",{className:"px-3 py-2 text-right text-xs font-medium text-secondary-500 uppercase tracking-wider w-24",children:"Actions"})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-secondary-200",children:(0,Ps.jsx)(Xm,{children:X.map(((e,t)=>{var r,n;return(0,Ps.jsxs)(Um.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:.05*t},className:"hover:bg-secondary-50 ".concat(e.isDeleted?"opacity-60":""),children:[(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-1 rounded bg-green-100 mr-2",children:(0,Ps.jsx)(Ax,{className:"h-3 w-3 text-green-600"})}),(0,Ps.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Ps.jsx)("div",{className:"text-xs font-medium text-secondary-900 truncate",children:e.nom}),(0,Ps.jsx)("div",{className:"text-xs text-secondary-500",children:null===(r=e.filiere)||void 0===r?void 0:r.nom})]})]})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsx)("div",{className:"text-xs text-secondary-900",children:e.code})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,Ps.jsx)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded bg-blue-100 text-blue-800",children:null===(n=e.semestre)||void 0===n?void 0:n.nom})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:e.isDeleted?(0,Ps.jsxs)("span",{className:"inline-flex items-center px-1 py-0.5 text-xs font-semibold rounded bg-red-100 text-red-800",children:[(0,Ps.jsx)(fy,{className:"h-2 w-2 mr-1"}),(0,Ps.jsx)("span",{className:"hidden sm:inline",children:"Supprim\xe9e"}),(0,Ps.jsx)("span",{className:"sm:hidden",children:"Del"})]}):(0,Ps.jsxs)("span",{className:"inline-flex px-1 py-0.5 text-xs font-semibold rounded bg-green-100 text-green-800",children:[(0,Ps.jsx)("span",{className:"hidden sm:inline",children:"Active"}),(0,Ps.jsx)("span",{className:"sm:hidden",children:"OK"})]})}),(0,Ps.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:(0,Ps.jsx)("div",{className:"flex justify-end gap-1",children:e.isDeleted?(0,Ps.jsx)("div",{title:"Restaurer",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>q(e.id),className:"p-1 h-6 w-6",children:(0,Ps.jsx)(eg,{className:"h-3 w-3"})})}):(0,Ps.jsxs)(Ps.Fragment,{children:[(0,Ps.jsx)("div",{title:"Assigner",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>G(e),className:"p-1 h-6 w-6",children:(0,Ps.jsx)(Tx,{className:"h-3 w-3"})})}),(0,Ps.jsx)("div",{title:"Modifier",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>Z(e),className:"p-1 h-6 w-6",children:(0,Ps.jsx)(mg,{className:"h-3 w-3"})})}),(0,Ps.jsx)("div",{title:"Supprimer",children:(0,Ps.jsx)(my,{size:"sm",variant:"ghost",onClick:()=>$(e),className:"p-1 h-6 w-6 text-red-600 hover:text-red-700",children:(0,Ps.jsx)(Ex,{className:"h-3 w-3"})})})]})})})]},e.id)}))})})]})}),0===X.length&&(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Ax,{className:"h-12 w-12 text-secondary-400 mx-auto mb-4"}),(0,Ps.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"Aucune mati\xe8re trouv\xe9e"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:f||y||v?"Aucune mati\xe8re ne correspond \xe0 vos crit\xe8res de recherche.":"Commencez par cr\xe9er votre premi\xe8re mati\xe8re."})]})]})}),(0,Ps.jsx)(ly,{isOpen:w,onClose:()=>j(!1),title:"Cr\xe9er une nouvelle mati\xe8re",size:"lg",children:(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Nom de la mati\xe8re"}),(0,Ps.jsx)(xg,{value:R.nom,onChange:e=>L(qe(qe({},R),{},{nom:e.target.value})),placeholder:"Ex: Algorithmique et Structures de Donn\xe9es",fullWidth:!0})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Code de la mati\xe8re"}),(0,Ps.jsx)(xg,{value:R.code,onChange:e=>L(qe(qe({},R),{},{code:e.target.value})),placeholder:"Ex: ALGO",fullWidth:!0})]})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Fili\xe8re"}),(0,Ps.jsxs)("select",{value:R.filiereId,onChange:e=>{L(qe(qe({},R),{},{filiereId:e.target.value,semestreId:""}))},className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner une fili\xe8re"}),u.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.nom," (",e.code,")"]},e.id)))]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Semestre"}),(0,Ps.jsxs)("select",{value:R.semestreId,onChange:e=>L(qe(qe({},R),{},{semestreId:e.target.value})),className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:!R.filiereId,children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un semestre"}),R.filiereId&&(null===(t=c.find((e=>{var t;return null===(t=e.filieres)||void 0===t?void 0:t.some((e=>e.id===R.filiereId))})))||void 0===t||null===(r=t.semestres)||void 0===r?void 0:r.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id))))]})]})]}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>j(!1),disabled:I,children:"Annuler"}),(0,Ps.jsx)(my,{onClick:async()=>{if(R.nom&&R.code&&R.filiereId&&R.semestreId)try{F(!0),await os(R),sr.success("Mati\xe8re cr\xe9\xe9e avec succ\xe8s"),j(!1),L({nom:"",code:"",filiereId:"",semestreId:""}),H()}catch(r){var e,t;sr.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la cr\xe9ation")}finally{F(!1)}else sr.error("Tous les champs sont requis")},isLoading:I,disabled:I,children:"Cr\xe9er"})]})]})}),(0,Ps.jsx)(ly,{isOpen:N,onClose:()=>k(!1),title:"Modifier la mati\xe8re",size:"lg",children:(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Nom de la mati\xe8re"}),(0,Ps.jsx)(xg,{value:R.nom,onChange:e=>L(qe(qe({},R),{},{nom:e.target.value})),placeholder:"Ex: Algorithmique et Structures de Donn\xe9es",fullWidth:!0})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Code de la mati\xe8re"}),(0,Ps.jsx)(xg,{value:R.code,onChange:e=>L(qe(qe({},R),{},{code:e.target.value})),placeholder:"Ex: ALGO",fullWidth:!0})]})]}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Fili\xe8re"}),(0,Ps.jsxs)("select",{value:R.filiereId,onChange:e=>{L(qe(qe({},R),{},{filiereId:e.target.value,semestreId:""}))},className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner une fili\xe8re"}),u.map((e=>(0,Ps.jsxs)("option",{value:e.id,children:[e.nom," (",e.code,")"]},e.id)))]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Semestre"}),(0,Ps.jsxs)("select",{value:R.semestreId,onChange:e=>L(qe(qe({},R),{},{semestreId:e.target.value})),className:"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:!R.filiereId,children:[(0,Ps.jsx)("option",{value:"",children:"S\xe9lectionner un semestre"}),R.filiereId&&(null===(n=c.find((e=>{var t;return null===(t=e.filieres)||void 0===t?void 0:t.some((e=>e.id===R.filiereId))})))||void 0===n||null===(a=n.semestres)||void 0===a?void 0:a.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id))))]})]})]}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>k(!1),disabled:I,children:"Annuler"}),(0,Ps.jsx)(my,{onClick:async()=>{if(T&&R.nom&&R.code&&R.filiereId&&R.semestreId)try{F(!0),await ls(T.id,R),sr.success("Mati\xe8re mise \xe0 jour avec succ\xe8s"),k(!1),P(null),L({nom:"",code:"",filiereId:"",semestreId:""}),H()}catch(r){var e,t;sr.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la mise \xe0 jour")}finally{F(!1)}else sr.error("Tous les champs sont requis")},isLoading:I,disabled:I,children:"Mettre \xe0 jour"})]})]})}),(0,Ps.jsx)(ly,{isOpen:S,onClose:()=>C(!1),title:"Confirmer la suppression",children:A&&(0,Ps.jsxs)("div",{className:"space-y-4",children:[(0,Ps.jsxs)("p",{className:"text-secondary-600",children:["\xcates-vous s\xfbr de vouloir supprimer la mati\xe8re"," ",(0,Ps.jsx)("strong",{children:A.nom})," ?"]}),(0,Ps.jsx)("p",{className:"text-sm text-red-600",children:"Cette action peut \xeatre annul\xe9e dans les 30 jours."}),(0,Ps.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ps.jsx)(my,{variant:"outline",onClick:()=>C(!1),children:"Annuler"}),(0,Ps.jsx)(my,{variant:"danger",onClick:async()=>{if(A)try{await cs(A.id),sr.success("Mati\xe8re supprim\xe9e avec succ\xe8s"),C(!1),M(null),H()}catch(r){var e,t;sr.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Erreur lors de la suppression")}},children:"Supprimer"})]})]})}),O&&(0,Ps.jsx)(Sg,{isOpen:E,onClose:()=>_(!1),matiere:O,onUpdate:H})]})},Eg=ix("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),_g=ix("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Tg=()=>{const{user:e}=Ds(),[t,r]=(0,s.useState)([]),[n,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[x,y]=(0,s.useState)(1),[g,v]=(0,s.useState)(1),[b,w]=(0,s.useState)([]),j=(0,s.useRef)(!1),N=(0,s.useRef)(!1),k={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},S={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,s.useEffect)((()=>{"admin"!==(null===e||void 0===e?void 0:e.role)||j.current||(j.current=!0,C(),E(),_())}),[e]),(0,s.useEffect)((()=>{"admin"===(null===e||void 0===e?void 0:e.role)&&j.current&&C()}),[x,l,d,m,p]);const C=async()=>{if(!N.current)try{N.current=!0,o(!0);const e={page:x,limit:20};if(l&&(e.search=l),d&&(e.action=d),m&&(e.userId=m),p){const t=new Date(p);e.startDate=t.toISOString();const r=new Date(t);r.setDate(r.getDate()+1),e.endDate=r.toISOString()}const t=await Ts.get("/audit/logs",{params:e});r(t.data.logs),v(t.data.pagination.pages)}catch(e){console.error("Error fetching audit logs:",e)}finally{o(!1),N.current=!1}},E=async()=>{try{const e=await Ts.get("/audit/stats");a(e.data)}catch(e){console.error("Error fetching system stats:",e)}},_=async()=>{try{const e=await Ts.get("/audit/actions");w(e.data)}catch(e){console.error("Error fetching available actions:",e)}},T=e=>({LOGIN:(0,Ps.jsx)(Eg,{className:"h-4 w-4"}),LOGOUT:(0,Ps.jsx)(Rx,{className:"h-4 w-4"}),DOCUMENT_VIEW:(0,Ps.jsx)(dx,{className:"h-4 w-4"}),DOCUMENT_DOWNLOAD:(0,Ps.jsx)(Ux,{className:"h-4 w-4"}),DOCUMENT_UPLOAD:(0,Ps.jsx)(qx,{className:"h-4 w-4"}),COMMENT_CREATE:(0,Ps.jsx)(_g,{className:"h-4 w-4"}),PAGE_ACCESS:(0,Ps.jsx)(Cx,{className:"h-4 w-4"}),USER_UPDATE:(0,Ps.jsx)(ng,{className:"h-4 w-4"})}[e]||(0,Ps.jsx)(Mx,{className:"h-4 w-4"})),P=e=>({LOGIN:"text-green-600 bg-green-100",LOGOUT:"text-red-600 bg-red-100",DOCUMENT_VIEW:"text-blue-600 bg-blue-100",DOCUMENT_DOWNLOAD:"text-purple-600 bg-purple-100",DOCUMENT_UPLOAD:"text-orange-600 bg-orange-100",COMMENT_CREATE:"text-yellow-600 bg-yellow-100",PAGE_ACCESS:"text-gray-600 bg-gray-100",USER_UPDATE:"text-indigo-600 bg-indigo-100"}[e]||"text-gray-600 bg-gray-100"),A=e=>({LOGIN:"Connexion",LOGOUT:"D\xe9connexion",DOCUMENT_VIEW:"Consultation document",DOCUMENT_DOWNLOAD:"T\xe9l\xe9chargement document",DOCUMENT_UPLOAD:"Upload document",DOCUMENT_UPDATE:"Modification document",DOCUMENT_DELETE:"Suppression document",DOCUMENT_RESTORE:"Restauration document",COMMENT_CREATE:"Cr\xe9ation commentaire",COMMENT_UPDATE:"Modification commentaire",COMMENT_DELETE:"Suppression commentaire",PAGE_ACCESS:"Acc\xe8s page",USER_UPDATE:"Modification utilisateur",PROFILE_UPDATE:"Modification profil",PASSWORD_CHANGE:"Changement mot de passe"}[e]||e),M=e=>{var t;if(!e.details)return null;switch(e.action){case"DOCUMENT_VIEW":case"DOCUMENT_DOWNLOAD":case"DOCUMENT_UPLOAD":case"DOCUMENT_UPDATE":case"DOCUMENT_DELETE":case"DOCUMENT_RESTORE":return e.details.documentTitle||(null===(t=e.details.responseData)||void 0===t?void 0:t.titre)||"Document";case"PAGE_ACCESS":if(e.details.page)return"Page: ".concat(e.details.page);if(e.details.url){const t=e.details.url.split("?")[0].split("/").filter(Boolean),r=t[t.length-1];return"Page: ".concat({logs:"Activit\xe9",stats:"Statistiques",actions:"Actions",documents:"Documents",trash:"Corbeille",audit:"Audit"}[r]||r||"Accueil")}return"Acc\xe8s page";case"LOGIN":return e.details.email?"Email: ".concat(e.details.email):"Connexion";case"LOGOUT":return"D\xe9connexion";case"COMMENT_CREATE":case"COMMENT_UPDATE":case"COMMENT_DELETE":return e.details.commentContent?'"'.concat(e.details.commentContent.substring(0,50)).concat(e.details.commentContent.length>50?"...":"",'"'):"Commentaire";case"USER_CREATE":case"USER_UPDATE":return e.details.userEmail||e.details.email||"Utilisateur";case"PROFILE_UPDATE":return"Modification du profil";case"PASSWORD_CHANGE":return"Changement de mot de passe";default:return e.details.documentTitle?e.details.documentTitle:e.details.email?e.details.email:e.details.url?"URL: ".concat(e.details.url):null}};return"admin"!==(null===e||void 0===e?void 0:e.role)?(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Mx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Acc\xe8s non autoris\xe9"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Cette page est r\xe9serv\xe9e aux administrateurs."})]}):i&&0===t.length?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement des logs d'activit\xe9..."})]})}):(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsx)(Um.div,{variants:k,className:"flex items-center justify-between",children:(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)(Um.h1,{className:"text-2xl font-bold text-gray-900 flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[(0,Ps.jsx)(Mx,{className:"mr-3 h-8 w-8 text-blue-600"}),"Activit\xe9 du Syst\xe8me"]}),(0,Ps.jsx)(Um.p,{className:"text-gray-600 mt-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},children:"Journal d'audit de toutes les activit\xe9s utilisateurs"})]})}),n&&(0,Ps.jsxs)(Um.div,{variants:k,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ps.jsx)(Um.div,{variants:S,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Mx,{className:"h-8 w-8 text-blue-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total logs"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.totalLogs.toLocaleString()})]})]})}),(0,Ps.jsx)(Um.div,{variants:S,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Qx,{className:"h-8 w-8 text-green-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Aujourd'hui"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-green-600",children:n.todayLogs})]})]})}),(0,Ps.jsx)(Um.div,{variants:S,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Xx,{className:"h-8 w-8 text-orange-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cette semaine"}),(0,Ps.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:n.weekLogs})]})]})}),(0,Ps.jsx)(Um.div,{variants:S,whileHover:"hover",className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Vx,{className:"h-8 w-8 text-purple-600"}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"\xc9volution"}),(0,Ps.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[n.todayLogs>n.yesterdayLogs?"+":"",((n.todayLogs-n.yesterdayLogs)/Math.max(n.yesterdayLogs,1)*100).toFixed(0),"%"]})]})]})})]}),n&&n.topActions.length>0&&(0,Ps.jsxs)(Um.div,{variants:k,className:"bg-white p-6 rounded-lg shadow border",children:[(0,Ps.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Actions les plus fr\xe9quentes"}),(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.topActions.slice(0,6).map(((e,t)=>(0,Ps.jsxs)(Um.div,{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.5},children:[(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-2 rounded-full ".concat(P(e.action)),children:T(e.action)}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-900",children:A(e.action)}),(0,Ps.jsxs)("p",{className:"text-xs text-gray-500",children:["#",t+1]})]})]}),(0,Ps.jsx)("span",{className:"text-lg font-bold text-gray-900",children:e.count})]},e.action)))})]}),(0,Ps.jsx)(Um.div,{variants:k,className:"bg-white p-4 rounded-lg shadow border",children:(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recherche"}),(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,Ps.jsx)("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:e=>c(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),(0,Ps.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Ps.jsx)("option",{value:"",children:"Toutes les actions"}),b.map((e=>(0,Ps.jsx)("option",{value:e,children:A(e)},e)))]})]}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,Ps.jsx)("input",{type:"date",value:p,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ps.jsx)("div",{className:"flex items-end",children:(0,Ps.jsx)("button",{onClick:()=>{c(""),u(""),h(""),f(""),y(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"R\xe9initialiser"})})]})}),(0,Ps.jsx)(Um.div,{variants:k,className:"bg-white shadow rounded-lg",children:0===t.length?(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Mx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucune activit\xe9 trouv\xe9e"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Aucun log d'audit ne correspond aux crit\xe8res de recherche."})]}):(0,Ps.jsx)("div",{className:"overflow-hidden",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ps.jsx)("thead",{className:"bg-gray-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"D\xe9tails"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date/Heure"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP"})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(((e,t)=>{return(0,Ps.jsxs)(Um.tr,{className:"hover:bg-gray-50",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.5},children:[(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-2 rounded-full ".concat(P(e.action)),children:T(e.action)}),(0,Ps.jsxs)("div",{className:"ml-3",children:[(0,Ps.jsx)("div",{className:"text-sm font-medium text-gray-900",children:A(e.action)}),e.resource&&(0,Ps.jsx)("div",{className:"text-xs text-gray-500",children:e.resource})]})]})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.user?(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(kx,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.user.prenom," ",e.user.nom]}),(0,Ps.jsx)("div",{className:"text-xs text-gray-500",children:e.user.email}),(0,Ps.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("admin"===e.user.role?"bg-red-100 text-red-800":"professeur"===e.user.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.user.role})]})]}):(0,Ps.jsx)("span",{className:"text-sm text-gray-500",children:"Syst\xe8me"})}),(0,Ps.jsxs)("td",{className:"px-6 py-4",children:[(0,Ps.jsx)("div",{className:"text-sm text-gray-900",children:M(e)}),e.details&&e.details.url&&(0,Ps.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.details.method," ",e.details.url]})]}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)(Xx,{className:"h-4 w-4 mr-1"}),(r=e.createdAt,new Date(r).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))]})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ipAddress||"N/A"})]},e.id);var r}))})]})})}),g>1&&(0,Ps.jsxs)(Um.div,{variants:k,className:"flex items-center justify-between",children:[(0,Ps.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Ps.jsx)("button",{onClick:()=>y(Math.max(1,x-1)),disabled:1===x,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Pr\xe9c\xe9dent"}),(0,Ps.jsx)("button",{onClick:()=>y(Math.min(g,x+1)),disabled:x===g,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),(0,Ps.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Ps.jsx)("div",{children:(0,Ps.jsxs)("p",{className:"text-sm text-gray-700",children:["Page ",(0,Ps.jsx)("span",{className:"font-medium",children:x})," sur"," ",(0,Ps.jsx)("span",{className:"font-medium",children:g})]})}),(0,Ps.jsx)("div",{children:(0,Ps.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Ps.jsx)("button",{onClick:()=>y(Math.max(1,x-1)),disabled:1===x,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Pr\xe9c\xe9dent"}),(0,Ps.jsx)("button",{onClick:()=>y(Math.min(g,x+1)),disabled:x===g,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]})})]})]})]})},Pg=()=>{const{user:e}=Ds(),t=ne(),[r,n]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)("grid");(0,s.useEffect)((()=>{u()}),[]);const u=async()=>{try{if(i(!0),null!==e&&void 0!==e&&e.id){const t=await us(e.id);n(t.data)}}catch(t){console.error("Error fetching professor matieres:",t),sr.error("Erreur lors du chargement des mati\xe8res")}finally{i(!1)}},m=e=>{t("/professor/subjects/".concat(e.id))},h=r.filter((e=>e.nom.toLowerCase().includes(o.toLowerCase())||e.code.toLowerCase().includes(o.toLowerCase()))),p=e=>{switch(e){case"cours":return"Cours";case"td":return"TD";case"tp":return"TP";default:return e}},f=e=>{switch(e){case"cours":return"bg-blue-100 text-blue-800";case"td":return"bg-green-100 text-green-800";case"tp":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};if(a)return(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement de vos mati\xe8res..."})]})});if(0===r.length)return(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center py-12",children:[(0,Ps.jsx)(Px,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucune mati\xe8re assign\xe9e"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Contactez l'administrateur pour vous assigner des mati\xe8res."})]});const x={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},y={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};return(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsx)(Um.div,{variants:x,className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Mati\xe8res"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Consultez vos mati\xe8res assign\xe9es et g\xe9rez leurs documents"})]})}),(0,Ps.jsx)(Um.div,{variants:x,className:"bg-white rounded-lg shadow p-6",children:(0,Ps.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Ps.jsx)("div",{className:"flex-1",children:(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ps.jsx)("input",{type:"text",placeholder:"Rechercher une mati\xe8re...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Ps.jsxs)("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[(0,Ps.jsx)("button",{onClick:()=>d("grid"),className:"px-3 py-2 ".concat("grid"===c?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,Ps.jsx)(ry,{className:"w-5 h-5"})}),(0,Ps.jsx)("button",{onClick:()=>d("list"),className:"px-3 py-2 ".concat("list"===c?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,Ps.jsx)(ny,{className:"w-5 h-5"})})]})]})}),0===h.length?(0,Ps.jsxs)(Um.div,{variants:x,className:"text-center py-12",children:[(0,Ps.jsx)(Gx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucune mati\xe8re trouv\xe9e"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Aucune mati\xe8re ne correspond \xe0 votre recherche."})]}):(0,Ps.jsx)(Ps.Fragment,{children:"grid"===c?(0,Ps.jsx)(Um.div,{variants:x,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(((e,t)=>(0,Ps.jsx)(Um.div,{variants:y,whileHover:"hover",className:"bg-white rounded-lg shadow hover:shadow-md transition-all duration-200 cursor-pointer group",onClick:()=>m(e),children:(0,Ps.jsxs)("div",{className:"p-6",children:[(0,Ps.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ps.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:(0,Ps.jsx)(Px,{className:"w-6 h-6 text-blue-600"})}),(0,Ps.jsx)(Lx,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:e.nom}),(0,Ps.jsxs)("div",{className:"space-y-2",children:[(0,Ps.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.code}),e.semestre&&(0,Ps.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.semestre.nom})]}),e.roles&&e.roles.length>0&&(0,Ps.jsx)("div",{className:"flex flex-wrap gap-1",children:e.roles.map((e=>(0,Ps.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(f(e)),children:p(e)},e)))}),e.filiere&&(0,Ps.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Ps.jsx)(Ax,{className:"w-4 h-4 mr-1"}),(0,Ps.jsx)("span",{children:e.filiere.nom})]})]})]})},e.id)))}):(0,Ps.jsx)(Um.div,{variants:x,className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ps.jsx)("thead",{className:"bg-gray-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mati\xe8re"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"R\xf4les"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fili\xe8re"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Semestre"}),(0,Ps.jsx)("th",{className:"relative px-6 py-3",children:(0,Ps.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(((e,t)=>{var r,n;return(0,Ps.jsxs)(Um.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.3},className:"hover:bg-gray-50 cursor-pointer",onClick:()=>m(e),children:[(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg mr-3",children:(0,Ps.jsx)(Px,{className:"w-4 h-4 text-primary-600"})}),(0,Ps.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nom})]})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.code})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.roles&&e.roles.length>0?(0,Ps.jsx)("div",{className:"flex flex-wrap gap-1",children:e.roles.map((e=>(0,Ps.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(f(e)),children:p(e)},e)))}):(0,Ps.jsx)("span",{className:"text-sm text-gray-500",children:"Aucun r\xf4le"})}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=e.filiere)||void 0===r?void 0:r.nom)||"N/A"}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(n=e.semestre)||void 0===n?void 0:n.nom)||"N/A"}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Ps.jsx)(Lx,{className:"w-5 h-5 text-gray-400"})})]},e.id)}))})]})})})]})},Ag=()=>{const{id:e}=ae(),t=ne(),{user:r}=Ds(),[n,a]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)("");(0,s.useEffect)((()=>{e&&(x(),y())}),[e]),(0,s.useEffect)((()=>{e&&y()}),[p]);const x=async()=>{try{c(!0);const t=await is(e);a(t.data)}catch(r){console.error("Error fetching matiere details:",r),sr.error("Erreur lors du chargement de la mati\xe8re"),t("/professor/subjects")}finally{c(!1)}},y=async()=>{try{u(!0);const t=await ps({matiereId:e,search:p||void 0,limit:100});o(t.data)}catch(t){console.error("Error fetching matiere documents:",t),sr.error("Erreur lors du chargement des documents")}finally{u(!1)}},g=e=>{switch(e){case"cours":return"Cours";case"td":return"Travaux Dirig\xe9s (TD)";case"tp":return"Travaux Pratiques (TP)";case"examen":return"Examens";default:return e.toUpperCase()}},v=e=>{const t=parseInt(e);if(0===t)return"0 B";const r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(2))+" "+["B","KB","MB","GB"][r]};if(l)return(0,Ps.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)(sy,{className:"w-6 h-6 animate-spin text-primary-600"}),(0,Ps.jsx)("span",{className:"text-gray-600",children:"Chargement de la mati\xe8re..."})]})});if(!n)return(0,Ps.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ps.jsxs)("div",{className:"text-center",children:[(0,Ps.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mati\xe8re non trouv\xe9e"}),(0,Ps.jsx)("p",{className:"text-gray-600 mb-4",children:"La mati\xe8re demand\xe9e n'existe pas ou vous n'avez pas les permissions pour y acc\xe9der."}),(0,Ps.jsxs)("button",{onClick:()=>t("/professor/subjects"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-2"}),"Retour aux mati\xe8res"]})]})});const b=i.filter((e=>e.titre.toLowerCase().includes(p.toLowerCase())||e.description&&e.description.toLowerCase().includes(p.toLowerCase()))).reduce(((e,t)=>(e[t.categorie]||(e[t.categorie]=[]),e[t.categorie].push(t),e)),{});return(0,Ps.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ps.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ps.jsxs)("div",{className:"mb-8",children:[(0,Ps.jsxs)("button",{onClick:()=>t("/professor/subjects"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-1"}),"Retour aux mati\xe8res"]}),(0,Ps.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ps.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Ps.jsx)("div",{className:"p-3 bg-white rounded-lg shadow-sm border",children:(0,Ps.jsx)(Px,{className:"w-8 h-8 text-primary-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.nom}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:n.code}),n.filiere&&(0,Ps.jsx)("span",{className:"text-sm text-gray-500",children:n.filiere.nom}),n.semestre&&(0,Ps.jsx)("span",{className:"text-sm text-gray-500",children:n.semestre.nom})]})]})]}),(0,Ps.jsxs)("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,Ps.jsx)(qx,{className:"w-4 h-4 mr-2"}),"Ajouter un document"]})]})]}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[(0,Ps.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informations de la mati\xe8re"}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Ps.jsx)(Px,{className:"w-5 h-5 text-blue-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Code"}),(0,Ps.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n.code})]})]}),n.filiere&&(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Ps.jsx)(Ax,{className:"w-5 h-5 text-green-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Fili\xe8re"}),(0,Ps.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n.filiere.nom})]})]}),n.semestre&&(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Ps.jsx)(Xx,{className:"w-5 h-5 text-purple-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Semestre"}),(0,Ps.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n.semestre.nom})]})]})]})]}),(0,Ps.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:(0,Ps.jsxs)("div",{className:"relative max-w-md",children:[(0,Ps.jsx)(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Ps.jsx)("input",{type:"text",placeholder:"Rechercher dans les documents...",value:p,onChange:e=>f(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})}),d?(0,Ps.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ps.jsx)(sy,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Ps.jsxs)("div",{className:"space-y-8",children:[["cours","td","tp","examen"].map((e=>{const r=b[e]||[],n=(e=>{switch(e){case"cours":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-900",badge:"bg-blue-100 text-blue-800",icon:"text-blue-600"};case"td":return{bg:"bg-green-50",border:"border-green-200",text:"text-green-900",badge:"bg-green-100 text-green-800",icon:"text-green-600"};case"tp":return{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-900",badge:"bg-purple-100 text-purple-800",icon:"text-purple-600"};case"examen":return{bg:"bg-red-50",border:"border-red-200",text:"text-red-900",badge:"bg-red-100 text-red-800",icon:"text-red-600"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-900",badge:"bg-gray-100 text-gray-800",icon:"text-gray-600"}}})(e),a=(e=>{switch(e){case"cours":return Px;case"td":default:return Cx;case"tp":return ty;case"examen":return Xx}})(e);return 0!==r.length||p?(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"".concat(n.bg," rounded-lg border ").concat(n.border," p-6"),children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Ps.jsx)("div",{className:"p-2 bg-white rounded-lg border ".concat(n.border),children:(0,Ps.jsx)(a,{className:"w-6 h-6 ".concat(n.icon)})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-xl font-semibold ".concat(n.text),children:g(e)}),(0,Ps.jsxs)("p",{className:"text-sm text-gray-600",children:[r.length," document",1!==r.length?"s":""]})]})]}),0===r.length?(0,Ps.jsxs)("div",{className:"text-center py-8",children:[(0,Ps.jsx)(a,{className:"mx-auto h-12 w-12 ".concat(n.icon," opacity-50")}),(0,Ps.jsx)("h4",{className:"mt-2 text-sm font-medium ".concat(n.text),children:p?"Aucun document trouv\xe9":"Aucun document"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:p?"Aucun document ne correspond \xe0 votre recherche dans cette cat\xe9gorie.":"Aucun document de type ".concat(e," pour cette mati\xe8re.")})]}):(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((r=>(0,Ps.jsx)(Um.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg border shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group",onClick:()=>(e=>{t("/documents/".concat(e.id))})(r),children:(0,Ps.jsxs)("div",{className:"p-4",children:[(0,Ps.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(n.badge),children:e.toUpperCase()}),r.correction&&(0,Ps.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Ps.jsx)(fx,{className:"w-3 h-3 mr-1"}),"Corrig\xe9"]})]}),(0,Ps.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors",children:r.titre}),r.description&&(0,Ps.jsx)("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:r.description}),(0,Ps.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Ps.jsx)("span",{children:v(r.tailleFichier)}),(0,Ps.jsx)("span",{children:new Date(r.createdAt).toLocaleDateString("fr-FR")})]}),(0,Ps.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 flex items-center justify-between",children:[(0,Ps.jsxs)("span",{className:"text-xs text-gray-500",children:[r.uploader.prenom," ",r.uploader.nom]}),(0,Ps.jsx)(dx,{className:"w-4 h-4 text-gray-400 group-hover:text-primary-600 transition-colors"})]})]})},r.id)))})]},e):null})),0===Object.keys(b).length&&(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Cx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:p?"Aucun document trouv\xe9":"Aucun document"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:p?"Aucun document ne correspond \xe0 votre recherche.":"Commencez par ajouter votre premier document \xe0 cette mati\xe8re."}),!p&&(0,Ps.jsxs)("button",{onClick:()=>h(!0),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ps.jsx)(py,{className:"w-4 h-4 mr-2"}),"Ajouter un document"]})]})]})]}),(0,Ps.jsx)(iy,{isOpen:m,onClose:()=>h(!1),onSuccess:()=>{h(!1),y(),sr.success("Document ajout\xe9 avec succ\xe8s")},preselectedMatiereId:null===n||void 0===n?void 0:n.id})]})},Mg=()=>{const{user:e}=Ds(),t=ne(),[r,n]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)("grid"),[u,m]=(0,s.useState)("all"),h={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},p={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,s.useEffect)((()=>{f()}),[]);const f=async()=>{try{if(i(!0),null!==e&&void 0!==e&&e.filiereId&&null!==e&&void 0!==e&&e.niveauId){const t=await ss({filiereId:e.filiereId,niveauId:e.niveauId});n(t.data)}else console.warn("User does not have fili\xe8re or niveau assigned"),n([])}catch(t){console.error("Error fetching student matieres:",t),sr.error("Erreur lors du chargement des mati\xe8res")}finally{i(!1)}},x=e=>{t("/student/subjects/".concat(e.id))},y=r.filter((e=>{var t;const r=e.nom.toLowerCase().includes(o.toLowerCase())||e.code.toLowerCase().includes(o.toLowerCase()),n="all"===u||(null===(t=e.semestre)||void 0===t?void 0:t.id)===u;return r&&n})),g=Array.from(new Map(r.map((e=>e.semestre)).filter((e=>Boolean(e))).map((e=>[e.id,e]))).values()).sort(((e,t)=>(e.ordre||0)-(t.ordre||0)));return a?(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ps.jsxs)(Um.div,{className:"flex flex-col items-center space-y-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,Ps.jsx)(Um.div,{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,Ps.jsx)(Um.p,{className:"text-secondary-600 font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Chargement de vos mati\xe8res..."})]})}):null!==e&&void 0!==e&&e.filiereId&&null!==e&&void 0!==e&&e.niveauId?0===r.length?(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center py-12",children:[(0,Ps.jsx)(Px,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucune mati\xe8re trouv\xe9e"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Aucune mati\xe8re n'est disponible pour votre fili\xe8re."})]}):(0,Ps.jsxs)(Um.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,Ps.jsx)(Um.div,{variants:h,className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Mati\xe8res"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Consultez les mati\xe8res de votre fili\xe8re et acc\xe9dez aux documents"}),(null===e||void 0===e?void 0:e.filiere)&&(0,Ps.jsx)("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-600",children:(0,Ps.jsxs)("span",{className:"inline-flex items-center",children:[(0,Ps.jsx)(Ax,{className:"w-4 h-4 mr-1"}),e.filiere.nom]})})]})}),(0,Ps.jsx)(Um.div,{variants:h,className:"bg-white rounded-lg shadow p-6",children:(0,Ps.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Ps.jsx)("div",{className:"flex-1",children:(0,Ps.jsxs)("div",{className:"relative",children:[(0,Ps.jsx)(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ps.jsx)("input",{type:"text",placeholder:"Rechercher une mati\xe8re...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Ps.jsx)("div",{className:"sm:w-48",children:(0,Ps.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Ps.jsx)("option",{value:"all",children:"Tous les semestres"}),g.map((e=>(0,Ps.jsx)("option",{value:e.id,children:e.nom},e.id)))]})}),(0,Ps.jsxs)("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[(0,Ps.jsx)("button",{onClick:()=>d("grid"),className:"px-3 py-2 ".concat("grid"===c?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,Ps.jsx)(ry,{className:"w-5 h-5"})}),(0,Ps.jsx)("button",{onClick:()=>d("list"),className:"px-3 py-2 ".concat("list"===c?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,Ps.jsx)(ny,{className:"w-5 h-5"})})]})]})}),0===y.length?(0,Ps.jsxs)(Um.div,{variants:h,className:"text-center py-12",children:[(0,Ps.jsx)(Gx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucune mati\xe8re trouv\xe9e"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Aucune mati\xe8re ne correspond \xe0 votre recherche."})]}):(0,Ps.jsx)(Ps.Fragment,{children:"grid"===c?(0,Ps.jsx)(Um.div,{variants:h,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(((e,t)=>(0,Ps.jsx)(Um.div,{variants:p,whileHover:"hover",className:"bg-white rounded-lg shadow hover:shadow-md transition-all duration-200 cursor-pointer group",onClick:()=>x(e),children:(0,Ps.jsxs)("div",{className:"p-6",children:[(0,Ps.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ps.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:(0,Ps.jsx)(Px,{className:"w-6 h-6 text-blue-600"})}),(0,Ps.jsx)(Lx,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),(0,Ps.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:e.nom}),(0,Ps.jsxs)("div",{className:"space-y-2",children:[(0,Ps.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.code}),e.semestre&&(0,Ps.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.semestre.nom})]}),e.professeurMatieres&&e.professeurMatieres.length>0&&(0,Ps.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Ps.jsx)(Tx,{className:"w-4 h-4 mr-1"}),(0,Ps.jsx)("span",{children:e.professeurMatieres.map((e=>e.professeur)).map((e=>"".concat(e.prenom," ").concat(e.nom))).join(", ")})]})]})]})},e.id)))}):(0,Ps.jsx)(Um.div,{variants:h,className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,Ps.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ps.jsx)("thead",{className:"bg-gray-50",children:(0,Ps.jsxs)("tr",{children:[(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mati\xe8re"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code & Semestre"}),(0,Ps.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professeur(s)"}),(0,Ps.jsx)("th",{className:"relative px-6 py-3",children:(0,Ps.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,Ps.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(((e,t)=>(0,Ps.jsxs)(Um.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.3},className:"hover:bg-gray-50 cursor-pointer",onClick:()=>x(e),children:[(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ps.jsxs)("div",{className:"flex items-center",children:[(0,Ps.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg mr-3",children:(0,Ps.jsx)(Px,{className:"w-4 h-4 text-primary-600"})}),(0,Ps.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nom})]})}),(0,Ps.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.code}),e.semestre&&(0,Ps.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.semestre.nom})]}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.professeurMatieres&&e.professeurMatieres.length>0?e.professeurMatieres.map((e=>e.professeur)).map((e=>"".concat(e.prenom," ").concat(e.nom))).join(", "):"Non assign\xe9"}),(0,Ps.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Ps.jsx)(Lx,{className:"w-5 h-5 text-gray-400"})})]},e.id)))})]})})})]}):(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center py-12",children:[(0,Ps.jsx)(Px,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Profil incomplet"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Votre fili\xe8re ou niveau n'est pas d\xe9fini. Contactez l'administrateur."})]})},Og=()=>{const{id:e}=ae(),t=ne(),{user:r}=Ds(),[n,a]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)("");(0,s.useEffect)((()=>{e&&(p(),f())}),[e]),(0,s.useEffect)((()=>{e&&f()}),[m]);const p=async()=>{try{c(!0);const t=await is(e);a(t.data)}catch(r){console.error("Error fetching matiere details:",r),sr.error("Erreur lors du chargement de la mati\xe8re"),t("/student/subjects")}finally{c(!1)}},f=async()=>{try{u(!0);const t=await ps({matiereId:e,search:m||void 0,limit:100});o(t.data)}catch(t){console.error("Error fetching matiere documents:",t),sr.error("Erreur lors du chargement des documents")}finally{u(!1)}},x=e=>{switch(e){case"cours":return"Cours";case"td":return"Travaux Dirig\xe9s (TD)";case"tp":return"Travaux Pratiques (TP)";case"examen":return"Examens";default:return e.toUpperCase()}},y=e=>{const t=parseInt(e);if(0===t)return"0 B";const r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(2))+" "+["B","KB","MB","GB"][r]};if(l)return(0,Ps.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ps.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ps.jsx)(sy,{className:"w-6 h-6 animate-spin text-primary-600"}),(0,Ps.jsx)("span",{className:"text-gray-600",children:"Chargement de la mati\xe8re..."})]})});if(!n)return(0,Ps.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ps.jsxs)("div",{className:"text-center",children:[(0,Ps.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mati\xe8re non trouv\xe9e"}),(0,Ps.jsx)("p",{className:"text-gray-600 mb-4",children:"La mati\xe8re demand\xe9e n'existe pas ou vous n'avez pas les permissions pour y acc\xe9der."}),(0,Ps.jsxs)("button",{onClick:()=>t("/student/subjects"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-2"}),"Retour aux mati\xe8res"]})]})});const g=i.filter((e=>e.titre.toLowerCase().includes(m.toLowerCase())||e.description&&e.description.toLowerCase().includes(m.toLowerCase()))).reduce(((e,t)=>(e[t.categorie]||(e[t.categorie]=[]),e[t.categorie].push(t),e)),{});return(0,Ps.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Ps.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ps.jsxs)("div",{className:"mb-8",children:[(0,Ps.jsxs)("button",{onClick:()=>t("/student/subjects"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Ps.jsx)(xx,{className:"w-4 h-4 mr-1"}),"Retour aux mati\xe8res"]}),(0,Ps.jsx)("div",{className:"flex items-start justify-between",children:(0,Ps.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Ps.jsx)("div",{className:"p-3 bg-white rounded-lg shadow-sm border",children:(0,Ps.jsx)(Px,{className:"w-8 h-8 text-primary-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.nom}),(0,Ps.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200",children:n.code}),n.filiere&&(0,Ps.jsx)("span",{className:"text-sm text-gray-500",children:n.filiere.nom}),n.semestre&&(0,Ps.jsx)("span",{className:"text-sm text-gray-500",children:n.semestre.nom})]})]})]})})]}),(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[(0,Ps.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informations de la mati\xe8re"}),(0,Ps.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Ps.jsx)(Px,{className:"w-5 h-5 text-blue-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Code"}),(0,Ps.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n.code})]})]}),n.filiere&&(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Ps.jsx)(Ax,{className:"w-5 h-5 text-green-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Fili\xe8re"}),(0,Ps.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n.filiere.nom})]})]}),n.semestre&&(0,Ps.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ps.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Ps.jsx)(Xx,{className:"w-5 h-5 text-purple-600"})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Semestre"}),(0,Ps.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:n.semestre.nom})]})]})]}),n.professeurMatieres&&n.professeurMatieres.length>0&&(0,Ps.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Ps.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Professeur(s)"}),(0,Ps.jsx)("div",{className:"flex flex-wrap gap-3",children:n.professeurMatieres.map(((e,t)=>(0,Ps.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[(0,Ps.jsx)(Tx,{className:"w-4 h-4 text-gray-500"}),(0,Ps.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[e.professeur.prenom," ",e.professeur.nom]})]},t)))})]})]}),(0,Ps.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:(0,Ps.jsxs)("div",{className:"relative max-w-md",children:[(0,Ps.jsx)(Gx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Ps.jsx)("input",{type:"text",placeholder:"Rechercher dans les documents...",value:m,onChange:e=>h(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})}),d?(0,Ps.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ps.jsx)(sy,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Ps.jsxs)("div",{className:"space-y-8",children:[["cours","td","tp","examen"].map((e=>{const r=g[e]||[],n=(e=>{switch(e){case"cours":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-900",badge:"bg-blue-100 text-blue-800",icon:"text-blue-600"};case"td":return{bg:"bg-green-50",border:"border-green-200",text:"text-green-900",badge:"bg-green-100 text-green-800",icon:"text-green-600"};case"tp":return{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-900",badge:"bg-purple-100 text-purple-800",icon:"text-purple-600"};case"examen":return{bg:"bg-red-50",border:"border-red-200",text:"text-red-900",badge:"bg-red-100 text-red-800",icon:"text-red-600"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-900",badge:"bg-gray-100 text-gray-800",icon:"text-gray-600"}}})(e),a=(e=>{switch(e){case"cours":return Px;case"td":default:return Cx;case"tp":return ty;case"examen":return Xx}})(e);return 0!==r.length||m?(0,Ps.jsxs)(Um.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"".concat(n.bg," rounded-lg border ").concat(n.border," p-6"),children:[(0,Ps.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Ps.jsx)("div",{className:"p-2 bg-white rounded-lg border ".concat(n.border),children:(0,Ps.jsx)(a,{className:"w-6 h-6 ".concat(n.icon)})}),(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("h3",{className:"text-xl font-semibold ".concat(n.text),children:x(e)}),(0,Ps.jsxs)("p",{className:"text-sm text-gray-600",children:[r.length," document",1!==r.length?"s":""]})]})]}),0===r.length?(0,Ps.jsxs)("div",{className:"text-center py-8",children:[(0,Ps.jsx)(a,{className:"mx-auto h-12 w-12 ".concat(n.icon," opacity-50")}),(0,Ps.jsx)("h4",{className:"mt-2 text-sm font-medium ".concat(n.text),children:m?"Aucun document trouv\xe9":"Aucun document"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:m?"Aucun document ne correspond \xe0 votre recherche dans cette cat\xe9gorie.":"Aucun document de type ".concat(e," pour cette mati\xe8re.")})]}):(0,Ps.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((r=>(0,Ps.jsx)(Um.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg border shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group",onClick:()=>(e=>{t("/documents/".concat(e.id))})(r),children:(0,Ps.jsxs)("div",{className:"p-4",children:[(0,Ps.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Ps.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(n.badge),children:e.toUpperCase()}),r.correction&&(0,Ps.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Ps.jsx)(fx,{className:"w-3 h-3 mr-1"}),"Corrig\xe9"]})]}),(0,Ps.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors",children:r.titre}),r.description&&(0,Ps.jsx)("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:r.description}),(0,Ps.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Ps.jsx)("span",{children:y(r.tailleFichier)}),(0,Ps.jsx)("span",{children:new Date(r.createdAt).toLocaleDateString("fr-FR")})]}),(0,Ps.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 flex items-center justify-between",children:[(0,Ps.jsxs)("span",{className:"text-xs text-gray-500",children:[r.uploader.prenom," ",r.uploader.nom]}),(0,Ps.jsx)(dx,{className:"w-4 h-4 text-gray-400 group-hover:text-primary-600 transition-colors"})]})]})},r.id)))})]},e):null})),0===Object.keys(g).length&&(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)(Cx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ps.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:m?"Aucun document trouv\xe9":"Aucun document"}),(0,Ps.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:m?"Aucun document ne correspond \xe0 votre recherche.":"Aucun document n'est encore disponible pour cette mati\xe8re."})]})]})]})})};const Dg=function(){return(0,Ps.jsx)(Rs,{children:(0,Ps.jsx)(Ae,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Ps.jsxs)("div",{className:"App",children:[(0,Ps.jsxs)(je,{children:[(0,Ps.jsx)(be,{path:"/login",element:(0,Ps.jsx)(Bm,{requireAuth:!1,children:(0,Ps.jsx)(px,{})})}),(0,Ps.jsx)(be,{path:"/forgot-password",element:(0,Ps.jsx)(Bm,{requireAuth:!1,children:(0,Ps.jsx)(gx,{})})}),(0,Ps.jsx)(be,{path:"/reset-password",element:(0,Ps.jsx)(Bm,{requireAuth:!1,children:(0,Ps.jsx)(bx,{})})}),(0,Ps.jsx)(be,{path:"/dashboard",element:(0,Ps.jsx)(Bm,{children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(ey,{})})})}),(0,Ps.jsx)(be,{path:"/profile",element:(0,Ps.jsx)(Bm,{children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(dg,{})})})}),(0,Ps.jsx)(be,{path:"/documents",element:(0,Ps.jsx)(Bm,{children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(hy,{})})})}),(0,Ps.jsx)(be,{path:"/documents/:id",element:(0,Ps.jsx)(Bm,{children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(Qy,{})})})}),(0,Ps.jsx)(be,{path:"/trash",element:(0,Ps.jsx)(Bm,{roles:["professeur","admin"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(tg,{})})})}),(0,Ps.jsx)(be,{path:"/admin/users",element:(0,Ps.jsx)(Bm,{roles:["admin"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(jg,{})})})}),(0,Ps.jsx)(be,{path:"/admin/filieres",element:(0,Ps.jsx)(Bm,{roles:["admin"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(kg,{})})})}),(0,Ps.jsx)(be,{path:"/admin/matieres",element:(0,Ps.jsx)(Bm,{roles:["admin"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(Cg,{})})})}),(0,Ps.jsx)(be,{path:"/admin/activity",element:(0,Ps.jsx)(Bm,{roles:["admin"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(Tg,{})})})}),(0,Ps.jsx)(be,{path:"/admin/*",element:(0,Ps.jsx)(Bm,{roles:["admin"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-4",children:"Administration"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"S\xe9lectionnez une section d'administration dans le menu"})]})})})}),(0,Ps.jsx)(be,{path:"/professor/subjects",element:(0,Ps.jsx)(Bm,{roles:["professeur"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(Pg,{})})})}),(0,Ps.jsx)(be,{path:"/professor/subjects/:id",element:(0,Ps.jsx)(Bm,{roles:["professeur"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(Ag,{})})})}),(0,Ps.jsx)(be,{path:"/professor/*",element:(0,Ps.jsx)(Bm,{roles:["professeur"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-4",children:"Espace Professeur"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"S\xe9lectionnez une section dans le menu"})]})})})}),(0,Ps.jsx)(be,{path:"/student/subjects",element:(0,Ps.jsx)(Bm,{roles:["etudiant"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(Mg,{})})})}),(0,Ps.jsx)(be,{path:"/student/subjects/:id",element:(0,Ps.jsx)(Bm,{roles:["etudiant"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsx)(Og,{})})})}),(0,Ps.jsx)(be,{path:"/student/*",element:(0,Ps.jsx)(Bm,{roles:["etudiant"],children:(0,Ps.jsx)(zx,{children:(0,Ps.jsxs)("div",{className:"text-center py-12",children:[(0,Ps.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-4",children:"Espace \xc9tudiant"}),(0,Ps.jsx)("p",{className:"text-secondary-600",children:"S\xe9lectionnez une section dans le menu"})]})})})}),(0,Ps.jsx)(be,{path:"/",element:(0,Ps.jsx)(ve,{to:"/dashboard",replace:!0})}),(0,Ps.jsx)(be,{path:"*",element:(0,Ps.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50",children:(0,Ps.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,Ps.jsx)("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-6",children:(0,Ps.jsx)("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ps.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ps.jsx)("h2",{className:"text-xl font-bold text-secondary-900 mb-2",children:"Page non trouv\xe9e"}),(0,Ps.jsx)("p",{className:"text-secondary-600 mb-6",children:"La page que vous recherchez n'existe pas."}),(0,Ps.jsx)("a",{href:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Retour au tableau de bord"})]})})})]}),(0,Ps.jsx)(ar,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})};o.createRoot(document.getElementById("root")).render((0,Ps.jsx)(s.StrictMode,{children:(0,Ps.jsx)(Dg,{})}))})();
//# sourceMappingURL=main.150c9e39.js.map