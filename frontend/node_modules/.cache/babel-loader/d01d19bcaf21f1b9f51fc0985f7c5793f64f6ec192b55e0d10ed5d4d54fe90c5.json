{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{ArrowLeft,BookOpen,FileText,Calendar,GraduationCap,Upload,Plus,Search,Loader2,Eye,FileIcon,CheckCircle}from'lucide-react';import{useAuth}from'../../contexts/AuthContext';import{academicAPI,documentsAPI}from'../../utils/api';import toast from'react-hot-toast';import DocumentUploadModal from'../../components/forms/DocumentUploadModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MatiereDetails=()=>{const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[matiere,setMatiere]=useState(null);const[documents,setDocuments]=useState([]);const[loading,setLoading]=useState(true);const[documentsLoading,setDocumentsLoading]=useState(false);const[showUploadModal,setShowUploadModal]=useState(false);const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{if(id){fetchMatiereDetails();fetchMatiereDocuments();}},[id]);useEffect(()=>{if(id){fetchMatiereDocuments();}},[searchTerm]);const fetchMatiereDetails=async()=>{try{setLoading(true);const response=await academicAPI.getMatiere(id);setMatiere(response.data);}catch(error){console.error('Error fetching matiere details:',error);toast.error('Erreur lors du chargement de la matière');navigate('/professor/subjects');}finally{setLoading(false);}};const fetchMatiereDocuments=async()=>{try{setDocumentsLoading(true);const response=await documentsAPI.getDocuments({matiereId:id,search:searchTerm||undefined,limit:100});setDocuments(response.data);}catch(error){console.error('Error fetching matiere documents:',error);toast.error('Erreur lors du chargement des documents');}finally{setDocumentsLoading(false);}};const handleDocumentClick=document=>{navigate(\"/documents/\".concat(document.id));};const handleUploadSuccess=()=>{setShowUploadModal(false);fetchMatiereDocuments();toast.success('Document ajouté avec succès');};const getCategoryIcon=categorie=>{switch(categorie){case'cours':return BookOpen;case'td':return FileText;case'tp':return FileIcon;case'examen':return Calendar;default:return FileText;}};const getCategoryColor=categorie=>{switch(categorie){case'cours':return{bg:'bg-blue-50',border:'border-blue-200',text:'text-blue-900',badge:'bg-blue-100 text-blue-800',icon:'text-blue-600'};case'td':return{bg:'bg-green-50',border:'border-green-200',text:'text-green-900',badge:'bg-green-100 text-green-800',icon:'text-green-600'};case'tp':return{bg:'bg-purple-50',border:'border-purple-200',text:'text-purple-900',badge:'bg-purple-100 text-purple-800',icon:'text-purple-600'};case'examen':return{bg:'bg-red-50',border:'border-red-200',text:'text-red-900',badge:'bg-red-100 text-red-800',icon:'text-red-600'};default:return{bg:'bg-gray-50',border:'border-gray-200',text:'text-gray-900',badge:'bg-gray-100 text-gray-800',icon:'text-gray-600'};}};const getCategoryTitle=categorie=>{switch(categorie){case'cours':return'Cours';case'td':return'Travaux Dirigés (TD)';case'tp':return'Travaux Pratiques (TP)';case'examen':return'Examens';default:return categorie.toUpperCase();}};const groupDocumentsByCategory=docs=>{const filtered=docs.filter(doc=>doc.titre.toLowerCase().includes(searchTerm.toLowerCase())||doc.description&&doc.description.toLowerCase().includes(searchTerm.toLowerCase()));return filtered.reduce((acc,doc)=>{if(!acc[doc.categorie]){acc[doc.categorie]=[];}acc[doc.categorie].push(doc);return acc;},{});};const formatFileSize=bytes=>{const size=parseInt(bytes);if(size===0)return'0 B';const k=1024;const sizes=['B','KB','MB','GB'];const i=Math.floor(Math.log(size)/Math.log(k));return parseFloat((size/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-6 h-6 animate-spin text-primary-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Chargement de la mati\\xE8re...\"})]})});}if(!matiere){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Mati\\xE8re non trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"La mati\\xE8re demand\\xE9e n'existe pas ou vous n'avez pas les permissions pour y acc\\xE9der.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/professor/subjects'),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4 mr-2\"}),\"Retour aux mati\\xE8res\"]})]})});}const groupedDocuments=groupDocumentsByCategory(documents);const categories=['cours','td','tp','examen'];return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/professor/subjects'),className:\"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4 mr-1\"}),\"Retour aux mati\\xE8res\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-white rounded-lg shadow-sm border\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"w-8 h-8 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:matiere.nom}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200\",children:matiere.code}),matiere.filiere&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:matiere.filiere.nom}),matiere.semestre&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:matiere.semestre.nom})]})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowUploadModal(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-2\"}),\"Ajouter un document\"]})]})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white rounded-lg shadow-sm border p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Informations de la mati\\xE8re\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"w-5 h-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Code\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:matiere.code})]})]}),matiere.filiere&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(GraduationCap,{className:\"w-5 h-5 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Fili\\xE8re\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:matiere.filiere.nom})]})]}),matiere.semestre&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Semestre\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:matiere.semestre.nom})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-md\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher dans les documents...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500\"})]})}),documentsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(Loader2,{className:\"w-8 h-8 animate-spin text-primary-600\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[categories.map(category=>{const categoryDocs=groupedDocuments[category]||[];const colors=getCategoryColor(category);const CategoryIcon=getCategoryIcon(category);if(categoryDocs.length===0&&!searchTerm)return null;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"\".concat(colors.bg,\" rounded-lg border \").concat(colors.border,\" p-6\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-white rounded-lg border \".concat(colors.border),children:/*#__PURE__*/_jsx(CategoryIcon,{className:\"w-6 h-6 \".concat(colors.icon)})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold \".concat(colors.text),children:getCategoryTitle(category)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[categoryDocs.length,\" document\",categoryDocs.length!==1?'s':'']})]})]}),categoryDocs.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(CategoryIcon,{className:\"mx-auto h-12 w-12 \".concat(colors.icon,\" opacity-50\")}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-2 text-sm font-medium \".concat(colors.text),children:searchTerm?'Aucun document trouvé':'Aucun document'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:searchTerm?'Aucun document ne correspond à votre recherche dans cette catégorie.':\"Aucun document de type \".concat(category,\" pour cette mati\\xE8re.\")})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:categoryDocs.map(document=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.95},animate:{opacity:1,scale:1},className:\"bg-white rounded-lg border shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group\",onClick:()=>handleDocumentClick(document),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(colors.badge),children:category.toUpperCase()}),document.correction&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3 mr-1\"}),\"Corrig\\xE9\"]})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors\",children:document.titre}),document.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-3 line-clamp-2\",children:document.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatFileSize(document.tailleFichier)}),/*#__PURE__*/_jsx(\"span\",{children:new Date(document.createdAt).toLocaleDateString('fr-FR')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 pt-3 border-t border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[document.uploader.prenom,\" \",document.uploader.nom]}),/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 text-gray-400 group-hover:text-primary-600 transition-colors\"})]})]})},document.id))})]},category);}),Object.keys(groupedDocuments).length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(FileText,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:searchTerm?'Aucun document trouvé':'Aucun document'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:searchTerm?'Aucun document ne correspond à votre recherche.':'Commencez par ajouter votre premier document à cette matière.'}),!searchTerm&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowUploadModal(true),className:\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Ajouter un document\"]})]})]})]}),/*#__PURE__*/_jsx(DocumentUploadModal,{isOpen:showUploadModal,onClose:()=>setShowUploadModal(false),onSuccess:handleUploadSuccess,preselectedMatiereId:matiere===null||matiere===void 0?void 0:matiere.id})]});};export default MatiereDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","motion","ArrowLeft","BookOpen","FileText","Calendar","GraduationCap","Upload","Plus","Search","Loader2","Eye","FileIcon","CheckCircle","useAuth","academicAPI","documentsAPI","toast","DocumentUploadModal","jsx","_jsx","jsxs","_jsxs","MatiereDetails","id","navigate","user","matiere","setMatiere","documents","setDocuments","loading","setLoading","documentsLoading","setDocumentsLoading","showUploadModal","setShowUploadModal","searchTerm","setSearchTerm","fetchMatiereDetails","fetchMatiereDocuments","response","getMatiere","data","error","console","getDocuments","matiereId","search","undefined","limit","handleDocumentClick","document","concat","handleUploadSuccess","success","getCategoryIcon","categorie","getCategoryColor","bg","border","text","badge","icon","getCategoryTitle","toUpperCase","groupDocumentsByCategory","docs","filtered","filter","doc","titre","toLowerCase","includes","description","reduce","acc","push","formatFileSize","bytes","size","parseInt","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","className","children","onClick","groupedDocuments","categories","nom","code","filiere","semestre","div","initial","opacity","y","animate","type","placeholder","value","onChange","e","target","map","category","categoryDocs","colors","CategoryIcon","length","scale","correction","tailleFichier","Date","createdAt","toLocaleDateString","uploader","prenom","Object","keys","isOpen","onClose","onSuccess","preselectedMatiereId"],"sources":["/Users/brahimkhalilkhalef/Projects/ISIArchive/frontend/src/pages/professor/MatiereDetails.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport {\n  ArrowLeft,\n  BookOpen,\n  FileText,\n  Calendar,\n  Users,\n  GraduationCap,\n  Upload,\n  Plus,\n  Search,\n  Loader2,\n  Eye,\n  Download,\n  FileIcon,\n  Star,\n  CheckCircle\n} from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { academicAPI, documentsAPI } from '../../utils/api';\nimport { Matiere, Document } from '../../types';\nimport toast from 'react-hot-toast';\nimport DocumentUploadModal from '../../components/forms/DocumentUploadModal';\n\nconst MatiereDetails: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [matiere, setMatiere] = useState<Matiere | null>(null);\n  const [documents, setDocuments] = useState<Document[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [documentsLoading, setDocumentsLoading] = useState(false);\n  const [showUploadModal, setShowUploadModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    if (id) {\n      fetchMatiereDetails();\n      fetchMatiereDocuments();\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (id) {\n      fetchMatiereDocuments();\n    }\n  }, [searchTerm]);\n\n  const fetchMatiereDetails = async () => {\n    try {\n      setLoading(true);\n      const response = await academicAPI.getMatiere(id!);\n      setMatiere(response.data);\n    } catch (error) {\n      console.error('Error fetching matiere details:', error);\n      toast.error('Erreur lors du chargement de la matière');\n      navigate('/professor/subjects');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchMatiereDocuments = async () => {\n    try {\n      setDocumentsLoading(true);\n      const response = await documentsAPI.getDocuments({\n        matiereId: id!,\n        search: searchTerm || undefined,\n        limit: 100\n      });\n      setDocuments(response.data);\n    } catch (error) {\n      console.error('Error fetching matiere documents:', error);\n      toast.error('Erreur lors du chargement des documents');\n    } finally {\n      setDocumentsLoading(false);\n    }\n  };\n\n  const handleDocumentClick = (document: Document) => {\n    navigate(`/documents/${document.id}`);\n  };\n\n  const handleUploadSuccess = () => {\n    setShowUploadModal(false);\n    fetchMatiereDocuments();\n    toast.success('Document ajouté avec succès');\n  };\n\n  const getCategoryIcon = (categorie: string) => {\n    switch (categorie) {\n      case 'cours': return BookOpen;\n      case 'td': return FileText;\n      case 'tp': return FileIcon;\n      case 'examen': return Calendar;\n      default: return FileText;\n    }\n  };\n\n  const getCategoryColor = (categorie: string) => {\n    switch (categorie) {\n      case 'cours': return {\n        bg: 'bg-blue-50',\n        border: 'border-blue-200',\n        text: 'text-blue-900',\n        badge: 'bg-blue-100 text-blue-800',\n        icon: 'text-blue-600'\n      };\n      case 'td': return {\n        bg: 'bg-green-50',\n        border: 'border-green-200',\n        text: 'text-green-900',\n        badge: 'bg-green-100 text-green-800',\n        icon: 'text-green-600'\n      };\n      case 'tp': return {\n        bg: 'bg-purple-50',\n        border: 'border-purple-200',\n        text: 'text-purple-900',\n        badge: 'bg-purple-100 text-purple-800',\n        icon: 'text-purple-600'\n      };\n      case 'examen': return {\n        bg: 'bg-red-50',\n        border: 'border-red-200',\n        text: 'text-red-900',\n        badge: 'bg-red-100 text-red-800',\n        icon: 'text-red-600'\n      };\n      default: return {\n        bg: 'bg-gray-50',\n        border: 'border-gray-200',\n        text: 'text-gray-900',\n        badge: 'bg-gray-100 text-gray-800',\n        icon: 'text-gray-600'\n      };\n    }\n  };\n\n  const getCategoryTitle = (categorie: string) => {\n    switch (categorie) {\n      case 'cours': return 'Cours';\n      case 'td': return 'Travaux Dirigés (TD)';\n      case 'tp': return 'Travaux Pratiques (TP)';\n      case 'examen': return 'Examens';\n      default: return categorie.toUpperCase();\n    }\n  };\n\n  const groupDocumentsByCategory = (docs: Document[]) => {\n    const filtered = docs.filter(doc => \n      doc.titre.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (doc.description && doc.description.toLowerCase().includes(searchTerm.toLowerCase()))\n    );\n\n    return filtered.reduce((acc, doc) => {\n      if (!acc[doc.categorie]) {\n        acc[doc.categorie] = [];\n      }\n      acc[doc.categorie].push(doc);\n      return acc;\n    }, {} as Record<string, Document[]>);\n  };\n\n  const formatFileSize = (bytes: string) => {\n    const size = parseInt(bytes);\n    if (size === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(size) / Math.log(k));\n    return parseFloat((size / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"flex items-center space-x-2\">\n          <Loader2 className=\"w-6 h-6 animate-spin text-primary-600\" />\n          <span className=\"text-gray-600\">Chargement de la matière...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!matiere) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Matière non trouvée</h2>\n          <p className=\"text-gray-600 mb-4\">La matière demandée n'existe pas ou vous n'avez pas les permissions pour y accéder.</p>\n          <button\n            onClick={() => navigate('/professor/subjects')}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Retour aux matières\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const groupedDocuments = groupDocumentsByCategory(documents);\n  const categories = ['cours', 'td', 'tp', 'examen'];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <button\n            onClick={() => navigate('/professor/subjects')}\n            className=\"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-1\" />\n            Retour aux matières\n          </button>\n          \n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex items-start space-x-4\">\n              <div className=\"p-3 bg-white rounded-lg shadow-sm border\">\n                <BookOpen className=\"w-8 h-8 text-primary-600\" />\n              </div>\n              <div>\n                <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{matiere.nom}</h1>\n                <div className=\"flex items-center space-x-4\">\n                  <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200\">\n                    {matiere.code}\n                  </span>\n                  {matiere.filiere && (\n                    <span className=\"text-sm text-gray-500\">\n                      {matiere.filiere.nom}\n                    </span>\n                  )}\n                  {matiere.semestre && (\n                    <span className=\"text-sm text-gray-500\">\n                      {matiere.semestre.nom}\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            <button\n              onClick={() => setShowUploadModal(true)}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              <Upload className=\"w-4 h-4 mr-2\" />\n              Ajouter un document\n            </button>\n          </div>\n        </div>\n\n        {/* Matiere Info */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"bg-white rounded-lg shadow-sm border p-6 mb-8\"\n        >\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Informations de la matière</h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\n                <BookOpen className=\"w-5 h-5 text-blue-600\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-medium text-gray-500\">Code</p>\n                <p className=\"text-lg font-semibold text-gray-900\">{matiere.code}</p>\n              </div>\n            </div>\n            \n            {matiere.filiere && (\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-2 bg-green-100 rounded-lg\">\n                  <GraduationCap className=\"w-5 h-5 text-green-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-500\">Filière</p>\n                  <p className=\"text-lg font-semibold text-gray-900\">{matiere.filiere.nom}</p>\n                </div>\n              </div>\n            )}\n            \n            {matiere.semestre && (\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-2 bg-purple-100 rounded-lg\">\n                  <Calendar className=\"w-5 h-5 text-purple-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-500\">Semestre</p>\n                  <p className=\"text-lg font-semibold text-gray-900\">{matiere.semestre.nom}</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </motion.div>\n\n        {/* Search */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-8\">\n          <div className=\"relative max-w-md\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n            <input\n              type=\"text\"\n              placeholder=\"Rechercher dans les documents...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500\"\n            />\n          </div>\n        </div>\n\n        {/* Documents by Category */}\n        {documentsLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <Loader2 className=\"w-8 h-8 animate-spin text-primary-600\" />\n          </div>\n        ) : (\n          <div className=\"space-y-8\">\n            {categories.map((category) => {\n              const categoryDocs = groupedDocuments[category] || [];\n              const colors = getCategoryColor(category);\n              const CategoryIcon = getCategoryIcon(category);\n              \n              if (categoryDocs.length === 0 && !searchTerm) return null;\n\n              return (\n                <motion.div\n                  key={category}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className={`${colors.bg} rounded-lg border ${colors.border} p-6`}\n                >\n                  <div className=\"flex items-center space-x-3 mb-6\">\n                    <div className={`p-2 bg-white rounded-lg border ${colors.border}`}>\n                      <CategoryIcon className={`w-6 h-6 ${colors.icon}`} />\n                    </div>\n                    <div>\n                      <h3 className={`text-xl font-semibold ${colors.text}`}>\n                        {getCategoryTitle(category)}\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">\n                        {categoryDocs.length} document{categoryDocs.length !== 1 ? 's' : ''}\n                      </p>\n                    </div>\n                  </div>\n\n                  {categoryDocs.length === 0 ? (\n                    <div className=\"text-center py-8\">\n                      <CategoryIcon className={`mx-auto h-12 w-12 ${colors.icon} opacity-50`} />\n                      <h4 className={`mt-2 text-sm font-medium ${colors.text}`}>\n                        {searchTerm ? 'Aucun document trouvé' : 'Aucun document'}\n                      </h4>\n                      <p className=\"mt-1 text-sm text-gray-500\">\n                        {searchTerm \n                          ? 'Aucun document ne correspond à votre recherche dans cette catégorie.'\n                          : `Aucun document de type ${category} pour cette matière.`\n                        }\n                      </p>\n                    </div>\n                  ) : (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {categoryDocs.map((document) => (\n                        <motion.div\n                          key={document.id}\n                          initial={{ opacity: 0, scale: 0.95 }}\n                          animate={{ opacity: 1, scale: 1 }}\n                          className=\"bg-white rounded-lg border shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer group\"\n                          onClick={() => handleDocumentClick(document)}\n                        >\n                          <div className=\"p-4\">\n                            <div className=\"flex items-start justify-between mb-3\">\n                              <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${colors.badge}`}>\n                                {category.toUpperCase()}\n                              </span>\n                              {document.correction && (\n                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                                  <CheckCircle className=\"w-3 h-3 mr-1\" />\n                                  Corrigé\n                                </span>\n                              )}\n                            </div>\n\n                            <h4 className=\"text-sm font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors\">\n                              {document.titre}\n                            </h4>\n\n                            {document.description && (\n                              <p className=\"text-xs text-gray-600 mb-3 line-clamp-2\">\n                                {document.description}\n                              </p>\n                            )}\n\n                            <div className=\"flex items-center justify-between text-xs text-gray-500\">\n                              <span>{formatFileSize(document.tailleFichier)}</span>\n                              <span>{new Date(document.createdAt).toLocaleDateString('fr-FR')}</span>\n                            </div>\n\n                            <div className=\"mt-3 pt-3 border-t border-gray-200 flex items-center justify-between\">\n                              <span className=\"text-xs text-gray-500\">\n                                {document.uploader.prenom} {document.uploader.nom}\n                              </span>\n                              <Eye className=\"w-4 h-4 text-gray-400 group-hover:text-primary-600 transition-colors\" />\n                            </div>\n                          </div>\n                        </motion.div>\n                      ))}\n                    </div>\n                  )}\n                </motion.div>\n              );\n            })}\n\n            {Object.keys(groupedDocuments).length === 0 && (\n              <div className=\"text-center py-12\">\n                <FileText className=\"mx-auto h-12 w-12 text-gray-400\" />\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n                  {searchTerm ? 'Aucun document trouvé' : 'Aucun document'}\n                </h3>\n                <p className=\"mt-1 text-sm text-gray-500\">\n                  {searchTerm \n                    ? 'Aucun document ne correspond à votre recherche.'\n                    : 'Commencez par ajouter votre premier document à cette matière.'\n                  }\n                </p>\n                {!searchTerm && (\n                  <button\n                    onClick={() => setShowUploadModal(true)}\n                    className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Ajouter un document\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Upload Modal */}\n      <DocumentUploadModal\n        isOpen={showUploadModal}\n        onClose={() => setShowUploadModal(false)}\n        onSuccess={handleUploadSuccess}\n        preselectedMatiereId={matiere?.id}\n      />\n    </div>\n  );\n};\n\nexport default MatiereDetails; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}