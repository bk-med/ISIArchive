{"ast":null,"code":"import _objectSpread from\"/Users/brahimkhalilkhalef/Projects/ISIArchive/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{useForm}from'react-hook-form';import{zodResolver}from'@hookform/resolvers/zod';import{z}from'zod';import{Mail,Lock,User,Eye,EyeOff}from'lucide-react';import Button from'../ui/Button';import Input from'../ui/Input';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const createUserSchema=z.object({email:z.string().min(1,'L\\'email est requis').email('Format d\\'email invalide'),password:z.string().min(8,'Le mot de passe doit contenir au moins 8 caractères').regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/,'Le mot de passe doit contenir au moins une minuscule, une majuscule et un chiffre'),prenom:z.string().min(1,'Le prénom est requis').min(2,'Le prénom doit contenir au moins 2 caractères'),nom:z.string().min(1,'Le nom est requis').min(2,'Le nom doit contenir au moins 2 caractères'),role:z.enum(['etudiant','professeur','admin'],{required_error:'Le rôle est requis'}),filiereId:z.string().optional(),niveauId:z.string().optional()}).refine(data=>{if(data.role==='etudiant'){return data.filiereId&&data.niveauId;}return true;},{message:'La filière et le niveau sont requis pour les étudiants',path:['filiereId']});const updateUserSchema=z.object({prenom:z.string().min(1,'Le prénom est requis').min(2,'Le prénom doit contenir au moins 2 caractères'),nom:z.string().min(1,'Le nom est requis').min(2,'Le nom doit contenir au moins 2 caractères'),role:z.enum(['etudiant','professeur','admin'],{required_error:'Le rôle est requis'}),isActive:z.boolean(),filiereId:z.string().optional(),niveauId:z.string().optional()}).refine(data=>{if(data.role==='etudiant'){return data.filiereId&&data.niveauId;}return true;},{message:'La filière et le niveau sont requis pour les étudiants',path:['filiereId']});// Create User Form Component\nconst CreateUserForm=_ref=>{var _errors$email,_errors$password,_errors$prenom,_errors$nom;let{onSubmit,onCancel,niveaux,filieres}=_ref;const[showPassword,setShowPassword]=useState(false);const[isSubmitting,setIsSubmitting]=useState(false);const[selectedRole,setSelectedRole]=useState('etudiant');const[selectedNiveau,setSelectedNiveau]=useState('');const{register,handleSubmit,formState:{errors},watch,setValue}=useForm({resolver:zodResolver(createUserSchema),defaultValues:{role:'etudiant',filiereId:'',niveauId:''}});const watchedRole=watch('role');const watchedNiveau=watch('niveauId');useEffect(()=>{setSelectedRole(watchedRole);},[watchedRole]);useEffect(()=>{if(watchedNiveau!==undefined){setSelectedNiveau(watchedNiveau);}},[watchedNiveau]);const filteredFilieres=filieres.filter(filiere=>!selectedNiveau||filiere.niveauId===selectedNiveau);const onFormSubmit=async data=>{try{setIsSubmitting(true);const cleanedData=_objectSpread({},data);if(data.role!=='etudiant'){delete cleanedData.filiereId;delete cleanedData.niveauId;}await onSubmit(cleanedData);}catch(error){console.error('Form submission error:',error);}finally{setIsSubmitting(false);}};const containerVariants={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:0.1}}};const itemVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:0.3}}};return/*#__PURE__*/_jsxs(motion.form,{variants:containerVariants,initial:\"hidden\",animate:\"visible\",onSubmit:handleSubmit(onFormSubmit),className:\"space-y-6\",children:[/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('email')),{},{type:\"email\",label:\"Adresse email\",placeholder:\"utilisateur@isi.tn\",error:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message,leftIcon:/*#__PURE__*/_jsx(Mail,{}),fullWidth:true,required:true}))}),/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('password')),{},{type:showPassword?'text':'password',label:\"Mot de passe\",placeholder:\"Mot de passe s\\xE9curis\\xE9\",error:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message,leftIcon:/*#__PURE__*/_jsx(Lock,{}),rightIcon:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"text-secondary-400 hover:text-secondary-600 transition-colors\",children:showPassword?/*#__PURE__*/_jsx(EyeOff,{}):/*#__PURE__*/_jsx(Eye,{})}),fullWidth:true,required:true})),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-secondary-500\",children:\"Le mot de passe doit contenir au moins 8 caract\\xE8res avec une minuscule, une majuscule et un chiffre.\"})]}),/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('prenom')),{},{type:\"text\",label:\"Pr\\xE9nom\",placeholder:\"Pr\\xE9nom\",error:(_errors$prenom=errors.prenom)===null||_errors$prenom===void 0?void 0:_errors$prenom.message,leftIcon:/*#__PURE__*/_jsx(User,{}),fullWidth:true,required:true})),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('nom')),{},{type:\"text\",label:\"Nom\",placeholder:\"Nom de famille\",error:(_errors$nom=errors.nom)===null||_errors$nom===void 0?void 0:_errors$nom.message,leftIcon:/*#__PURE__*/_jsx(User,{}),fullWidth:true,required:true}))]}),/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:[\"R\\xF4le \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('role')),{},{className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"etudiant\",children:\"\\xC9tudiant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"professeur\",children:\"Professeur\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Administrateur\"})]})),errors.role&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.role.message})]}),selectedRole==='etudiant'&&/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:[\"Niveau \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('niveauId')),{},{className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",onChange:e=>{setValue('niveauId',e.target.value);setValue('filiereId','');},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un niveau\"}),niveaux.map(niveau=>/*#__PURE__*/_jsx(\"option\",{value:niveau.id,children:niveau.nom},niveau.id))]})),errors.niveauId&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.niveauId.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:[\"Fili\\xE8re \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('filiereId')),{},{className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",disabled:!selectedNiveau,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une fili\\xE8re\"}),filteredFilieres.map(filiere=>/*#__PURE__*/_jsxs(\"option\",{value:filiere.id,children:[filiere.nom,\" (\",filiere.code,\")\"]},filiere.id))]})),errors.filiereId&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.filiereId.message})]})]})}),/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"flex justify-end gap-3 pt-6 border-t border-secondary-200\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",onClick:onCancel,disabled:isSubmitting,children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",isLoading:isSubmitting,disabled:isSubmitting,children:\"Cr\\xE9er l'utilisateur\"})]})]});};// Update User Form Component\nconst UpdateUserForm=_ref2=>{var _errors$prenom2,_errors$nom2;let{user,onSubmit,onCancel,niveaux,filieres}=_ref2;const[isSubmitting,setIsSubmitting]=useState(false);const[selectedRole,setSelectedRole]=useState(user.role);const[selectedNiveau,setSelectedNiveau]=useState(user.niveauId||'');const{register,handleSubmit,formState:{errors},watch,setValue}=useForm({resolver:zodResolver(updateUserSchema),defaultValues:{prenom:user.prenom,nom:user.nom,role:user.role,isActive:user.isActive,filiereId:user.filiereId||'',niveauId:user.niveauId||''}});const watchedRole=watch('role');const watchedNiveau=watch('niveauId');useEffect(()=>{setSelectedRole(watchedRole);},[watchedRole]);useEffect(()=>{if(watchedNiveau!==undefined){setSelectedNiveau(watchedNiveau);}},[watchedNiveau]);const filteredFilieres=filieres.filter(filiere=>!selectedNiveau||filiere.niveauId===selectedNiveau);const onFormSubmit=async data=>{try{setIsSubmitting(true);const cleanedData=_objectSpread({},data);if(data.role!=='etudiant'){delete cleanedData.filiereId;delete cleanedData.niveauId;}await onSubmit(cleanedData);}catch(error){console.error('Form submission error:',error);}finally{setIsSubmitting(false);}};const containerVariants={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:0.1}}};const itemVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:0.3}}};return/*#__PURE__*/_jsxs(motion.form,{variants:containerVariants,initial:\"hidden\",animate:\"visible\",onSubmit:handleSubmit(onFormSubmit),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('prenom')),{},{type:\"text\",label:\"Pr\\xE9nom\",placeholder:\"Pr\\xE9nom\",error:(_errors$prenom2=errors.prenom)===null||_errors$prenom2===void 0?void 0:_errors$prenom2.message,leftIcon:/*#__PURE__*/_jsx(User,{}),fullWidth:true,required:true})),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('nom')),{},{type:\"text\",label:\"Nom\",placeholder:\"Nom de famille\",error:(_errors$nom2=errors.nom)===null||_errors$nom2===void 0?void 0:_errors$nom2.message,leftIcon:/*#__PURE__*/_jsx(User,{}),fullWidth:true,required:true}))]}),/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:[\"R\\xF4le \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('role')),{},{className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"etudiant\",children:\"\\xC9tudiant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"professeur\",children:\"Professeur\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Administrateur\"})]})),errors.role&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.role.message})]}),selectedRole==='etudiant'&&/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,initial:{opacity:0,height:0},animate:{opacity:1,height:'auto'},exit:{opacity:0,height:0},className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:[\"Niveau \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('niveauId')),{},{className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",onChange:e=>{setValue('niveauId',e.target.value);setValue('filiereId','');},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un niveau\"}),niveaux.map(niveau=>/*#__PURE__*/_jsx(\"option\",{value:niveau.id,children:niveau.nom},niveau.id))]})),errors.niveauId&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.niveauId.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:[\"Fili\\xE8re \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register('filiereId')),{},{className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",disabled:!selectedNiveau,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une fili\\xE8re\"}),filteredFilieres.map(filiere=>/*#__PURE__*/_jsxs(\"option\",{value:filiere.id,children:[filiere.nom,\" (\",filiere.code,\")\"]},filiere.id))]})),errors.filiereId&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.filiereId.message})]})]})}),/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register('isActive')),{},{type:\"checkbox\",className:\"rounded border-secondary-300 text-primary-600 focus:ring-primary-500\"})),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-medium text-secondary-700\",children:\"Compte actif\"})]})}),/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"flex justify-end gap-3 pt-6 border-t border-secondary-200\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline\",onClick:onCancel,disabled:isSubmitting,children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",isLoading:isSubmitting,disabled:isSubmitting,children:\"Mettre \\xE0 jour\"})]})]});};// Main UserForm Component\nconst UserForm=props=>{if(props.isEditing&&props.user){return/*#__PURE__*/_jsx(UpdateUserForm,_objectSpread(_objectSpread({},props),{},{user:props.user}));}else{return/*#__PURE__*/_jsx(CreateUserForm,_objectSpread({},props));}};export default UserForm;","map":{"version":3,"names":["React","useState","useEffect","motion","useForm","zodResolver","z","Mail","Lock","User","Eye","EyeOff","Button","Input","jsx","_jsx","jsxs","_jsxs","createUserSchema","object","email","string","min","password","regex","prenom","nom","role","enum","required_error","filiereId","optional","niveauId","refine","data","message","path","updateUserSchema","isActive","boolean","CreateUserForm","_ref","_errors$email","_errors$password","_errors$prenom","_errors$nom","onSubmit","onCancel","niveaux","filieres","showPassword","setShowPassword","isSubmitting","setIsSubmitting","selectedRole","setSelectedRole","selectedNiveau","setSelectedNiveau","register","handleSubmit","formState","errors","watch","setValue","resolver","defaultValues","watchedRole","watchedNiveau","undefined","filteredFilieres","filter","filiere","onFormSubmit","cleanedData","_objectSpread","error","console","containerVariants","hidden","opacity","visible","transition","staggerChildren","itemVariants","y","duration","form","variants","initial","animate","className","children","div","type","label","placeholder","leftIcon","fullWidth","required","rightIcon","onClick","value","height","exit","onChange","e","target","map","niveau","id","disabled","code","variant","isLoading","UpdateUserForm","_ref2","_errors$prenom2","_errors$nom2","user","UserForm","props","isEditing"],"sources":["/Users/brahimkhalilkhalef/Projects/ISIArchive/frontend/src/components/forms/UserForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Mail, Lock, User, Eye, EyeOff } from 'lucide-react';\nimport { User as UserType, CreateUserData, UpdateUserData, Niveau, Filiere } from '../../types';\nimport Button from '../ui/Button';\nimport Input from '../ui/Input';\n\nconst createUserSchema = z.object({\n  email: z\n    .string()\n    .min(1, 'L\\'email est requis')\n    .email('Format d\\'email invalide'),\n  password: z\n    .string()\n    .min(8, 'Le mot de passe doit contenir au moins 8 caractères')\n    .regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/, 'Le mot de passe doit contenir au moins une minuscule, une majuscule et un chiffre'),\n  prenom: z\n    .string()\n    .min(1, 'Le prénom est requis')\n    .min(2, 'Le prénom doit contenir au moins 2 caractères'),\n  nom: z\n    .string()\n    .min(1, 'Le nom est requis')\n    .min(2, 'Le nom doit contenir au moins 2 caractères'),\n  role: z.enum(['etudiant', 'professeur', 'admin'], {\n    required_error: 'Le rôle est requis',\n  }),\n  filiereId: z.string().optional(),\n  niveauId: z.string().optional(),\n}).refine((data) => {\n  if (data.role === 'etudiant') {\n    return data.filiereId && data.niveauId;\n  }\n  return true;\n}, {\n  message: 'La filière et le niveau sont requis pour les étudiants',\n  path: ['filiereId'],\n});\n\nconst updateUserSchema = z.object({\n  prenom: z\n    .string()\n    .min(1, 'Le prénom est requis')\n    .min(2, 'Le prénom doit contenir au moins 2 caractères'),\n  nom: z\n    .string()\n    .min(1, 'Le nom est requis')\n    .min(2, 'Le nom doit contenir au moins 2 caractères'),\n  role: z.enum(['etudiant', 'professeur', 'admin'], {\n    required_error: 'Le rôle est requis',\n  }),\n  isActive: z.boolean(),\n  filiereId: z.string().optional(),\n  niveauId: z.string().optional(),\n}).refine((data) => {\n  if (data.role === 'etudiant') {\n    return data.filiereId && data.niveauId;\n  }\n  return true;\n}, {\n  message: 'La filière et le niveau sont requis pour les étudiants',\n  path: ['filiereId'],\n});\n\ntype CreateFormData = z.infer<typeof createUserSchema>;\ntype UpdateFormData = z.infer<typeof updateUserSchema>;\n\ninterface UserFormProps {\n  user?: UserType;\n  onSubmit: (data: CreateUserData | UpdateUserData) => Promise<void>;\n  onCancel: () => void;\n  niveaux: Niveau[];\n  filieres: Filiere[];\n  isEditing?: boolean;\n}\n\n// Create User Form Component\nconst CreateUserForm: React.FC<Omit<UserFormProps, 'isEditing'>> = ({\n  onSubmit,\n  onCancel,\n  niveaux,\n  filieres,\n}) => {\n  const [showPassword, setShowPassword] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [selectedRole, setSelectedRole] = useState<string>('etudiant');\n  const [selectedNiveau, setSelectedNiveau] = useState<string>('');\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    watch,\n    setValue,\n  } = useForm<CreateFormData>({\n    resolver: zodResolver(createUserSchema),\n    defaultValues: {\n      role: 'etudiant',\n      filiereId: '',\n      niveauId: '',\n    },\n  });\n\n  const watchedRole = watch('role');\n  const watchedNiveau = watch('niveauId');\n\n  useEffect(() => {\n    setSelectedRole(watchedRole);\n  }, [watchedRole]);\n\n  useEffect(() => {\n    if (watchedNiveau !== undefined) {\n      setSelectedNiveau(watchedNiveau);\n    }\n  }, [watchedNiveau]);\n\n  const filteredFilieres = filieres.filter(filiere => \n    !selectedNiveau || filiere.niveauId === selectedNiveau\n  );\n\n  const onFormSubmit = async (data: CreateFormData) => {\n    try {\n      setIsSubmitting(true);\n      const cleanedData = { ...data };\n      if (data.role !== 'etudiant') {\n        delete cleanedData.filiereId;\n        delete cleanedData.niveauId;\n      }\n      await onSubmit(cleanedData);\n    } catch (error) {\n      console.error('Form submission error:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: { opacity: 1, transition: { staggerChildren: 0.1 } },\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.3 } },\n  };\n\n  return (\n    <motion.form\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      onSubmit={handleSubmit(onFormSubmit)}\n      className=\"space-y-6\"\n    >\n      <motion.div variants={itemVariants}>\n        <Input\n          {...register('email')}\n          type=\"email\"\n          label=\"Adresse email\"\n          placeholder=\"utilisateur@isi.tn\"\n          error={errors.email?.message}\n          leftIcon={<Mail />}\n          fullWidth\n          required\n        />\n      </motion.div>\n\n      <motion.div variants={itemVariants}>\n        <Input\n          {...register('password')}\n          type={showPassword ? 'text' : 'password'}\n          label=\"Mot de passe\"\n          placeholder=\"Mot de passe sécurisé\"\n          error={errors.password?.message}\n          leftIcon={<Lock />}\n          rightIcon={\n            <button\n              type=\"button\"\n              onClick={() => setShowPassword(!showPassword)}\n              className=\"text-secondary-400 hover:text-secondary-600 transition-colors\"\n            >\n              {showPassword ? <EyeOff /> : <Eye />}\n            </button>\n          }\n          fullWidth\n          required\n        />\n        <p className=\"mt-1 text-xs text-secondary-500\">\n          Le mot de passe doit contenir au moins 8 caractères avec une minuscule, une majuscule et un chiffre.\n        </p>\n      </motion.div>\n\n      <motion.div variants={itemVariants} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <Input\n          {...register('prenom')}\n          type=\"text\"\n          label=\"Prénom\"\n          placeholder=\"Prénom\"\n          error={errors.prenom?.message}\n          leftIcon={<User />}\n          fullWidth\n          required\n        />\n        <Input\n          {...register('nom')}\n          type=\"text\"\n          label=\"Nom\"\n          placeholder=\"Nom de famille\"\n          error={errors.nom?.message}\n          leftIcon={<User />}\n          fullWidth\n          required\n        />\n      </motion.div>\n\n      <motion.div variants={itemVariants}>\n        <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n          Rôle <span className=\"text-red-500\">*</span>\n        </label>\n        <select\n          {...register('role')}\n          className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n        >\n          <option value=\"etudiant\">Étudiant</option>\n          <option value=\"professeur\">Professeur</option>\n          <option value=\"admin\">Administrateur</option>\n        </select>\n        {errors.role && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.role.message}</p>\n        )}\n      </motion.div>\n\n      {selectedRole === 'etudiant' && (\n        <motion.div\n          variants={itemVariants}\n          initial={{ opacity: 0, height: 0 }}\n          animate={{ opacity: 1, height: 'auto' }}\n          exit={{ opacity: 0, height: 0 }}\n          className=\"space-y-4\"\n        >\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Niveau <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                {...register('niveauId')}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                onChange={(e) => {\n                  setValue('niveauId', e.target.value);\n                  setValue('filiereId', '');\n                }}\n              >\n                <option value=\"\">Sélectionner un niveau</option>\n                {niveaux.map((niveau) => (\n                  <option key={niveau.id} value={niveau.id}>\n                    {niveau.nom}\n                  </option>\n                ))}\n              </select>\n              {errors.niveauId && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.niveauId.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Filière <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                {...register('filiereId')}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                disabled={!selectedNiveau}\n              >\n                <option value=\"\">Sélectionner une filière</option>\n                {filteredFilieres.map((filiere) => (\n                  <option key={filiere.id} value={filiere.id}>\n                    {filiere.nom} ({filiere.code})\n                  </option>\n                ))}\n              </select>\n              {errors.filiereId && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.filiereId.message}</p>\n              )}\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      <motion.div variants={itemVariants} className=\"flex justify-end gap-3 pt-6 border-t border-secondary-200\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel} disabled={isSubmitting}>\n          Annuler\n        </Button>\n        <Button type=\"submit\" isLoading={isSubmitting} disabled={isSubmitting}>\n          Créer l'utilisateur\n        </Button>\n      </motion.div>\n    </motion.form>\n  );\n};\n\n// Update User Form Component\nconst UpdateUserForm: React.FC<Omit<UserFormProps, 'isEditing'> & { user: UserType }> = ({\n  user,\n  onSubmit,\n  onCancel,\n  niveaux,\n  filieres,\n}) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [selectedRole, setSelectedRole] = useState<string>(user.role);\n  const [selectedNiveau, setSelectedNiveau] = useState<string>(user.niveauId || '');\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    watch,\n    setValue,\n  } = useForm<UpdateFormData>({\n    resolver: zodResolver(updateUserSchema),\n    defaultValues: {\n      prenom: user.prenom,\n      nom: user.nom,\n      role: user.role,\n      isActive: user.isActive,\n      filiereId: user.filiereId || '',\n      niveauId: user.niveauId || '',\n    },\n  });\n\n  const watchedRole = watch('role');\n  const watchedNiveau = watch('niveauId');\n\n  useEffect(() => {\n    setSelectedRole(watchedRole);\n  }, [watchedRole]);\n\n  useEffect(() => {\n    if (watchedNiveau !== undefined) {\n      setSelectedNiveau(watchedNiveau);\n    }\n  }, [watchedNiveau]);\n\n  const filteredFilieres = filieres.filter(filiere => \n    !selectedNiveau || filiere.niveauId === selectedNiveau\n  );\n\n  const onFormSubmit = async (data: UpdateFormData) => {\n    try {\n      setIsSubmitting(true);\n      const cleanedData = { ...data };\n      if (data.role !== 'etudiant') {\n        delete cleanedData.filiereId;\n        delete cleanedData.niveauId;\n      }\n      await onSubmit(cleanedData);\n    } catch (error) {\n      console.error('Form submission error:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: { opacity: 1, transition: { staggerChildren: 0.1 } },\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.3 } },\n  };\n\n  return (\n    <motion.form\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      onSubmit={handleSubmit(onFormSubmit)}\n      className=\"space-y-6\"\n    >\n      <motion.div variants={itemVariants} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <Input\n          {...register('prenom')}\n          type=\"text\"\n          label=\"Prénom\"\n          placeholder=\"Prénom\"\n          error={errors.prenom?.message}\n          leftIcon={<User />}\n          fullWidth\n          required\n        />\n        <Input\n          {...register('nom')}\n          type=\"text\"\n          label=\"Nom\"\n          placeholder=\"Nom de famille\"\n          error={errors.nom?.message}\n          leftIcon={<User />}\n          fullWidth\n          required\n        />\n      </motion.div>\n\n      <motion.div variants={itemVariants}>\n        <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n          Rôle <span className=\"text-red-500\">*</span>\n        </label>\n        <select\n          {...register('role')}\n          className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n        >\n          <option value=\"etudiant\">Étudiant</option>\n          <option value=\"professeur\">Professeur</option>\n          <option value=\"admin\">Administrateur</option>\n        </select>\n        {errors.role && (\n          <p className=\"mt-1 text-sm text-red-600\">{errors.role.message}</p>\n        )}\n      </motion.div>\n\n      {selectedRole === 'etudiant' && (\n        <motion.div\n          variants={itemVariants}\n          initial={{ opacity: 0, height: 0 }}\n          animate={{ opacity: 1, height: 'auto' }}\n          exit={{ opacity: 0, height: 0 }}\n          className=\"space-y-4\"\n        >\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Niveau <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                {...register('niveauId')}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                onChange={(e) => {\n                  setValue('niveauId', e.target.value);\n                  setValue('filiereId', '');\n                }}\n              >\n                <option value=\"\">Sélectionner un niveau</option>\n                {niveaux.map((niveau) => (\n                  <option key={niveau.id} value={niveau.id}>\n                    {niveau.nom}\n                  </option>\n                ))}\n              </select>\n              {errors.niveauId && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.niveauId.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Filière <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                {...register('filiereId')}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                disabled={!selectedNiveau}\n              >\n                <option value=\"\">Sélectionner une filière</option>\n                {filteredFilieres.map((filiere) => (\n                  <option key={filiere.id} value={filiere.id}>\n                    {filiere.nom} ({filiere.code})\n                  </option>\n                ))}\n              </select>\n              {errors.filiereId && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.filiereId.message}</p>\n              )}\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      <motion.div variants={itemVariants}>\n        <label className=\"flex items-center\">\n          <input\n            {...register('isActive')}\n            type=\"checkbox\"\n            className=\"rounded border-secondary-300 text-primary-600 focus:ring-primary-500\"\n          />\n          <span className=\"ml-2 text-sm font-medium text-secondary-700\">\n            Compte actif\n          </span>\n        </label>\n      </motion.div>\n\n      <motion.div variants={itemVariants} className=\"flex justify-end gap-3 pt-6 border-t border-secondary-200\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel} disabled={isSubmitting}>\n          Annuler\n        </Button>\n        <Button type=\"submit\" isLoading={isSubmitting} disabled={isSubmitting}>\n          Mettre à jour\n        </Button>\n      </motion.div>\n    </motion.form>\n  );\n};\n\n// Main UserForm Component\nconst UserForm: React.FC<UserFormProps> = (props) => {\n  if (props.isEditing && props.user) {\n    return <UpdateUserForm {...props} user={props.user} />;\n  } else {\n    return <CreateUserForm {...props} />;\n  }\n};\n\nexport default UserForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}