{"ast":null,"code":"import _objectSpread from\"/Users/brahimkhalilkhalef/Projects/ISIArchive/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{GraduationCap,Plus,Search,Edit,Trash2,RotateCcw,AlertTriangle,Users}from'lucide-react';import{useAuth}from'../../contexts/AuthContext';import{academicAPI}from'../../utils/api';import Card from'../../components/ui/Card';import Button from'../../components/ui/Button';import Input from'../../components/ui/Input';import Modal from'../../components/ui/Modal';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MatiereManagement=()=>{var _niveaux$find,_niveaux$find2,_niveaux$find2$semest,_niveaux$find3,_niveaux$find3$semest;const{user}=useAuth();const[matieres,setMatieres]=useState([]);const[niveaux,setNiveaux]=useState([]);const[filieres,setFilieres]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[selectedFiliere,setSelectedFiliere]=useState('');const[selectedSemestre,setSelectedSemestre]=useState('');const[showCreateModal,setShowCreateModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[showDeleteModal,setShowDeleteModal]=useState(false);const[showAssignModal,setShowAssignModal]=useState(false);const[editingMatiere,setEditingMatiere]=useState(null);const[deletingMatiere,setDeletingMatiere]=useState(null);const[assigningMatiere,setAssigningMatiere]=useState(null);const[formData,setFormData]=useState({nom:'',code:'',filiereId:'',semestreId:''});const[isSubmitting,setIsSubmitting]=useState(false);useEffect(()=>{fetchData();},[]);useEffect(()=>{fetchMatieres();},[searchTerm,selectedFiliere,selectedSemestre]);const fetchData=async()=>{try{setLoading(true);const[matieresRes,niveauxRes,filieresRes]=await Promise.all([academicAPI.getMatieres({includeDeleted:true}),academicAPI.getNiveaux(),academicAPI.getFilieres()]);setMatieres(matieresRes.data);setNiveaux(niveauxRes.data);setFilieres(filieresRes.data);}catch(error){toast.error('Erreur lors du chargement des données');}finally{setLoading(false);}};const fetchMatieres=async()=>{try{const params={includeDeleted:true};if(selectedFiliere)params.filiereId=selectedFiliere;if(selectedSemestre)params.semestreId=selectedSemestre;const response=await academicAPI.getMatieres(params);setMatieres(response.data);}catch(error){console.error('Error fetching matieres:',error);}};const handleCreateMatiere=async()=>{if(!formData.nom||!formData.code||!formData.filiereId||!formData.semestreId){toast.error('Tous les champs sont requis');return;}try{setIsSubmitting(true);await academicAPI.createMatiere(formData);toast.success('Matière créée avec succès');setShowCreateModal(false);setFormData({nom:'',code:'',filiereId:'',semestreId:''});fetchMatieres();}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Erreur lors de la création');}finally{setIsSubmitting(false);}};const handleUpdateMatiere=async()=>{if(!editingMatiere||!formData.nom||!formData.code||!formData.filiereId||!formData.semestreId){toast.error('Tous les champs sont requis');return;}try{setIsSubmitting(true);await academicAPI.updateMatiere(editingMatiere.id,formData);toast.success('Matière mise à jour avec succès');setShowEditModal(false);setEditingMatiere(null);setFormData({nom:'',code:'',filiereId:'',semestreId:''});fetchMatieres();}catch(error){var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Erreur lors de la mise à jour');}finally{setIsSubmitting(false);}};const handleDeleteMatiere=async()=>{if(!deletingMatiere)return;try{await academicAPI.deleteMatiere(deletingMatiere.id);toast.success('Matière supprimée avec succès');setShowDeleteModal(false);setDeletingMatiere(null);fetchMatieres();}catch(error){var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'Erreur lors de la suppression');}};const handleRestoreMatiere=async matiereId=>{try{await academicAPI.restoreMatiere(matiereId);toast.success('Matière restaurée avec succès');fetchMatieres();}catch(error){var _error$response4,_error$response4$data;toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Erreur lors de la restauration');}};const openCreateModal=()=>{setFormData({nom:'',code:'',filiereId:'',semestreId:''});setShowCreateModal(true);};const openEditModal=matiere=>{setEditingMatiere(matiere);setFormData({nom:matiere.nom,code:matiere.code,filiereId:matiere.filiereId,semestreId:matiere.semestreId});setShowEditModal(true);};const openDeleteModal=matiere=>{setDeletingMatiere(matiere);setShowDeleteModal(true);};const openAssignModal=matiere=>{setAssigningMatiere(matiere);setShowAssignModal(true);};const filteredMatieres=matieres.filter(matiere=>{const matchesSearch=matiere.nom.toLowerCase().includes(searchTerm.toLowerCase())||matiere.code.toLowerCase().includes(searchTerm.toLowerCase());const matchesFiliere=!selectedFiliere||matiere.filiereId===selectedFiliere;const matchesSemestre=!selectedSemestre||matiere.semestreId===selectedSemestre;return matchesSearch&&matchesFiliere&&matchesSemestre;});// Get semestres for selected filiere\nconst availableSemestres=selectedFiliere?((_niveaux$find=niveaux.find(n=>{var _n$filieres;return(_n$filieres=n.filieres)===null||_n$filieres===void 0?void 0:_n$filieres.some(f=>f.id===selectedFiliere);}))===null||_niveaux$find===void 0?void 0:_niveaux$find.semestres)||[]:[];const containerVariants={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:0.1}}};const itemVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:0.5}}};return/*#__PURE__*/_jsxs(motion.div,{variants:containerVariants,initial:\"hidden\",animate:\"visible\",className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-secondary-900\",children:\"Gestion des Mati\\xE8res\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600\",children:\"G\\xE9rez les mati\\xE8res acad\\xE9miques et leurs assignations\"})]}),/*#__PURE__*/_jsx(Button,{onClick:openCreateModal,leftIcon:/*#__PURE__*/_jsx(Plus,{}),className:\"bg-primary-600 hover:bg-primary-700\",children:\"Nouvelle Mati\\xE8re\"})]}),/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsx(Card,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"Rechercher par nom ou code...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),leftIcon:/*#__PURE__*/_jsx(Search,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-64\",children:/*#__PURE__*/_jsxs(\"select\",{value:selectedFiliere,onChange:e=>{setSelectedFiliere(e.target.value);setSelectedSemestre('');// Reset semestre when filiere changes\n},className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les fili\\xE8res\"}),filieres.map(filiere=>/*#__PURE__*/_jsx(\"option\",{value:filiere.id,children:filiere.nom},filiere.id))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-64\",children:/*#__PURE__*/_jsxs(\"select\",{value:selectedSemestre,onChange:e=>setSelectedSemestre(e.target.value),className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",disabled:!selectedFiliere,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tous les semestres\"}),availableSemestres.map(semestre=>/*#__PURE__*/_jsx(\"option\",{value:semestre.id,children:semestre.nom},semestre.id))]})})]})})}),/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:filteredMatieres.map((matiere,index)=>{var _matiere$filiere,_matiere$semestre;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.9},transition:{delay:index*0.05},children:/*#__PURE__*/_jsxs(Card,{className:\"p-6 \".concat(matiere.isDeleted?'opacity-60 border-red-200':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-green-100\",children:/*#__PURE__*/_jsx(GraduationCap,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-secondary-900\",children:matiere.nom}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-500\",children:matiere.code})]})]}),matiere.isDeleted&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-red-600\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:\"Supprim\\xE9e\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-secondary-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fili\\xE8re:\"}),\" \",(_matiere$filiere=matiere.filiere)===null||_matiere$filiere===void 0?void 0:_matiere$filiere.nom]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-secondary-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Semestre:\"}),\" \",(_matiere$semestre=matiere.semestre)===null||_matiere$semestre===void 0?void 0:_matiere$semestre.nom]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline\",onClick:()=>openAssignModal(matiere),leftIcon:/*#__PURE__*/_jsx(Users,{}),disabled:matiere.isDeleted,children:\"Professeurs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:matiere.isDeleted?/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline\",onClick:()=>handleRestoreMatiere(matiere.id),leftIcon:/*#__PURE__*/_jsx(RotateCcw,{}),children:\"Restaurer\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:()=>openEditModal(matiere),children:/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:()=>openDeleteModal(matiere),className:\"text-red-600 hover:text-red-700\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})})]})]})},matiere.id);})})}),filteredMatieres.length===0&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(GraduationCap,{className:\"h-12 w-12 text-secondary-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-secondary-900 mb-2\",children:\"Aucune mati\\xE8re trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600\",children:searchTerm||selectedFiliere||selectedSemestre?'Aucune matière ne correspond à vos critères de recherche.':'Commencez par créer votre première matière.'})]})]}),/*#__PURE__*/_jsx(Modal,{isOpen:showCreateModal,onClose:()=>setShowCreateModal(false),title:\"Cr\\xE9er une nouvelle mati\\xE8re\",size:\"lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Nom de la mati\\xE8re\"}),/*#__PURE__*/_jsx(Input,{value:formData.nom,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nom:e.target.value})),placeholder:\"Ex: Algorithmique et Structures de Donn\\xE9es\",fullWidth:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Code de la mati\\xE8re\"}),/*#__PURE__*/_jsx(Input,{value:formData.code,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{code:e.target.value})),placeholder:\"Ex: ALGO\",fullWidth:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Fili\\xE8re\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.filiereId,onChange:e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{filiereId:e.target.value,semestreId:''}));},className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une fili\\xE8re\"}),filieres.map(filiere=>/*#__PURE__*/_jsxs(\"option\",{value:filiere.id,children:[filiere.nom,\" (\",filiere.code,\")\"]},filiere.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Semestre\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.semestreId,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{semestreId:e.target.value})),className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",disabled:!formData.filiereId,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un semestre\"}),formData.filiereId&&((_niveaux$find2=niveaux.find(n=>{var _n$filieres2;return(_n$filieres2=n.filieres)===null||_n$filieres2===void 0?void 0:_n$filieres2.some(f=>f.id===formData.filiereId);}))===null||_niveaux$find2===void 0?void 0:(_niveaux$find2$semest=_niveaux$find2.semestres)===null||_niveaux$find2$semest===void 0?void 0:_niveaux$find2$semest.map(semestre=>/*#__PURE__*/_jsx(\"option\",{value:semestre.id,children:semestre.nom},semestre.id)))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 pt-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowCreateModal(false),disabled:isSubmitting,children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCreateMatiere,isLoading:isSubmitting,disabled:isSubmitting,children:\"Cr\\xE9er\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showEditModal,onClose:()=>setShowEditModal(false),title:\"Modifier la mati\\xE8re\",size:\"lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Nom de la mati\\xE8re\"}),/*#__PURE__*/_jsx(Input,{value:formData.nom,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nom:e.target.value})),placeholder:\"Ex: Algorithmique et Structures de Donn\\xE9es\",fullWidth:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Code de la mati\\xE8re\"}),/*#__PURE__*/_jsx(Input,{value:formData.code,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{code:e.target.value})),placeholder:\"Ex: ALGO\",fullWidth:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Fili\\xE8re\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.filiereId,onChange:e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{filiereId:e.target.value,semestreId:''}));},className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une fili\\xE8re\"}),filieres.map(filiere=>/*#__PURE__*/_jsxs(\"option\",{value:filiere.id,children:[filiere.nom,\" (\",filiere.code,\")\"]},filiere.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-secondary-700 mb-2\",children:\"Semestre\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.semestreId,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{semestreId:e.target.value})),className:\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",disabled:!formData.filiereId,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un semestre\"}),formData.filiereId&&((_niveaux$find3=niveaux.find(n=>{var _n$filieres3;return(_n$filieres3=n.filieres)===null||_n$filieres3===void 0?void 0:_n$filieres3.some(f=>f.id===formData.filiereId);}))===null||_niveaux$find3===void 0?void 0:(_niveaux$find3$semest=_niveaux$find3.semestres)===null||_niveaux$find3$semest===void 0?void 0:_niveaux$find3$semest.map(semestre=>/*#__PURE__*/_jsx(\"option\",{value:semestre.id,children:semestre.nom},semestre.id)))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 pt-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowEditModal(false),disabled:isSubmitting,children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{onClick:handleUpdateMatiere,isLoading:isSubmitting,disabled:isSubmitting,children:\"Mettre \\xE0 jour\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showDeleteModal,onClose:()=>setShowDeleteModal(false),title:\"Confirmer la suppression\",children:deletingMatiere&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-secondary-600\",children:[\"\\xCAtes-vous s\\xFBr de vouloir supprimer la mati\\xE8re\",' ',/*#__PURE__*/_jsx(\"strong\",{children:deletingMatiere.nom}),\" ?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600\",children:\"Cette action peut \\xEAtre annul\\xE9e dans les 30 jours.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowDeleteModal(false),children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleDeleteMatiere,children:\"Supprimer\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showAssignModal,onClose:()=>setShowAssignModal(false),title:\"Professeurs assign\\xE9s - \".concat(assigningMatiere===null||assigningMatiere===void 0?void 0:assigningMatiere.nom),size:\"lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600\",children:\"Fonctionnalit\\xE9 d'assignation des professeurs \\xE0 impl\\xE9menter.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowAssignModal(false),children:\"Fermer\"})})]})}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-secondary-600\",children:\"Chargement...\"})]})})]});};export default MatiereManagement;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","GraduationCap","Plus","Search","Edit","Trash2","RotateCcw","AlertTriangle","Users","useAuth","academicAPI","Card","Button","Input","Modal","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MatiereManagement","_niveaux$find","_niveaux$find2","_niveaux$find2$semest","_niveaux$find3","_niveaux$find3$semest","user","matieres","setMatieres","niveaux","setNiveaux","filieres","setFilieres","loading","setLoading","searchTerm","setSearchTerm","selectedFiliere","setSelectedFiliere","selectedSemestre","setSelectedSemestre","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","showDeleteModal","setShowDeleteModal","showAssignModal","setShowAssignModal","editingMatiere","setEditingMatiere","deletingMatiere","setDeletingMatiere","assigningMatiere","setAssigningMatiere","formData","setFormData","nom","code","filiereId","semestreId","isSubmitting","setIsSubmitting","fetchData","fetchMatieres","matieresRes","niveauxRes","filieresRes","Promise","all","getMatieres","includeDeleted","getNiveaux","getFilieres","data","error","params","response","console","handleCreateMatiere","createMatiere","success","_error$response","_error$response$data","message","handleUpdateMatiere","updateMatiere","id","_error$response2","_error$response2$data","handleDeleteMatiere","deleteMatiere","_error$response3","_error$response3$data","handleRestoreMatiere","matiereId","restoreMatiere","_error$response4","_error$response4$data","openCreateModal","openEditModal","matiere","openDeleteModal","openAssignModal","filteredMatieres","filter","matchesSearch","toLowerCase","includes","matchesFiliere","matchesSemestre","availableSemestres","find","n","_n$filieres","some","f","semestres","containerVariants","hidden","opacity","visible","transition","staggerChildren","itemVariants","y","duration","div","variants","initial","animate","className","children","onClick","leftIcon","placeholder","value","onChange","e","target","map","filiere","disabled","semestre","index","_matiere$filiere","_matiere$semestre","scale","exit","delay","concat","isDeleted","size","variant","length","isOpen","onClose","title","_objectSpread","fullWidth","_n$filieres2","isLoading","_n$filieres3"],"sources":["/Users/brahimkhalilkhalef/Projects/ISIArchive/frontend/src/pages/admin/MatiereManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  GraduationCap,\n  Plus,\n  Search,\n  Edit,\n  Trash2,\n  RotateCcw,\n  AlertTriangle,\n  Users,\n} from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { academicAPI } from '../../utils/api';\nimport { Niveau, Filiere, Matiere } from '../../types';\nimport Card from '../../components/ui/Card';\nimport Button from '../../components/ui/Button';\nimport Input from '../../components/ui/Input';\nimport Modal from '../../components/ui/Modal';\nimport toast from 'react-hot-toast';\n\ninterface MatiereFormData {\n  nom: string;\n  code: string;\n  filiereId: string;\n  semestreId: string;\n}\n\nconst MatiereManagement: React.FC = () => {\n  const { user } = useAuth();\n  const [matieres, setMatieres] = useState<Matiere[]>([]);\n  const [niveaux, setNiveaux] = useState<Niveau[]>([]);\n  const [filieres, setFilieres] = useState<Filiere[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedFiliere, setSelectedFiliere] = useState<string>('');\n  const [selectedSemestre, setSelectedSemestre] = useState<string>('');\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showAssignModal, setShowAssignModal] = useState(false);\n  const [editingMatiere, setEditingMatiere] = useState<Matiere | null>(null);\n  const [deletingMatiere, setDeletingMatiere] = useState<Matiere | null>(null);\n  const [assigningMatiere, setAssigningMatiere] = useState<Matiere | null>(null);\n  const [formData, setFormData] = useState<MatiereFormData>({\n    nom: '',\n    code: '',\n    filiereId: '',\n    semestreId: '',\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    fetchMatieres();\n  }, [searchTerm, selectedFiliere, selectedSemestre]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const [matieresRes, niveauxRes, filieresRes] = await Promise.all([\n        academicAPI.getMatieres({ includeDeleted: true }),\n        academicAPI.getNiveaux(),\n        academicAPI.getFilieres(),\n      ]);\n      setMatieres(matieresRes.data);\n      setNiveaux(niveauxRes.data);\n      setFilieres(filieresRes.data);\n    } catch (error) {\n      toast.error('Erreur lors du chargement des données');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchMatieres = async () => {\n    try {\n      const params: any = { includeDeleted: true };\n      if (selectedFiliere) params.filiereId = selectedFiliere;\n      if (selectedSemestre) params.semestreId = selectedSemestre;\n      \n      const response = await academicAPI.getMatieres(params);\n      setMatieres(response.data);\n    } catch (error) {\n      console.error('Error fetching matieres:', error);\n    }\n  };\n\n  const handleCreateMatiere = async () => {\n    if (!formData.nom || !formData.code || !formData.filiereId || !formData.semestreId) {\n      toast.error('Tous les champs sont requis');\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      await academicAPI.createMatiere(formData);\n      toast.success('Matière créée avec succès');\n      setShowCreateModal(false);\n      setFormData({ nom: '', code: '', filiereId: '', semestreId: '' });\n      fetchMatieres();\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || 'Erreur lors de la création');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleUpdateMatiere = async () => {\n    if (!editingMatiere || !formData.nom || !formData.code || !formData.filiereId || !formData.semestreId) {\n      toast.error('Tous les champs sont requis');\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      await academicAPI.updateMatiere(editingMatiere.id, formData);\n      toast.success('Matière mise à jour avec succès');\n      setShowEditModal(false);\n      setEditingMatiere(null);\n      setFormData({ nom: '', code: '', filiereId: '', semestreId: '' });\n      fetchMatieres();\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || 'Erreur lors de la mise à jour');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDeleteMatiere = async () => {\n    if (!deletingMatiere) return;\n\n    try {\n      await academicAPI.deleteMatiere(deletingMatiere.id);\n      toast.success('Matière supprimée avec succès');\n      setShowDeleteModal(false);\n      setDeletingMatiere(null);\n      fetchMatieres();\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || 'Erreur lors de la suppression');\n    }\n  };\n\n  const handleRestoreMatiere = async (matiereId: string) => {\n    try {\n      await academicAPI.restoreMatiere(matiereId);\n      toast.success('Matière restaurée avec succès');\n      fetchMatieres();\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || 'Erreur lors de la restauration');\n    }\n  };\n\n  const openCreateModal = () => {\n    setFormData({ nom: '', code: '', filiereId: '', semestreId: '' });\n    setShowCreateModal(true);\n  };\n\n  const openEditModal = (matiere: Matiere) => {\n    setEditingMatiere(matiere);\n    setFormData({\n      nom: matiere.nom,\n      code: matiere.code,\n      filiereId: matiere.filiereId,\n      semestreId: matiere.semestreId,\n    });\n    setShowEditModal(true);\n  };\n\n  const openDeleteModal = (matiere: Matiere) => {\n    setDeletingMatiere(matiere);\n    setShowDeleteModal(true);\n  };\n\n  const openAssignModal = (matiere: Matiere) => {\n    setAssigningMatiere(matiere);\n    setShowAssignModal(true);\n  };\n\n  const filteredMatieres = matieres.filter(matiere => {\n    const matchesSearch = matiere.nom.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         matiere.code.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesFiliere = !selectedFiliere || matiere.filiereId === selectedFiliere;\n    const matchesSemestre = !selectedSemestre || matiere.semestreId === selectedSemestre;\n    return matchesSearch && matchesFiliere && matchesSemestre;\n  });\n\n  // Get semestres for selected filiere\n  const availableSemestres = selectedFiliere \n    ? niveaux.find(n => n.filieres?.some(f => f.id === selectedFiliere))?.semestres || []\n    : [];\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.1,\n      },\n    },\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: 0.5,\n      },\n    },\n  };\n\n  return (\n    <motion.div\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      className=\"space-y-6\"\n    >\n      {/* Header */}\n      <motion.div variants={itemVariants} className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-secondary-900\">Gestion des Matières</h1>\n          <p className=\"text-secondary-600\">Gérez les matières académiques et leurs assignations</p>\n        </div>\n        <Button\n          onClick={openCreateModal}\n          leftIcon={<Plus />}\n          className=\"bg-primary-600 hover:bg-primary-700\"\n        >\n          Nouvelle Matière\n        </Button>\n      </motion.div>\n\n      {/* Filters */}\n      <motion.div variants={itemVariants}>\n        <Card className=\"p-6\">\n          <div className=\"flex flex-col lg:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <Input\n                placeholder=\"Rechercher par nom ou code...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                leftIcon={<Search />}\n              />\n            </div>\n            <div className=\"w-full lg:w-64\">\n              <select\n                value={selectedFiliere}\n                onChange={(e) => {\n                  setSelectedFiliere(e.target.value);\n                  setSelectedSemestre(''); // Reset semestre when filiere changes\n                }}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              >\n                <option value=\"\">Toutes les filières</option>\n                {filieres.map((filiere) => (\n                  <option key={filiere.id} value={filiere.id}>\n                    {filiere.nom}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"w-full lg:w-64\">\n              <select\n                value={selectedSemestre}\n                onChange={(e) => setSelectedSemestre(e.target.value)}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                disabled={!selectedFiliere}\n              >\n                <option value=\"\">Tous les semestres</option>\n                {availableSemestres.map((semestre) => (\n                  <option key={semestre.id} value={semestre.id}>\n                    {semestre.nom}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </Card>\n      </motion.div>\n\n      {/* Matieres Grid */}\n      <motion.div variants={itemVariants}>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <AnimatePresence>\n            {filteredMatieres.map((matiere, index) => (\n              <motion.div\n                key={matiere.id}\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.9 }}\n                transition={{ delay: index * 0.05 }}\n              >\n                <Card className={`p-6 ${matiere.isDeleted ? 'opacity-60 border-red-200' : ''}`}>\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div className=\"flex items-center\">\n                      <div className=\"p-2 rounded-lg bg-green-100\">\n                        <GraduationCap className=\"h-5 w-5 text-green-600\" />\n                      </div>\n                      <div className=\"ml-3\">\n                        <h3 className=\"text-lg font-semibold text-secondary-900\">\n                          {matiere.nom}\n                        </h3>\n                        <p className=\"text-sm text-secondary-500\">{matiere.code}</p>\n                      </div>\n                    </div>\n                    {matiere.isDeleted && (\n                      <div className=\"flex items-center text-red-600\">\n                        <AlertTriangle className=\"h-4 w-4 mr-1\" />\n                        <span className=\"text-xs\">Supprimée</span>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"mb-4 space-y-1\">\n                    <p className=\"text-sm text-secondary-600\">\n                      <strong>Filière:</strong> {matiere.filiere?.nom}\n                    </p>\n                    <p className=\"text-sm text-secondary-600\">\n                      <strong>Semestre:</strong> {matiere.semestre?.nom}\n                    </p>\n                  </div>\n\n                  <div className=\"flex justify-between items-center\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => openAssignModal(matiere)}\n                      leftIcon={<Users />}\n                      disabled={matiere.isDeleted}\n                    >\n                      Professeurs\n                    </Button>\n                    \n                    <div className=\"flex gap-2\">\n                      {matiere.isDeleted ? (\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => handleRestoreMatiere(matiere.id)}\n                          leftIcon={<RotateCcw />}\n                        >\n                          Restaurer\n                        </Button>\n                      ) : (\n                        <>\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => openEditModal(matiere)}\n                          >\n                            <Edit className=\"h-4 w-4\" />\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => openDeleteModal(matiere)}\n                            className=\"text-red-600 hover:text-red-700\"\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                </Card>\n              </motion.div>\n            ))}\n          </AnimatePresence>\n        </div>\n\n        {filteredMatieres.length === 0 && !loading && (\n          <div className=\"text-center py-12\">\n            <GraduationCap className=\"h-12 w-12 text-secondary-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-secondary-900 mb-2\">\n              Aucune matière trouvée\n            </h3>\n            <p className=\"text-secondary-600\">\n              {searchTerm || selectedFiliere || selectedSemestre\n                ? 'Aucune matière ne correspond à vos critères de recherche.'\n                : 'Commencez par créer votre première matière.'}\n            </p>\n          </div>\n        )}\n      </motion.div>\n\n      {/* Create Modal */}\n      <Modal\n        isOpen={showCreateModal}\n        onClose={() => setShowCreateModal(false)}\n        title=\"Créer une nouvelle matière\"\n        size=\"lg\"\n      >\n        <div className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Nom de la matière\n              </label>\n              <Input\n                value={formData.nom}\n                onChange={(e) => setFormData({ ...formData, nom: e.target.value })}\n                placeholder=\"Ex: Algorithmique et Structures de Données\"\n                fullWidth\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Code de la matière\n              </label>\n              <Input\n                value={formData.code}\n                onChange={(e) => setFormData({ ...formData, code: e.target.value })}\n                placeholder=\"Ex: ALGO\"\n                fullWidth\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Filière\n              </label>\n              <select\n                value={formData.filiereId}\n                onChange={(e) => {\n                  setFormData({ ...formData, filiereId: e.target.value, semestreId: '' });\n                }}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              >\n                <option value=\"\">Sélectionner une filière</option>\n                {filieres.map((filiere) => (\n                  <option key={filiere.id} value={filiere.id}>\n                    {filiere.nom} ({filiere.code})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Semestre\n              </label>\n              <select\n                value={formData.semestreId}\n                onChange={(e) => setFormData({ ...formData, semestreId: e.target.value })}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                disabled={!formData.filiereId}\n              >\n                <option value=\"\">Sélectionner un semestre</option>\n                {formData.filiereId && \n                  niveaux.find(n => n.filieres?.some(f => f.id === formData.filiereId))?.semestres?.map((semestre) => (\n                    <option key={semestre.id} value={semestre.id}>\n                      {semestre.nom}\n                    </option>\n                  ))\n                }\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowCreateModal(false)}\n              disabled={isSubmitting}\n            >\n              Annuler\n            </Button>\n            <Button\n              onClick={handleCreateMatiere}\n              isLoading={isSubmitting}\n              disabled={isSubmitting}\n            >\n              Créer\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Edit Modal */}\n      <Modal\n        isOpen={showEditModal}\n        onClose={() => setShowEditModal(false)}\n        title=\"Modifier la matière\"\n        size=\"lg\"\n      >\n        <div className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Nom de la matière\n              </label>\n              <Input\n                value={formData.nom}\n                onChange={(e) => setFormData({ ...formData, nom: e.target.value })}\n                placeholder=\"Ex: Algorithmique et Structures de Données\"\n                fullWidth\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Code de la matière\n              </label>\n              <Input\n                value={formData.code}\n                onChange={(e) => setFormData({ ...formData, code: e.target.value })}\n                placeholder=\"Ex: ALGO\"\n                fullWidth\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Filière\n              </label>\n              <select\n                value={formData.filiereId}\n                onChange={(e) => {\n                  setFormData({ ...formData, filiereId: e.target.value, semestreId: '' });\n                }}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              >\n                <option value=\"\">Sélectionner une filière</option>\n                {filieres.map((filiere) => (\n                  <option key={filiere.id} value={filiere.id}>\n                    {filiere.nom} ({filiere.code})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n                Semestre\n              </label>\n              <select\n                value={formData.semestreId}\n                onChange={(e) => setFormData({ ...formData, semestreId: e.target.value })}\n                className=\"w-full px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                disabled={!formData.filiereId}\n              >\n                <option value=\"\">Sélectionner un semestre</option>\n                {formData.filiereId && \n                  niveaux.find(n => n.filieres?.some(f => f.id === formData.filiereId))?.semestres?.map((semestre) => (\n                    <option key={semestre.id} value={semestre.id}>\n                      {semestre.nom}\n                    </option>\n                  ))\n                }\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowEditModal(false)}\n              disabled={isSubmitting}\n            >\n              Annuler\n            </Button>\n            <Button\n              onClick={handleUpdateMatiere}\n              isLoading={isSubmitting}\n              disabled={isSubmitting}\n            >\n              Mettre à jour\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Delete Modal */}\n      <Modal\n        isOpen={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        title=\"Confirmer la suppression\"\n      >\n        {deletingMatiere && (\n          <div className=\"space-y-4\">\n            <p className=\"text-secondary-600\">\n              Êtes-vous sûr de vouloir supprimer la matière{' '}\n              <strong>{deletingMatiere.nom}</strong> ?\n            </p>\n            <p className=\"text-sm text-red-600\">\n              Cette action peut être annulée dans les 30 jours.\n            </p>\n            <div className=\"flex justify-end gap-3\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setShowDeleteModal(false)}\n              >\n                Annuler\n              </Button>\n              <Button\n                variant=\"danger\"\n                onClick={handleDeleteMatiere}\n              >\n                Supprimer\n              </Button>\n            </div>\n          </div>\n        )}\n      </Modal>\n\n      {/* Professor Assignment Modal */}\n      <Modal\n        isOpen={showAssignModal}\n        onClose={() => setShowAssignModal(false)}\n        title={`Professeurs assignés - ${assigningMatiere?.nom}`}\n        size=\"lg\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-secondary-600\">\n            Fonctionnalité d'assignation des professeurs à implémenter.\n          </p>\n          <div className=\"flex justify-end\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowAssignModal(false)}\n            >\n              Fermer\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {loading && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto\"></div>\n            <p className=\"mt-4 text-secondary-600\">Chargement...</p>\n          </div>\n        </div>\n      )}\n    </motion.div>\n  );\n};\n\nexport default MatiereManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}