{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Activity as ActivityIcon,User,FileText,Download,Upload,Eye,MessageSquare,Search,Calendar,TrendingUp,Clock,Settings,LogIn,LogOut}from'lucide-react';import{useAuth}from'../../contexts/AuthContext';import api from'../../utils/api';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Activity=()=>{const{user}=useAuth();const[logs,setLogs]=useState([]);const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[actionFilter,setActionFilter]=useState('');const[userFilter,setUserFilter]=useState('');const[dateFilter,setDateFilter]=useState('');const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[availableActions,setAvailableActions]=useState([]);const isInitializedRef=useRef(false);const isLoadingRef=useRef(false);// Animation variants matching Dashboard\nconst containerVariants={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:0.1,delayChildren:0.2}}};const itemVariants={hidden:{opacity:0,y:20,scale:0.95},visible:{opacity:1,y:0,scale:1,transition:{duration:0.5,ease:[0.25,0.46,0.45,0.94]}}};const cardVariants={hidden:{opacity:0,y:30,scale:0.9},visible:{opacity:1,y:0,scale:1,transition:{duration:0.6,ease:[0.25,0.46,0.45,0.94]}},hover:{y:-8,scale:1.02,transition:{duration:0.3,ease:'easeOut'}}};useEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='admin'&&!isInitializedRef.current){isInitializedRef.current=true;fetchAuditLogs();fetchSystemStats();fetchAvailableActions();}},[user]);// Separate useEffect for data fetching when filters change\nuseEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='admin'&&isInitializedRef.current){fetchAuditLogs();}},[currentPage,searchTerm,actionFilter,userFilter,dateFilter]);const fetchAuditLogs=async()=>{if(isLoadingRef.current)return;// Prevent multiple simultaneous calls\ntry{isLoadingRef.current=true;setLoading(true);const params={page:currentPage,limit:20};if(searchTerm)params.search=searchTerm;if(actionFilter)params.action=actionFilter;if(userFilter)params.userId=userFilter;if(dateFilter){const date=new Date(dateFilter);params.startDate=date.toISOString();const endDate=new Date(date);endDate.setDate(endDate.getDate()+1);params.endDate=endDate.toISOString();}const response=await api.get('/audit/logs',{params});setLogs(response.data.logs);setTotalPages(response.data.pagination.pages);}catch(error){console.error('Error fetching audit logs:',error);}finally{setLoading(false);isLoadingRef.current=false;}};const fetchSystemStats=async()=>{try{const response=await api.get('/audit/stats');setStats(response.data);}catch(error){console.error('Error fetching system stats:',error);}};const fetchAvailableActions=async()=>{try{const response=await api.get('/audit/actions');setAvailableActions(response.data);}catch(error){console.error('Error fetching available actions:',error);}};const getActionIcon=action=>{const iconMap={LOGIN:/*#__PURE__*/_jsx(LogIn,{className:\"h-4 w-4\"}),LOGOUT:/*#__PURE__*/_jsx(LogOut,{className:\"h-4 w-4\"}),DOCUMENT_VIEW:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"}),DOCUMENT_DOWNLOAD:/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"}),DOCUMENT_UPLOAD:/*#__PURE__*/_jsx(Upload,{className:\"h-4 w-4\"}),COMMENT_CREATE:/*#__PURE__*/_jsx(MessageSquare,{className:\"h-4 w-4\"}),PAGE_ACCESS:/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4\"}),USER_UPDATE:/*#__PURE__*/_jsx(Settings,{className:\"h-4 w-4\"})};return iconMap[action]||/*#__PURE__*/_jsx(ActivityIcon,{className:\"h-4 w-4\"});};const getActionColor=action=>{const colorMap={LOGIN:'text-green-600 bg-green-100',LOGOUT:'text-red-600 bg-red-100',DOCUMENT_VIEW:'text-blue-600 bg-blue-100',DOCUMENT_DOWNLOAD:'text-purple-600 bg-purple-100',DOCUMENT_UPLOAD:'text-orange-600 bg-orange-100',COMMENT_CREATE:'text-yellow-600 bg-yellow-100',PAGE_ACCESS:'text-gray-600 bg-gray-100',USER_UPDATE:'text-indigo-600 bg-indigo-100'};return colorMap[action]||'text-gray-600 bg-gray-100';};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit'});};const formatAction=action=>{const actionMap={LOGIN:'Connexion',LOGOUT:'Déconnexion',DOCUMENT_VIEW:'Consultation document',DOCUMENT_DOWNLOAD:'Téléchargement document',DOCUMENT_UPLOAD:'Upload document',DOCUMENT_UPDATE:'Modification document',DOCUMENT_DELETE:'Suppression document',DOCUMENT_RESTORE:'Restauration document',COMMENT_CREATE:'Création commentaire',COMMENT_UPDATE:'Modification commentaire',COMMENT_DELETE:'Suppression commentaire',PAGE_ACCESS:'Accès page',USER_UPDATE:'Modification utilisateur',PROFILE_UPDATE:'Modification profil',PASSWORD_CHANGE:'Changement mot de passe'};return actionMap[action]||action;};const getActivityDetails=log=>{var _log$details$response;if(!log.details)return null;switch(log.action){case'DOCUMENT_VIEW':case'DOCUMENT_DOWNLOAD':case'DOCUMENT_UPLOAD':case'DOCUMENT_UPDATE':case'DOCUMENT_DELETE':case'DOCUMENT_RESTORE':return log.details.documentTitle||((_log$details$response=log.details.responseData)===null||_log$details$response===void 0?void 0:_log$details$response.titre)||'Document';case'PAGE_ACCESS':// Handle different page access patterns\nif(log.details.page){return\"Page: \".concat(log.details.page);}else if(log.details.url){// Extract page name from URL\nconst urlPath=log.details.url.split('?')[0];// Remove query params\nconst pathSegments=urlPath.split('/').filter(Boolean);const lastSegment=pathSegments[pathSegments.length-1];// Map common paths to readable names\nconst pageMap={'logs':'Activité','stats':'Statistiques','actions':'Actions','documents':'Documents','trash':'Corbeille','audit':'Audit'};return\"Page: \".concat(pageMap[lastSegment]||lastSegment||'Accueil');}return'Accès page';case'LOGIN':return log.details.email?\"Email: \".concat(log.details.email):'Connexion';case'LOGOUT':return'Déconnexion';case'COMMENT_CREATE':case'COMMENT_UPDATE':case'COMMENT_DELETE':return log.details.commentContent?\"\\\"\".concat(log.details.commentContent.substring(0,50)).concat(log.details.commentContent.length>50?'...':'',\"\\\"\"):'Commentaire';case'USER_CREATE':case'USER_UPDATE':return log.details.userEmail||log.details.email||'Utilisateur';case'PROFILE_UPDATE':return'Modification du profil';case'PASSWORD_CHANGE':return'Changement de mot de passe';default:// Try to extract meaningful info from details\nif(log.details.documentTitle)return log.details.documentTitle;if(log.details.email)return log.details.email;if(log.details.url)return\"URL: \".concat(log.details.url);return null;}};if((user===null||user===void 0?void 0:user.role)!=='admin'){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(ActivityIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"Acc\\xE8s non autoris\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Cette page est r\\xE9serv\\xE9e aux administrateurs.\"})]});}if(loading&&logs.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col items-center space-y-4\",initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},transition:{duration:0.5},children:[/*#__PURE__*/_jsx(motion.div,{className:\"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full\",animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:'linear'}}),/*#__PURE__*/_jsx(motion.p,{className:\"text-secondary-600 font-medium\",animate:{opacity:[0.5,1,0.5]},transition:{duration:1.5,repeat:Infinity},children:\"Chargement des logs d'activit\\xE9...\"})]})});}return/*#__PURE__*/_jsxs(motion.div,{variants:containerVariants,initial:\"hidden\",animate:\"visible\",className:\"space-y-6\",children:[/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(motion.h1,{className:\"text-2xl font-bold text-gray-900 flex items-center\",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:0.3,duration:0.6},children:[/*#__PURE__*/_jsx(ActivityIcon,{className:\"mr-3 h-8 w-8 text-blue-600\"}),\"Activit\\xE9 du Syst\\xE8me\"]}),/*#__PURE__*/_jsx(motion.p,{className:\"text-gray-600 mt-1\",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:0.4,duration:0.6},children:\"Journal d'audit de toutes les activit\\xE9s utilisateurs\"})]})}),stats&&/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(motion.div,{variants:cardVariants,whileHover:\"hover\",className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ActivityIcon,{className:\"h-8 w-8 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Total logs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.totalLogs.toLocaleString()})]})]})}),/*#__PURE__*/_jsx(motion.div,{variants:cardVariants,whileHover:\"hover\",className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-8 w-8 text-green-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Aujourd'hui\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:stats.todayLogs})]})]})}),/*#__PURE__*/_jsx(motion.div,{variants:cardVariants,whileHover:\"hover\",className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-8 w-8 text-orange-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Cette semaine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-orange-600\",children:stats.weekLogs})]})]})}),/*#__PURE__*/_jsx(motion.div,{variants:cardVariants,whileHover:\"hover\",className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-purple-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"\\xC9volution\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:[stats.todayLogs>stats.yesterdayLogs?'+':'',((stats.todayLogs-stats.yesterdayLogs)/Math.max(stats.yesterdayLogs,1)*100).toFixed(0),\"%\"]})]})]})})]}),stats&&stats.topActions.length>0&&/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"bg-white p-6 rounded-lg shadow border\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Actions les plus fr\\xE9quentes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:stats.topActions.slice(0,6).map((action,index)=>/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:index*0.1,duration:0.5},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-full \".concat(getActionColor(action.action)),children:getActionIcon(action.action)}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:formatAction(action.action)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"#\",index+1]})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-gray-900\",children:action.count})]},action.action))})]}),/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,className:\"bg-white p-4 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Recherche\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Action\"}),/*#__PURE__*/_jsxs(\"select\",{value:actionFilter,onChange:e=>setActionFilter(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les actions\"}),availableActions.map(action=>/*#__PURE__*/_jsx(\"option\",{value:action,children:formatAction(action)},action))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateFilter,onChange:e=>setDateFilter(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm('');setActionFilter('');setUserFilter('');setDateFilter('');setCurrentPage(1);},className:\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"R\\xE9initialiser\"})})]})}),/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,className:\"bg-white shadow rounded-lg\",children:logs.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(ActivityIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"Aucune activit\\xE9 trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Aucun log d'audit ne correspond aux crit\\xE8res de recherche.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Utilisateur\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"D\\xE9tails\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date/Heure\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"IP\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:logs.map((log,index)=>/*#__PURE__*/_jsxs(motion.tr,{className:\"hover:bg-gray-50\",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:index*0.05,duration:0.5},children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-full \".concat(getActionColor(log.action)),children:getActionIcon(log.action)}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:formatAction(log.action)}),log.resource&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:log.resource})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:log.user?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-gray-400 mr-2\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[log.user.prenom,\" \",log.user.nom]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:log.user.email}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(log.user.role==='admin'?'bg-red-100 text-red-800':log.user.role==='professeur'?'bg-blue-100 text-blue-800':'bg-green-100 text-green-800'),children:log.user.role})]})]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"Syst\\xE8me\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:getActivityDetails(log)}),log.details&&log.details.url&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[log.details.method,\" \",log.details.url]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-1\"}),formatDate(log.createdAt)]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:log.ipAddress||'N/A'})]},log.id))})]})})}),totalPages>1&&/*#__PURE__*/_jsxs(motion.div,{variants:itemVariants,className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex justify-between sm:hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(Math.max(1,currentPage-1)),disabled:currentPage===1,className:\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\",children:\"Pr\\xE9c\\xE9dent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(Math.min(totalPages,currentPage+1)),disabled:currentPage===totalPages,className:\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\",children:\"Suivant\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[\"Page \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:currentPage}),\" sur\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:totalPages})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(Math.max(1,currentPage-1)),disabled:currentPage===1,className:\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\",children:\"Pr\\xE9c\\xE9dent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(Math.min(totalPages,currentPage+1)),disabled:currentPage===totalPages,className:\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\",children:\"Suivant\"})]})})]})]})]});};export default Activity;","map":{"version":3,"names":["React","useState","useEffect","useRef","Activity","ActivityIcon","User","FileText","Download","Upload","Eye","MessageSquare","Search","Calendar","TrendingUp","Clock","Settings","LogIn","LogOut","useAuth","api","motion","jsx","_jsx","jsxs","_jsxs","user","logs","setLogs","stats","setStats","loading","setLoading","searchTerm","setSearchTerm","actionFilter","setActionFilter","userFilter","setUserFilter","dateFilter","setDateFilter","currentPage","setCurrentPage","totalPages","setTotalPages","availableActions","setAvailableActions","isInitializedRef","isLoadingRef","containerVariants","hidden","opacity","visible","transition","staggerChildren","delayChildren","itemVariants","y","scale","duration","ease","cardVariants","hover","role","current","fetchAuditLogs","fetchSystemStats","fetchAvailableActions","params","page","limit","search","action","userId","date","Date","startDate","toISOString","endDate","setDate","getDate","response","get","data","pagination","pages","error","console","getActionIcon","iconMap","LOGIN","className","LOGOUT","DOCUMENT_VIEW","DOCUMENT_DOWNLOAD","DOCUMENT_UPLOAD","COMMENT_CREATE","PAGE_ACCESS","USER_UPDATE","getActionColor","colorMap","formatDate","dateString","toLocaleDateString","day","month","year","hour","minute","second","formatAction","actionMap","DOCUMENT_UPDATE","DOCUMENT_DELETE","DOCUMENT_RESTORE","COMMENT_UPDATE","COMMENT_DELETE","PROFILE_UPDATE","PASSWORD_CHANGE","getActivityDetails","log","_log$details$response","details","documentTitle","responseData","titre","concat","url","urlPath","split","pathSegments","filter","Boolean","lastSegment","length","pageMap","email","commentContent","substring","userEmail","children","div","initial","animate","rotate","repeat","Infinity","p","variants","h1","x","delay","whileHover","totalLogs","toLocaleString","todayLogs","weekLogs","yesterdayLogs","Math","max","toFixed","topActions","slice","map","index","count","type","placeholder","value","onChange","e","target","onClick","tr","resource","prenom","nom","method","createdAt","ipAddress","id","disabled","min"],"sources":["/Users/brahimkhalilkhalef/Projects/ISIArchive/frontend/src/pages/admin/Activity.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Activity as ActivityIcon,\n  Users,\n  User,\n  FileText,\n  Download,\n  Upload,\n  Eye,\n  MessageSquare,\n  UserPlus,\n  Trash2,\n  RotateCcw,\n  Search,\n  Filter,\n  Calendar,\n  TrendingUp,\n  Clock,\n  Shield,\n  AlertCircle,\n  Settings,\n  LogIn,\n  LogOut\n} from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../utils/api';\nimport { motion } from 'framer-motion';\n\ninterface AuditLog {\n  id: string;\n  action: string;\n  resource?: string;\n  resourceId?: string;\n  details?: any;\n  ipAddress?: string;\n  userAgent?: string;\n  createdAt: string;\n  user?: {\n    id: string;\n    prenom: string;\n    nom: string;\n    email: string;\n    role: string;\n  };\n}\n\ninterface SystemStats {\n  totalLogs: number;\n  todayLogs: number;\n  yesterdayLogs: number;\n  weekLogs: number;\n  topActions: Array<{\n    action: string;\n    count: number;\n  }>;\n  topUsers: Array<{\n    userId: string;\n    count: number;\n  }>;\n}\n\nconst Activity: React.FC = () => {\n  const { user } = useAuth();\n  const [logs, setLogs] = useState<AuditLog[]>([]);\n  const [stats, setStats] = useState<SystemStats | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [actionFilter, setActionFilter] = useState('');\n  const [userFilter, setUserFilter] = useState('');\n  const [dateFilter, setDateFilter] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [availableActions, setAvailableActions] = useState<string[]>([]);\n  const isInitializedRef = useRef(false);\n  const isLoadingRef = useRef(false);\n\n  // Animation variants matching Dashboard\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.1,\n        delayChildren: 0.2,\n      },\n    },\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20, scale: 0.95 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      transition: {\n        duration: 0.5,\n        ease: [0.25, 0.46, 0.45, 0.94],\n      },\n    },\n  };\n\n  const cardVariants = {\n    hidden: { opacity: 0, y: 30, scale: 0.9 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      transition: {\n        duration: 0.6,\n        ease: [0.25, 0.46, 0.45, 0.94],\n      },\n    },\n    hover: {\n      y: -8,\n      scale: 1.02,\n      transition: {\n        duration: 0.3,\n        ease: 'easeOut',\n      },\n    },\n  };\n\n  useEffect(() => {\n    if (user?.role === 'admin' && !isInitializedRef.current) {\n      isInitializedRef.current = true;\n      fetchAuditLogs();\n      fetchSystemStats();\n      fetchAvailableActions();\n    }\n  }, [user]);\n\n  // Separate useEffect for data fetching when filters change\n  useEffect(() => {\n    if (user?.role === 'admin' && isInitializedRef.current) {\n      fetchAuditLogs();\n    }\n  }, [currentPage, searchTerm, actionFilter, userFilter, dateFilter]);\n\n  const fetchAuditLogs = async () => {\n    if (isLoadingRef.current) return; // Prevent multiple simultaneous calls\n    \n    try {\n      isLoadingRef.current = true;\n      setLoading(true);\n      const params: any = {\n        page: currentPage,\n        limit: 20\n      };\n\n      if (searchTerm) params.search = searchTerm;\n      if (actionFilter) params.action = actionFilter;\n      if (userFilter) params.userId = userFilter;\n      if (dateFilter) {\n        const date = new Date(dateFilter);\n        params.startDate = date.toISOString();\n        const endDate = new Date(date);\n        endDate.setDate(endDate.getDate() + 1);\n        params.endDate = endDate.toISOString();\n      }\n\n      const response = await api.get('/audit/logs', { params });\n      setLogs(response.data.logs);\n      setTotalPages(response.data.pagination.pages);\n    } catch (error) {\n      console.error('Error fetching audit logs:', error);\n    } finally {\n      setLoading(false);\n      isLoadingRef.current = false;\n    }\n  };\n\n  const fetchSystemStats = async () => {\n    try {\n      const response = await api.get('/audit/stats');\n      setStats(response.data);\n    } catch (error) {\n      console.error('Error fetching system stats:', error);\n    }\n  };\n\n  const fetchAvailableActions = async () => {\n    try {\n      const response = await api.get('/audit/actions');\n      setAvailableActions(response.data);\n    } catch (error) {\n      console.error('Error fetching available actions:', error);\n    }\n  };\n\n  const getActionIcon = (action: string) => {\n    const iconMap: Record<string, React.ReactNode> = {\n      LOGIN: <LogIn className=\"h-4 w-4\" />,\n      LOGOUT: <LogOut className=\"h-4 w-4\" />,\n      DOCUMENT_VIEW: <Eye className=\"h-4 w-4\" />,\n      DOCUMENT_DOWNLOAD: <Download className=\"h-4 w-4\" />,\n      DOCUMENT_UPLOAD: <Upload className=\"h-4 w-4\" />,\n      COMMENT_CREATE: <MessageSquare className=\"h-4 w-4\" />,\n      PAGE_ACCESS: <FileText className=\"h-4 w-4\" />,\n      USER_UPDATE: <Settings className=\"h-4 w-4\" />,\n    };\n    return iconMap[action] || <ActivityIcon className=\"h-4 w-4\" />;\n  };\n\n  const getActionColor = (action: string) => {\n    const colorMap: Record<string, string> = {\n      LOGIN: 'text-green-600 bg-green-100',\n      LOGOUT: 'text-red-600 bg-red-100',\n      DOCUMENT_VIEW: 'text-blue-600 bg-blue-100',\n      DOCUMENT_DOWNLOAD: 'text-purple-600 bg-purple-100',\n      DOCUMENT_UPLOAD: 'text-orange-600 bg-orange-100',\n      COMMENT_CREATE: 'text-yellow-600 bg-yellow-100',\n      PAGE_ACCESS: 'text-gray-600 bg-gray-100',\n      USER_UPDATE: 'text-indigo-600 bg-indigo-100',\n    };\n    return colorMap[action] || 'text-gray-600 bg-gray-100';\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    });\n  };\n\n  const formatAction = (action: string) => {\n    const actionMap: Record<string, string> = {\n      LOGIN: 'Connexion',\n      LOGOUT: 'Déconnexion',\n      DOCUMENT_VIEW: 'Consultation document',\n      DOCUMENT_DOWNLOAD: 'Téléchargement document',\n      DOCUMENT_UPLOAD: 'Upload document',\n      DOCUMENT_UPDATE: 'Modification document',\n      DOCUMENT_DELETE: 'Suppression document',\n      DOCUMENT_RESTORE: 'Restauration document',\n      COMMENT_CREATE: 'Création commentaire',\n      COMMENT_UPDATE: 'Modification commentaire',\n      COMMENT_DELETE: 'Suppression commentaire',\n      PAGE_ACCESS: 'Accès page',\n      USER_UPDATE: 'Modification utilisateur',\n      PROFILE_UPDATE: 'Modification profil',\n      PASSWORD_CHANGE: 'Changement mot de passe'\n    };\n    return actionMap[action] || action;\n  };\n\n  const getActivityDetails = (log: AuditLog) => {\n    if (!log.details) return null;\n\n    switch (log.action) {\n      case 'DOCUMENT_VIEW':\n      case 'DOCUMENT_DOWNLOAD':\n      case 'DOCUMENT_UPLOAD':\n      case 'DOCUMENT_UPDATE':\n      case 'DOCUMENT_DELETE':\n      case 'DOCUMENT_RESTORE':\n        return log.details.documentTitle || log.details.responseData?.titre || 'Document';\n      case 'PAGE_ACCESS':\n        // Handle different page access patterns\n        if (log.details.page) {\n          return `Page: ${log.details.page}`;\n        } else if (log.details.url) {\n          // Extract page name from URL\n          const urlPath = log.details.url.split('?')[0]; // Remove query params\n          const pathSegments = urlPath.split('/').filter(Boolean);\n          const lastSegment = pathSegments[pathSegments.length - 1];\n          \n          // Map common paths to readable names\n          const pageMap: Record<string, string> = {\n            'logs': 'Activité',\n            'stats': 'Statistiques',\n            'actions': 'Actions',\n            'documents': 'Documents',\n            'trash': 'Corbeille',\n            'audit': 'Audit'\n          };\n          \n          return `Page: ${pageMap[lastSegment] || lastSegment || 'Accueil'}`;\n        }\n        return 'Accès page';\n      case 'LOGIN':\n        return log.details.email ? `Email: ${log.details.email}` : 'Connexion';\n      case 'LOGOUT':\n        return 'Déconnexion';\n      case 'COMMENT_CREATE':\n      case 'COMMENT_UPDATE':\n      case 'COMMENT_DELETE':\n        return log.details.commentContent ? \n          `\"${log.details.commentContent.substring(0, 50)}${log.details.commentContent.length > 50 ? '...' : ''}\"` : \n          'Commentaire';\n      case 'USER_CREATE':\n      case 'USER_UPDATE':\n        return log.details.userEmail || log.details.email || 'Utilisateur';\n      case 'PROFILE_UPDATE':\n        return 'Modification du profil';\n      case 'PASSWORD_CHANGE':\n        return 'Changement de mot de passe';\n      default:\n        // Try to extract meaningful info from details\n        if (log.details.documentTitle) return log.details.documentTitle;\n        if (log.details.email) return log.details.email;\n        if (log.details.url) return `URL: ${log.details.url}`;\n        return null;\n    }\n  };\n\n  if (user?.role !== 'admin') {\n    return (\n      <div className=\"text-center py-12\">\n        <ActivityIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n        <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Accès non autorisé</h3>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Cette page est réservée aux administrateurs.\n        </p>\n      </div>\n    );\n  }\n\n  if (loading && logs.length === 0) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <motion.div\n          className=\"flex flex-col items-center space-y-4\"\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ duration: 0.5 }}\n        >\n          <motion.div\n            className=\"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full\"\n            animate={{ rotate: 360 }}\n            transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n          />\n          <motion.p\n            className=\"text-secondary-600 font-medium\"\n            animate={{ opacity: [0.5, 1, 0.5] }}\n            transition={{ duration: 1.5, repeat: Infinity }}\n          >\n            Chargement des logs d'activité...\n          </motion.p>\n        </motion.div>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      variants={containerVariants}\n      initial=\"hidden\"\n      animate=\"visible\"\n      className=\"space-y-6\"\n    >\n      {/* Header */}\n      <motion.div \n        variants={itemVariants}\n        className=\"flex items-center justify-between\"\n      >\n        <div>\n          <motion.h1 \n            className=\"text-2xl font-bold text-gray-900 flex items-center\"\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.3, duration: 0.6 }}\n          >\n            <ActivityIcon className=\"mr-3 h-8 w-8 text-blue-600\" />\n            Activité du Système\n          </motion.h1>\n          <motion.p \n            className=\"text-gray-600 mt-1\"\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ delay: 0.4, duration: 0.6 }}\n          >\n            Journal d'audit de toutes les activités utilisateurs\n          </motion.p>\n        </div>\n      </motion.div>\n\n      {/* Stats Cards */}\n      {stats && (\n        <motion.div \n          variants={itemVariants}\n          className=\"grid grid-cols-1 md:grid-cols-4 gap-4\"\n        >\n          <motion.div \n            variants={cardVariants}\n            whileHover=\"hover\"\n            className=\"bg-white p-4 rounded-lg shadow border\"\n          >\n            <div className=\"flex items-center\">\n              <ActivityIcon className=\"h-8 w-8 text-blue-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-500\">Total logs</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{stats.totalLogs.toLocaleString()}</p>\n              </div>\n            </div>\n          </motion.div>\n          \n          <motion.div \n            variants={cardVariants}\n            whileHover=\"hover\"\n            className=\"bg-white p-4 rounded-lg shadow border\"\n          >\n            <div className=\"flex items-center\">\n              <Clock className=\"h-8 w-8 text-green-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-500\">Aujourd'hui</p>\n                <p className=\"text-2xl font-bold text-green-600\">{stats.todayLogs}</p>\n              </div>\n            </div>\n          </motion.div>\n          \n          <motion.div \n            variants={cardVariants}\n            whileHover=\"hover\"\n            className=\"bg-white p-4 rounded-lg shadow border\"\n          >\n            <div className=\"flex items-center\">\n              <Calendar className=\"h-8 w-8 text-orange-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-500\">Cette semaine</p>\n                <p className=\"text-2xl font-bold text-orange-600\">{stats.weekLogs}</p>\n              </div>\n            </div>\n          </motion.div>\n          \n          <motion.div \n            variants={cardVariants}\n            whileHover=\"hover\"\n            className=\"bg-white p-4 rounded-lg shadow border\"\n          >\n            <div className=\"flex items-center\">\n              <TrendingUp className=\"h-8 w-8 text-purple-600\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-gray-500\">Évolution</p>\n                <p className=\"text-2xl font-bold text-purple-600\">\n                  {stats.todayLogs > stats.yesterdayLogs ? '+' : ''}\n                  {((stats.todayLogs - stats.yesterdayLogs) / Math.max(stats.yesterdayLogs, 1) * 100).toFixed(0)}%\n                </p>\n              </div>\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n\n      {/* Top Actions */}\n      {stats && stats.topActions.length > 0 && (\n        <motion.div \n          variants={itemVariants}\n          className=\"bg-white p-6 rounded-lg shadow border\"\n        >\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Actions les plus fréquentes</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {stats.topActions.slice(0, 6).map((action, index) => (\n              <motion.div \n                key={action.action} \n                className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: index * 0.1, duration: 0.5 }}\n              >\n                <div className=\"flex items-center\">\n                  <div className={`p-2 rounded-full ${getActionColor(action.action)}`}>\n                    {getActionIcon(action.action)}\n                  </div>\n                  <div className=\"ml-3\">\n                    <p className=\"text-sm font-medium text-gray-900\">{formatAction(action.action)}</p>\n                    <p className=\"text-xs text-gray-500\">#{index + 1}</p>\n                  </div>\n                </div>\n                <span className=\"text-lg font-bold text-gray-900\">{action.count}</span>\n              </motion.div>\n            ))}\n          </div>\n        </motion.div>\n      )}\n\n      {/* Filters */}\n      <motion.div \n        variants={itemVariants}\n        className=\"bg-white p-4 rounded-lg shadow border\"\n      >\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Recherche</label>\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\n              <input\n                type=\"text\"\n                placeholder=\"Rechercher...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Action</label>\n            <select\n              value={actionFilter}\n              onChange={(e) => setActionFilter(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Toutes les actions</option>\n              {availableActions.map(action => (\n                <option key={action} value={action}>{formatAction(action)}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date</label>\n            <input\n              type=\"date\"\n              value={dateFilter}\n              onChange={(e) => setDateFilter(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n          \n          <div className=\"flex items-end\">\n            <button\n              onClick={() => {\n                setSearchTerm('');\n                setActionFilter('');\n                setUserFilter('');\n                setDateFilter('');\n                setCurrentPage(1);\n              }}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Réinitialiser\n            </button>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Activity Log */}\n      <motion.div \n        variants={itemVariants}\n        className=\"bg-white shadow rounded-lg\"\n      >\n        {logs.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <ActivityIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Aucune activité trouvée</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Aucun log d'audit ne correspond aux critères de recherche.\n            </p>\n          </div>\n        ) : (\n          <div className=\"overflow-hidden\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Action\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Utilisateur\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Détails\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Date/Heure\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    IP\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {logs.map((log, index) => (\n                  <motion.tr \n                    key={log.id} \n                    className=\"hover:bg-gray-50\"\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: index * 0.05, duration: 0.5 }}\n                  >\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className={`p-2 rounded-full ${getActionColor(log.action)}`}>\n                          {getActionIcon(log.action)}\n                        </div>\n                        <div className=\"ml-3\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {formatAction(log.action)}\n                          </div>\n                          {log.resource && (\n                            <div className=\"text-xs text-gray-500\">\n                              {log.resource}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </td>\n                    \n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {log.user ? (\n                        <div className=\"flex items-center\">\n                          <User className=\"h-4 w-4 text-gray-400 mr-2\" />\n                          <div>\n                            <div className=\"text-sm font-medium text-gray-900\">\n                              {log.user.prenom} {log.user.nom}\n                            </div>\n                            <div className=\"text-xs text-gray-500\">\n                              {log.user.email}\n                            </div>\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                              log.user.role === 'admin' ? 'bg-red-100 text-red-800' :\n                              log.user.role === 'professeur' ? 'bg-blue-100 text-blue-800' :\n                              'bg-green-100 text-green-800'\n                            }`}>\n                              {log.user.role}\n                            </span>\n                          </div>\n                        </div>\n                      ) : (\n                        <span className=\"text-sm text-gray-500\">Système</span>\n                      )}\n                    </td>\n                    \n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm text-gray-900\">\n                        {getActivityDetails(log)}\n                      </div>\n                      {log.details && log.details.url && (\n                        <div className=\"text-xs text-gray-500 mt-1\">\n                          {log.details.method} {log.details.url}\n                        </div>\n                      )}\n                    </td>\n                    \n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      <div className=\"flex items-center\">\n                        <Calendar className=\"h-4 w-4 mr-1\" />\n                        {formatDate(log.createdAt)}\n                      </div>\n                    </td>\n                    \n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {log.ipAddress || 'N/A'}\n                    </td>\n                  </motion.tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </motion.div>\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <motion.div \n          variants={itemVariants}\n          className=\"flex items-center justify-between\"\n        >\n          <div className=\"flex-1 flex justify-between sm:hidden\">\n            <button\n              onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\n              disabled={currentPage === 1}\n              className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\"\n            >\n              Précédent\n            </button>\n            <button\n              onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\n              disabled={currentPage === totalPages}\n              className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\"\n            >\n              Suivant\n            </button>\n          </div>\n          \n          <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-700\">\n                Page <span className=\"font-medium\">{currentPage}</span> sur{' '}\n                <span className=\"font-medium\">{totalPages}</span>\n              </p>\n            </div>\n            <div>\n              <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                <button\n                  onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\n                  disabled={currentPage === 1}\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\"\n                >\n                  Précédent\n                </button>\n                <button\n                  onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\n                  disabled={currentPage === totalPages}\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\"\n                >\n                  Suivant\n                </button>\n              </nav>\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </motion.div>\n  );\n};\n\nexport default Activity; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}